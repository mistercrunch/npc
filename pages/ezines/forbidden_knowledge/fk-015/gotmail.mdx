---
title: "gotmail"
ezine: "forbidden_knowledge"
---

# gotmail

**Ezine:** forbidden_knowledge

<div className="ascii-content">

```
#!/bin/sh

test $# -eq 0 && { echo "usage: gotmail [username] [number]" 1>&2; exit 1; }

rm='/bin/rm'

username=$1
number=$2
tempdir='/tmp/'
filename='makemsg.$$'
file=$tempdir$filename

while [ $# != 0 ]; do
  sleep 5m;
  if [ -f /var/mail/"$username" ]; then
    cat /var/mail/"$username"|grep From: > $file;
    message=`cat $file`;
    msgcount=`wc -l $file|awk '{print $1}'`;
    rm $file;
    cat /var/mail/"$username" >> /home/"$username"/mbox;
    rm /var/mail/"$username"; 
    vodasms $number "you got mail! $msgcount messages: $message";
  fi;  
done;

```

</div>
