---
title: "04"
ezine: "mindkind"
---

# 04

**Ezine:** mindkind

<div className="ascii-content">

```````


                                                        |                       
  ,--.,    x           .           __^__              -=*=-                     
,' NG  \                      ---   "`-.                |       .     ;         
 MOON  T|      +            -   --  | }`       `                                
 /X@  BG|          x         --     / /--.                                      
\     H/                  -     ===/  \===E                w    {\_/}    w      
 `'--'`    ,        .       ---   /   /         *          /`-_.-{"}-._-'\      
                                 `---`                    / ,    '?'    , \     
   ,         _.-.,,          ,                     x     / / \./;"-";\./ \ \    
  -+-      -`  .|.,,`'-.,,_               ,              '`_-`         `',`'    
   `    ,-` ,-` |\  ``'-.,,_''--,                         /               \     
      ,'  -`  \\\\\.,       `''-/,',   ,,,,,,,,,,,,,,    |       BY        |    
  __ /- -'   \\`   X `     /`--   `','.,             ',,,|                 |, _ 
``  '| `. ', \|  X v` |  // ^--``\_, `','.,              |                 | `  
     |   `. `.`.   -` `\//  /` ``\  ;-  `',`-,           |-=[  Wyzeman  ]=-|    
     |     `. `.='-'` \  `-/  /  .`;\|     `'.`',        |                 |    
     |       '/..````/.\,  ```\/`  .          `'.`'.,    |                 |    
     |-=[O4]=-|  ``'-,,  `''.,,``-/` _/`\        `'.,'., |                 |    
     \_       |        ``'.,,  `'-.,/  . `\_         '.,`-,                |    
      ``.     |              ``'.,,  `'-,,  ``---.      '.,`',             |    
         `,   |   -=[              `''.,, ``'.,,-/``--.,   `.,`'.,         |    
           ', |            Mod_          `'-.,_ `''.,.  `|    `-, '.-------     
             '\,_             rewrite          `'-.,_ `'-.`_     `_.-`-.        
 |\-.,,          ``-.,_                              `'-.,  `'+-'`.-`` |        
`      ', ,|\.,        ``-.,_                     ]=-     ``'-|'`      |        
 V   V  ,'     `\            `'-.,_                           |        |        
   L _|\-.,7  7  |                 `'-.,      |\-/|         /;|        |        
`--,'       `../ |                      ``'-. |o o|_ --. ,-`/ |        |        
  |   G   G   | /                            `-=+=- `   ` /`  |      ,-/        
`'|  ., ` ,.  |``````''-.,                     `\, .--_  |    |  ,-'`           
   ', \`=`/ ,`            `',,                   |/   ; / ``'--'`      _,,.---- 
     `''--'`                  `-,,               ||   ||           ,.-`         
                                  ```''-------___"____"______,--''`             
=[Aka :  A la conquete de son SEO interieur ]=-                                       




        Vous  connaissez  la  nouvelle  mode  ?   le   SEO,   search   engine 
optimisation.   What   the  fuck  is search engine optimisation ? C'est l'art 
d'optimiser votre site web pour les sites de recherches voyons (merci pour la
traduction  dude,  mais  sincΦrement, ca veut dire quoi ? ). Ca veut dire que 
les sites comme google utilise des robots nommΘs  crawler pour  analyser   le 
contenu  de  vos  sites web pour determiner α quel place il va le sortir pour 
tel tel  tel  et  tel  requΦte qu'on lui demande. Comme le dΘmontre les stats 
suivantes receuilli sur www.mindkind.org, optimiser sont site pour google est 
une bonne idΘe, les autres crawlers vous en avez rien α foutre ;


- Google 421 421 
- Google (Images) 38 50 
- MSN 24 24 
- AltaVista 9 9 
- Lycos 7 7 
- Yahoo 6 6 
- AOL (fr) 3 4 
- WebCrawler 3 3 
- Ask Jeeves 1 1 


        Une  base  simple  est  α  respecter  pour  google. il n'aime pas les 
arguments  php  et adore les .html . A un point t'el qu'un module de apache a 
ΘtΘ   dΘvellopΘ   spΘcialement   afin   de   mapper   des   .html   sur   des 
?page=1&id=2&jaipudidee=5 ,  il  s'agit   de  mod_rewrite.  C'est  un  outils 
indispensable au webmestre moderne, sauf que sont emploit peu etre chian dans 
un site dont le contenu est dynamique. Il peut  devenir  rapidement fastidieu 
d'updater votre .htaccess α chaque file uploader sur votre  site web. N'Θtant 
pas plus imunisΘ α se probleme de naissance que vous,  je  me suis  devellopΘ 
quelque petit outils de base en php qui me permettre de sauver extrΦmement de 
temps  tout  en  gardant  mon  site  web  facilement accessible α mon bon ami 
googlebot. 




<?PHP
//exemple des variables necessaire, ce nest pas mauvais non plus de les 
//requires dun autre file
//path du htaccess
$conf['htfile'] ="";
//array des chan a lister
$conf['dir'][0] = "";


//vous devriez ici creer un script qui appelle le listing des file et la 
//creation des links, jimagine que vous etes assez grand pour le faire


        //cette fonction retourne la liste des files dun directory dans un 
        //array
        function lsfile($dir)
                {
                $x=0;
                $ls=opendir($dir);
                while(false !== ($lsdir = readdir($ls)))                
                        {
                    if(!is_dir($dir."/".$lsdir))
                                {
                                $flist[$x]=$lsdir;
                                $x++;
                                }
                        }
                return($flist);

                }

        //cette fonction output le contenu dun fichier dans un buffer
        function read_file($file)
                {
                @$fid=fopen($file,"r");
                $page="";
                if ($fid)
                        {
                        while (!feof($fid))
                                {
                                $page=$page.fread($fid,1024);
                                }
                        fclose($fid);
                        }
                
                else
                        {
                        $page=0;
                        }
                return($page);
                }

        //cette fonction rajoute une ligne a la fin dun fichier
        function write_file($file, $data)
                {
                $tag = FALSE;
                @$fid=fopen(tfile,"a+");
                if($fid)
                        {
                        fputs($fid,$data);
                        fclose($fid);
                        $tag = TRUE;
                        }
                return($tag);
                }


        // cette fonction ajoute une regle de type mod_rewrite au fichier 
        //htaccess en sassurant qu'elle nexiste pas deja
        function mod_rewrite($conf, $moo, $url)
                {
                $tag = FALSE;
                $mod_rewrite_rule = "RewriteRule ".$moo.".html ".$url;
                if (!is_mod_rewrite($conf, $mod_rewrite_rule))
                        {
                        write_file($conf['htfile'], $mod_rewrite_rule);
                        $tag = TRUE;
                        }
                return($tag);
                }


        // cette fonction verifi si la regle a ajouter existe deja dans le 
        //fichier .htaccess
        function is_mod_rewrite($conf, $mod_rewrite_rule)       
                {
                $tag = FALSE;
                $buf = read_file($conf['htfile']);
                $string = explode("\r",$buf);
                while($x=0;$x&lt;count($string);$x++)
                        {
                        if ($string[$x] == $mod_rewrite_rule)
                                {
                                $tag = TRUE;                            
                                }
                        }               
                return($tag);
                }


        // cette fonction creer le lien a clicker sur le site
        function craft_file_links($conf, $flist)
                {
                if (is_array($flist))
                        {
                        //sort($flist);
                        for ($x=0;$x&lt;count($flist);$x++)
                                {
                                $url="index.php?file=$x";
                                $moo = explode(".",$flist[$x]);
                                $href = $moo[0]."html";
                                echo "- &lt;A HREF=\"".$url."\">$href&lt;/A>";
                                
                                mod_rewrite($flist[$x], $moo);
                                }
                        }
                }

?>



        l'ideal  serait  donc  de partager ses 2 types de fonction en 2classe 
distinque,  soit  filesystem et mod_rewrite et etre appeller par un index.php 
indepandant, cependant dans le cas de petite page, simplement incluse se code 
dans l'index.php et vous sauverez beaucoup de temps, maintenant plus d'excuse 
pour ne pas etre en premiere page de google ;]

                                                                      wyzeman
```````

</div>
