---
title: "019"
ezine: "neomenia"
---

# 019

**Ezine:** neomenia

<div className="ascii-content">

```
->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->
 ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ ·♦ · ♦
<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-

  019. Curso de programación en C (I).....................por Kapitán Sponja

->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->
 · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ · ♦ ·♦ · ♦ ·
<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-

        1. INTRODUCCIαN:
        ~~~~~~~~~~~~~~~~
        Bueno, antes de empezar con la materia, me gustaría hacer algunas
  aclaraciones para que todos podamos aprovechar al máximo este curso.

        Antes de nada me presentaré: Soy el Kapitán Sponja y esta es mi
  primera incursión en cuanto a la escritura de artículos, por lo tanto
  espero que seáis buenos compañeros y me echéis una mano a mejorar. NO soy
  ningún gurú de la informática ni nada por el estilo, pero creo tener el
  nivel suficiente para escribir esta sección de forma que todo el mundo
  pueda tener un acceso fácil al Lenguaje C, mientras yo también repaso mis
  conocimientos.

        En esta sección no tengo previsto hacer una profunda revisión de todo
  el Lenguaje C, ni hacer virgerías, ni nada por el estilo. Simplemente voy
  a intentar dar una primera aproximación a los novatos en esto de la pro-
  gramación, de cual es la filosofía del C y repasar un poco todos los puntos
  básicos que deben conocerse para poder hacer un programa en C.

        Bueno, muchos os preguntaréis: Pero, ¿por que C? Bueno, si estáis
  leyendo esta revista es que os interesa el mundo underground y supongo
  que ya habréis leído o álguien os habrá dicho que lo mejor para el hacking
  es tener el sistema operativo Unix o Linux en su defecto, o por lo menos
  tener un amplio conocimiento de estos sistemas, ya que son los más utili-
  zados en cuestión de redes. Si, bueno y eso, ¿que tiene que ver con el
  C? Calma, calma. Unix fue diseñado allá por los años 70 y, ¿adivináis en
  que lenguaje se programó? Si, C. TODOS los sistemas Unix llevan incorpo-
  rado un compilador de C estándar, por lo tanto teniendo Unix y algo de
  conocimiento de C podemos crear programas en C, compilarlos en la máquina
  que estemos y ejecutárlos sin necesidad de traer el ejecutable ya compilado
  y arriesgarnos a que no funcione, o cualquier otro rollo que se os pueda
  ocurrir. Si os dáis una vuelta por otros e-zines, cosa que os recomiendo,
  no por que este sea malo, sino porque todo lo que leáis y escuchéis van a
  ser más conocimientos sobre este interesante mundo que no deja de evolucio-
  nar, por lo tanto siempre puedes aprender muchas cosas de otra gente que
  sabe más que tu. Pues eso, que si miráis otros os daréis cuenta de la
  cantidad de programas fuentes de C para Unix que hay, ahí es donde voy:
  mi principal objetivo en esta sección es la de que cuando veas alguno de
  estos programas no te limites a borrarlo porque no te interesa, o a usarlo
  sin ni siquiera entender una línea, sino que seas capaz de seguir el curso
  del programa y hasta modificarlo a tu gusto (si eres capaz, claro).

        Dicho esto comencemos un poquito con nuestro curso. Los que ya conoz-
  cáis algo de C bajo DOS o Windows os recomiendo que leáis la sección de
  asignación de memoria, cuando lleguemos, ya que es la principal diferencia
  entre estos sistemas operativos, pues Unix gestiona la memoria de una forma
  diferente al DOS. Los que no tengáis ni idea de C, seguídlo desde el prin-
  cipio y no os saltéis capítulos, ya que los capítulos siguientes se apo-
  yarán en los anteriores.


        1.1 COMPILADOR DE C:
        ~~~~~~~~~~~~~~~~~~~~
        El compilador que vamos a usar será el que trae por defecto el sis-
  tema operativo Unix, el CC o el GCC. Estos compiladores entienden un C
  estándar, pero... ¿que significa esto? Pues esto quiere decir que los pro-
  gramas en C que hagamos serán entendidos por cualquier compilador de C.
  Esto quita un poco de facilidad en algunos aspectos, por ejemplo no tendre-
  mos manejo de gráficos, ni de pantalla, ya que estas librerías no son es-
  tándares, pero así nos aseguramos de que nuestro programa funcionará tanto
  en casa, en la Universidad o en un sistema que estamos hackeando. Si no
  tenéis Unix o Linux, también podéis seguir este cursillo, ya que lo daremos
  más a un nivel teórico que con muchos ejemplos (aunque siempre es bueno
  poder practicar, claro esta).

        Para compilar nuestros programas debemos escribir el código fuente
  con un editor cualquiera, y luego escribir desde el sistema operativo (GCC
  o CC, dependiendo del compilador que usemos):

  gcc nombre.c

        Esto genera un fichero llamado a.out donde tendremos nuestro ejecuta-
  ble. Para dirigir el ejecutable a otro archivo usad la opción -o:

  gcc nombre.c -o nombre.x

        Para ejecutar el programa, escribid nombre.x


        1.2. PRIMEROS PASOS EN C:
        ~~~~~~~~~~~~~~~~~~~~~~~~~
        Pues sí. Allá vamos: En este primer capítulo veremos el esquema ge-
  neral de un programa en C, para que vayáis tomando contacto con este len-
  guaje.

        Un programa en C se compone de tres partes principales:

        -Directivas al preprocesador y variables globales.
        -Función principal.
        -Zona de funciones.


        1.2.1. DIRECTIVAS AL PREPROCESADOR Y VARIABLES GLOBALES:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~            
        Primero y antes de nada, definámos los términos. Una directiva al
  preprocesador es una instrucción que se evalua antes de compilar el progra-
  ma. Hay distintas directivas, ya iremos viendo algunas de ellas, y para que
  sirven. Por ahora saber que una directiva viene precedida de # por lo tanto
  si véis alguna instrucción en C con este simbolo ya sabéis lo que es.

        Una variable global, es una variable que es reconocida por todo el
  programa, es decir, tanto el principal como las funciones a las que llame.
  Dicho esto pasamos a definir esta zona, en un principio localizamos las
  directivas, posteriormente los prototipos de las funciones que creemos, que
  no he hablado antes de ellas porque se incluyen en las directivas, y por
  último las variables globales. Esto es solo por estética y intentar guardar
  un orden, si no queréis hacerlo así no estáis obligados.


        1.2.2. FUNCIαN PRINCIPAL:
        ~~~~~~~~~~~~~~~~~~~~~~~~~            
        Aquí tenemos el código de nuestro programa. En C, la función princi-
  pal debe tener el nombre "main", si no es así nos dará un error. Tras main
  se abrirá una llave, y se escribirán las variables locales, que son las
  conocidas solo por la función donde son declaradas, y las sentencias del
  programa. Al final se termina cerrando una llave.


        1.2.3. ZONA DE FUNCIONES:
        ~~~~~~~~~~~~~~~~~~~~~~~~~            
        En esta zona tendremos las funciones que hayámos creado para nuestro
  programa. Cada función debe tener su prototipo declarado en la zona de
  directivas, y posteriormente, debajo del main se desarrolla el código para
  cada función. Pero esto lo veremos con más detalle en próximos capítulos.


        1.3. PEQUEÑAS PARTICULARIDADES DE C:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~          
        -Los comentarios en C se ponen de esta forma: /*comentario*/.
        -El Lenguaje C diferencia mayúsculas de minúsculas, por lo tanto será
         diferente la variable d1 de D1, mucho cuidado con esto.
        -Excepto las directivas, el resto de las sentencias en C terminan con
         un ; que no se nos olvide, o dará un error en la compilación.
        

        Para finalizar esta primera entrega, os doy este programita en C para
  que vayáis mirando lo aprendido y aclaréis algunas dudas:

/*Este es el programa más visto del mundo*/
/*COMIENZA LA ZONA DE DIRECTIVAS*/
#include "stdio.h"
#include "stdlib.h"
/*FIN DE LA ZONA DE DIRECTIVAS*/
/*COMIENZO DEL MAIN*/
main()
{
        system("clear")        
        printf("Esto funciona porque soy un monstruo.");
}
/*FIN DEL MAIN*/
/*AL NO HABER FUNCIONES NO HAY ZONA DE FUNCIONES Y EL PROGRAMA SE TERMINA Y
ESTA LISTO PARA SER COMPILADO*/


        Comentarios sobre el programa:

        Pasamos a ver línea a línea que hace este programa:

        Las dos primeras líneas, como podéis ver, son de comentarios, ya que
  vienen encerradas entre /* y */ como dije antes.

        Las siguientes dos líneas son directivas include. Este tipo de di-
  rectivas nos sirve para incluir un archivo dentro de nuestro programa, es
  como si añadiéramos el código de este archivo al de nuestro programa. Por
  lo tanto, lo que hacemos es "añadir" el código de los archivos stdio.h y
  stdlib.h a nuestro programa. Y esto, ¿para qué? Pues muy simple, dentro de
  los archivos con extensión *.h, tenemos además de otras cosas los proto-
  tipos de las funciones que vamosa usar en nuestro programa. Esto quiere
  decir que, por ejemplo, para poder usar la función printf(); que sirve para
  escribir por pantalla, debemos "decirle" al compilador como es esa función,
  o sea, que parámetros recibe y que parámetros retorna. Esto es lo que hace
  el prototipo de una función. En el fichero stdio.h, tenemos los prototipos
  de entrada y salida estándar (standar-input-output), es decir, salida por
  pantalla y entrada por teclado. El stdlib nos da el prototipo de system();
  que llama al sistema operativo para ejecutar un comando.

        Stdlib (standard library) es un conjunto de funciones de uso general.
  Existen más archivos de cabecera, como el math.h para operacioens matemáti-
  cas, pero stdio y stdlib nos serán indispensables casi siempre.

        Continuamos y encontramos a main(), esto nos indica que va a comezar
  el programa principal, los paréntesis son necesarios aunque no pongáis
  nada, pues main puede recibir datos desde la línea de comandos, y estos
  irían ahí, pero por ahora limitaos a dejarlo vacío, ya que no loa necesita-
  remos aún.

        Abrimos la llave y comenzamos con el código. La sentencia system();
  llama al sistema operativo para ejecutar un comando, en este caso clear,
  que es similar al cls del DOS, para limpiar la pantalla, el comando a eje-
  cutar debe ir entre comillas dobles ("").
        
        La siguiente sentencia es printf();. Esta sentencia es muy común ya
  que nos permite escribir en la pantalla. En este caso, escribimos lo que
  hay entre las comillas dobles. Más adelante estudiaremos más a fondo esta
  sentencia. Cerramos la llave y por lo tanto finalizamos el main, y con ello
  el programa.


        2. TIPOS DE DATOS:
        ~~~~~~~~~~~~~~~~~~

        TIPO:           DESCRIPCIαN:            FORMATO:
                                                "i" ó "d"
        int             entero                  "f"
        float           real                    "c"
        char            carácter                "lf"
        double          real


        Estos son los tipos de datos básicos que usa C:

        -int: Valor entero representado normalmente (a veces varía según el
              compilador) por dos bytes.

        -float: Representa valores reales (admiten decimales) y se representa
                con cuatro bytes.

        -char: Variables que almacenan UN SOLO carácter en un byte. No alma-
               cenan cadenas, ya veremos esto más adelante con atención.

        -double: Este es un tipo ampliado del real. Es igual que el real pero
                 almacena los datos en 8 bytes.


        Os estaréis preguntando: "¿Pero que coj@#&= es eso del formato? Pues
  bueno, cuando veamos la entrada y salida de datos, veremos que por ejemplo,
  al capturar una varieble desde el teclado se le debe "decir" al compliador
  que tipo de variable vamos a coger, para que el compilador sepa como debe
  almacenarla. Por ahora no entraremos más a fondo, pero recordad bien cada
  tipo el formato que usa ya que es un problema corriente ese de estar media
  hora delante de un programa perfecto y que este no funcione correctamente
  porque confundimos el tipo de dato.

        Sigamos. A partir de estos datos básicos, con unos modificadores ob-
  tenemos nuevos datos. Estos modificadores son long y unsigned. El modifica-
  dor long se utiliza con int y double, obteniendo un tipo de dato de las
  mismas características pero que se almacena en más bytes, por lo tanto
  podemos almacenar un número mayor.

        El otro modificador es unsigned. Este modificador se aplica a todos
  los tipos. Lo que hace es anular el bit de signo que usa el compilador para
  representar números negativos, y usarlo para representar más números posi-
  tivos.

        Un último modificador es el short, pero debido a su escaso uso no lo
  vamos a ver. Lo dejo por si lo véis por algún otro lado, pero es muy
  inusual.

        Los modificadores pueden usarse en conjuntos para crear tipos como
  "unsigned long int" por ejemplo, aunque estos tipos son poco usados.
  Normalmente los básicos y poco más son necesarios para programar.


        3. OPERADORES ARITMETICOS:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~
        Como su propio nombre indica, vamos a ver como realizar las operacio-
  nes aritméticas básicas. El lenguaje C permite estos operadores:

        + = Operador suma.
        - = Operador resta.
        / = División.
        * = Producto.
        % = Operador módulo.
   
        Estos operadores son los de toda la vida. Sólo vemos uno desconocido:
  el módulo. Este es un operador que retorna el resto de una división:

        x = 15 % 6;

        Si imprimimos "x" veremos que tiene el valor 3, que es el resto de
  dividir 15 entre 6, mientras que:

        x = 15 /6;

        tendría valor 2, que es el cociente de la división. No confundir estos
  operadores, es muy corriente.

        Otros operadores menos usados son los operadores de desplazamiento de
  bits:

        >> = Desplaza los bits a la derecha.
        << = Desplaza los bits a la izquierda.

        Al desplazar a la derecha dividimos por la potencia 2, y a la izquier-
  da multiplicamos. O sea, que si tenemos número >> 2 dividiremos por cuatro
  a número, y con número << 2 lo multiplicamos por dos. Estos operadores son
  más rápidos que la multiplicación y la división normal, pero al ser un poco
  complejos de usar no son habituales.

        ¡Importante! El resultado del operador división depende d elos datos
  que usemos. Una división entre enteros da un resultado entero, si es entre
  reales será real. En el caso de que sean datos diferentes tiene preferencia
  el que use mayor número de bits. para evitar problemas usamos un casting o
  molde, con el fin de asegurarnos de que el dato resultante es del tipo que
  queremos. Ejemplo:

        Tenemos una variable "i" que es real:

        i = a / b;

        En el caso de que "a" y "b" sean enteros "i" nunca almacena los deci-
  males a que el resultado de dividir un entero entre otro siempre es un en-
  tero. Solucionamos esto con un molde:

        i = (float) a /b;

        Esto indica que el resultado lo queremos almacenar como real. Podemos
  utilizar molde para cualquier tipo (int), (long int), etc...

        Para usar otro tipo de operaciones matemáticas más complejas como
  potencias, senos, cosenos, tangentes, etc. se incluye el fichero cabecera
  math.h y DEBE COMPILARSE con la librería matemática, si no habrá error de
  compilación.

        Para compilar con la librería matemática:

        cc fichero.c -lm


        4. ENTRADA Y SALIDA DE DATOS:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        Existen en lenguaje C numerosas funciones para la entrada y salida de
  datos. Nosotros nos limitaremos a las funciones más corrientes y que, por
  otra parte, son las más utilizadas, ya que valen para todo. Los prototipos
  de todas estas funciones están en stdio.h.


        4.1. ENTRADA DE DATOS:
        ~~~~~~~~~~~~~~~~~~~~~~
        La entrada de datos se produce a través de la entrada estándar stdin,
  que es el teclado. Para capturar valores numéricos usaremos la función:

        scanf();

        ¿Como se usa esto? Pues así:

        scanf("formato",&variable);
       
        Aquí tenemos la importáncia del formato antes visto: si declaramos
  una variable de un tipo y el formato que ponemos es distinto NO dará error
  el compilador, pero la forma de almacenar el dato será incorrecta y a la
  hora de usar ese dato no sabemos que puede contener.
        
        El ampersand (el simbolo &), por ahora limitaos a ponerlo delante de
  la variable a capturar, más adelante veremos su utilidad, y el porqué de su
  uso.

        Por ejemplo:

        scanf("%i",&v1);/*siendo v1 una variable entera*/

        También podemos capturar más de una variable al mismo tiempo:
        
        scanf("%i %f",&a,&b);

        Si el dato a capturar es un carácter usaremos la función:

        getchar();

        En este caso no es necesario el formato, sólo igualamos la variable
  tipo char a getchar y tenemos el carácter pulsado. Por ejemplo:

        car=getchar();/*siendo car tipo char*/

        Por último, si lo que vamos a capturar es una cadena de carácteres
  usaremos:

        gets();

        Tampoco es necesario el formato. Por ejemplo:

        gets(nombre);

        Este tipo de dato lo veremos más edalante por ser algo peculiar, pero
  no olvidéis que cuando vayáis a capturar una cadena hacerlo con gets();.

        Tanto las cadenas como los carácteres pueden capturarse con scanf();
  pero esta función da ciertos problemas con estos tipos, por lo que se usan
  funciones específicas para ellos.

        ¡Importante! Cuando cambiamos de función en el momento de capturar,
  pasamos de scanf(); a gets(); o a getchar(); en ocasiones residuos en el
  búffer del teclado, que pueden hacer que el programa no funcione correcta-
  mente. Si tenéis un error en la ejecución Segmentation Fault, o simplemente
  intentáis capturar un dato, y el programa salta esa línea sin dejar intro-
  ducirlo, entonces debéis borrar el búffer. Para esto se usa la función
  fflush();, que limpia el búffer que se indique, en este caso stdin, o el
  teclado. Por ejemplo:

        scanf("%f",&interes);
        opcion=getchar();

        Imaginemos que al llegar a esta sección del código podemos introducir
  el interés, pero cuadno llegamos al getchar, lo salta sin dejarnos introdu-
  cir el carácter. Esto lo arreglamos con el fflush:

        scan(%f",&interes);
        fflush(stdin);
        opcion=getchar();
        

        4.2. SALIDA DE DATOS:
        ~~~~~~~~~~~~~~~~~~~~~
        Para la salida de datos solo usaremos una función, lo cual nos va a
  facilitar el trabajo. Es la función printf(); que ya hemos visto por encima
  antes.

        printf();

        Esta función nos permite imprimir tanto texto como variables. Su uso
  es el siguiente:

        printf("Texto y formatos",variables);

        Los variables deben ir en orden de aparición con los formatos. Ahora
  me explico con un ejemplo:

        printf("El valor de a es:%i, y de b es:%f",a,b);/*siendo a int y b
        float*/

        Esto nos daría la siguiente salida por pantalla para a valor 3 y b
  valor 1.2.

        El valor de a es:3, y el de b es:1.2.

        Los formatos sustituyeron a las variables dentro de las comillas, por
  lo tanto si cambiamos el tipo o el orden NO habrá error en la compilación,
  pero el programa no funcionará de forma correcta. Para imprimir carácteres
  también se usa esta función, con el formato%c y %s para cadenas de carác-
  teres. La función printf(); incorpora nuevos formatos de forma que podamos
  visualizar valores numéricos en diferentes sistemas de numeración. El
  formato %o nos muestra el valor en forma actual, y el %X nos lo muestra en
  forma hexadecimal. También puede usarse %x para que aparezcan las letras
  en minúscula.

        Por último, printf(); permite secuencias de escape, que van dentro de
  las comillas, y que tienen diversas utilidades:

        \n = Provoca un salto de línea.
        \t = Tabulación.
        \a = Provoca un pitído en el speaker.

        Existen otros, pero estos tres son los más comunes.
        
        Bueno, pues ya vamos avanzando. Ya podemos empezar a hacer algo con
  el C, aunque no sea gran cosa. Os dejaré un programilla planteado para que
  lo vayáis haciendo y así practicáis un poco. En la próxima entrega ya lo
  resuelvo.

        El programa es muy simple. Debe pedir por pantalla el número de lan-
  zamientos realizados por un jugador de baloncesto y el número de aciertos,
  y calcular posteriormente el porcentaje de acierto del jugador e imprimirlo
  por la pantalla.

        Pues ya está, por hoy hemos terminado. Continuaremos otro día que por
  hoy ya está bien. Para cualquier consulta, duda, crítica, cagarse en mis
  parientes cercanos o lo que os de la gana, escribid a:

        kapitansponja@softhome.net

```

</div>
