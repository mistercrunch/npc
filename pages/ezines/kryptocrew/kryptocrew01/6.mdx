---
title: "6"
ezine: "kryptocrew"
---

# 6

**Ezine:** kryptocrew

<div className="ascii-content">

```
IPv6

Einfⁿhrung
----------

Das Internet wΣchst rapide. Bereits im Januar 1998 wurden ⁿber 29,5 Millionen Rechner in ⁿber 190 LΣndern der Erde gezΣhlt.
Das IPv4 Adressierungsschema beruht auf einer 32-Bit Adresse. Damit wⁿrden sich theoretisch ⁿber 4 Billionen Rechner adressieren lassen. Also mehr wie genug um jedem Bewohner unserer Erde eine eigene IP Adresse zur Verfⁿgung zu stellen. Da aber die Adresse in einen Netzwerk- und einen Hostteil unterteilt ist, kann dieser Adressbereich nicht gleichmΣ▀ig verteilt werden.

Bsp.:
Ein Class A Netz hat 8 Bit Netzwerkadresse und 24 Bit Hostadresse. Da aber 1 Bit von den 8 zur Kennzeichnung eines Class A Netzes ben÷tigt wird, stehen nur 2^7=128 verschiedene Class A Netze zur Verfⁿgung und davon ist 127 auch noch reserviert fⁿr localhost.(ob es das Netzt 0.?.?.? gibt bezweifle ich auch) Es stehen also nur 126 Class A Netze zur Verfⁿgung mit jeweils einem Adressraum von 2^24=16777216 Hosts. Wieviel Hosts wirklich angeschlossen sind spielt dabei keine Rolle, der Adressraum ist vergeben.

Experten gehen mitlerweilen davon aus, da▀ irgendwann zwischen 2005 und 2011 der Adressraum ersch÷pft ist.
Aber auch zwei weitere Punkte sprechen fⁿr die Notwendigkeit eines neuen Standards
1. Gerade im Zusammenhang mit CIDR (Classless Inter Domain Routig) wΣchst der Verwaltungsaufwand der Routing Tables im Backbone erheblich.
2. Im Ipv4 ist die Verwendung von Routing PrioritΣten bzw. Typ of services nur unzureichend definiert geschweige denn implementiert. Aber gerade fⁿr neue Anwendungen, z.B. Bildtelefonie usw., sind diese Merkmale unabdingbar.


Aus diesem Grund wurde 1992 das Ipv6 Protokoll mit den folgenden Merkmalen entwickelt:
* flexibles Paketformat, das hei▀t viele Optionen wurden aus dem Standard Protokollkopf in verschiedene optionale Header verschoben, damit wird der Standard Paketkopf verkleinert und vereinfacht 
* Vergr÷▀erung des Adressbereiches auf 128-Bit, ausreichend fⁿr mindestens die nΣchsten 30 Jahre
* global eindeutiges und hierarchisch angelegtes Routing basierend auf vielmehr als den bisherigen PrΣfixen um die Routingtables klein und das Handling im Backbone effizient zu gestalten
* Einfⁿhrung von Anycast Adressen, Kommunikation zu einem Mitglied einer Gruppe
* Unterstⁿtzung fⁿr erh÷hte Sicherheit gegen Abh÷ren und VerfΣlschung
* Unterstⁿtzung von Ressourcenreservierung, Flow-Label und Traffic Class pro Ipv6 Paket. Erm÷glicht die Nutzung von Protokollen zur Ressourcenreservierung und somit die Realisierung von zeitkritischen Anwendungen, z.B. Bildtelefonie
* Erweiterung von ICMP, zuvor getrennte Protokolle werden direkt in ICMP integriert (z.B. IGMP, ARP)
* Mechanismen zur automatischen Konfiguration von neuen Systemen
* Neighbor Discovery, automatisches Erkennen des nΣchsten Routers und der Netzwerkadresse und somit automatische Konfiguration
* Unterstⁿtzung von mobilen Systemen durch automatische Adressvergabe
* Die Option "Binding Update" im Destination-Options-Header erm÷glicht die direkte Umleitung der IP-Pakete an den aktuellen Standort
* Unterstⁿtzung von Kapselung von Ipv6 und anderen Protokollen

IPv6-Paketformat
----------------

Der Standard-Header

0       4            12        16              24             32
----------------------------------------------------------------
|Version|Traffic Class|FlowLabel (Flussmarke)                  |
----------------------------------------------------------------
|NutzlastlΣnge                  |nΣchster Kopf  |Hop Limit     |
----------------------------------------------------------------
|                      Quelladresse (128 Bit)                  |
----------------------------------------------------------------
|                      Zieladresse  (128 Bit)                  |
----------------------------------------------------------------

Durch Eliminierung verschiedener Felder (z.B. KopflΣnge, Kopf-Prⁿfsumme) und Auslagerung der Optionen in eigene Header ist der Standard Header gegenⁿber IPv4 stark vereinfacht worden. Das Feld nΣchster Kopf spezifiziert einen evtl. vorhandenen nΣchsten Header anhand einer Nummer.

Beispiel:
6	TCP
17	UDP
43	Routing-Header
44	Fragment-Header
52	Verschlⁿsselungsheader

Dieses Prinzip der flexiblen Headergenerierung erlaubt eine effiziente Implementierung ist gleichzeitig auch in Zukunft erweiterbar. Jeder dieser Header darf h÷chstens einmal pro Paket vorkommen. Abgeschlosser wird diese Reihe mit einem TCP oder UDP Header der dann auch die Nutzdaten enthΣlt.

Beispiel:
				43			44			6
---------------------- ---------------------- ---------------------- ----------------------
|Standard Header| 43 | |Routing Header | 44 | |Fragment-Header | 6 | | TCP-Header         |
---------------------- ---------------------- ---------------------- ----------------------

IPv6: Adressierung
------------------
IPv6 Adressen umfassen 128-Bit und werden wie folgt dargestellt:

x:x:x:x:x:x:x:x 8 Bl÷cke zu je 16 Bit hexadezimal codiert,

Beispiel:

3FFE:400:20::A00:2BFF:FEA3:ADCB
FF01:0:0:0:0:0:0:101 bzw. FF01::101

Insgesamt gibt es drei verschieden Adresstypen (Unicast, Anycast, Multicast)

Unicast
-------
* Datagramme werden nur einen EmpfΣnger gesendet
* Geographisch-basierte Unicast-Adressen
* Anbieter-basierte Unicast-Adressen
* Link-lokale Adressen
* Standort-lokale Adressen


Aggregatable Global Unicast Adress:
* PrΣfix 001
* hierarchische Adresse zur Vereinfachung des Routings
* globale Gⁿltigkeit im Internet
* Felder fester LΣnge

---------------------------------------------------------------------------...---------
|001|     TLA     |  Next Level Aggregator (NLA)   |      SLA       |  Interface-ID   |
---------------------------------------------------------------------------...---------
  3        13                   32                        16               64

TLA=Top Level Aggregator
NLA=Next Level Aggregator
SLA=Site Local Aggregator
Interface-ID=Subnetz-ID (16 Bit)+Kennung der Netzwerkkarte (48-Bit), global eindeutig


Anbieter-basierte Unicast-Adressen:

---------------------------------------------------------------------------...---------
|010|Register-ID|        Anbieter-ID      |      Subscriber-ID      |  Interface-ID   |
---------------------------------------------------------------------------...---------
  3       5     |            n                        56-n          |       64
                      zusammen 56 Bit fⁿr dynamische Aufteilung 
                          von Anbieter- und Subsciber-ID

Register-ID: * InterNIC USA    11000
             * NCC Europa      01000
             * APNIC fⁿr Asien 00100

Link-Local Address:
* ausschliesslich innerhalb eines Subnetzes gⁿltig
* Datagramme werden von keinem Router weitergegeben
* besteht aus PrΣfix 1111.1110.10 und Interface-ID, dazwischen wird mit Nullen aufgefⁿllt

-------------------------------------------------------------------------...---------
|1111111010|000000000000000000000000000000000000000000000000000000|  Interface-ID   |
-------------------------------------------------------------------------...---------
    10                             54                                     64


Site-Lokal Adress:
* ausschliesslich innerhalb eines Netzwerkes ohne Anschluss an das Internet gⁿltig
* Datagramme werden nur von innerbetrieblichen Routern weitergegeben
* besteht aus PrΣfix 1111.1110.11 und Interface-ID, dazwischen wird mit Nullen aufgefⁿllt

-------------------------------------------------------------------------...---------
|1111111011|000000000000000000000000000000000000000000000000000000|  Interface-ID   |
-------------------------------------------------------------------------...---------
    10                             54                                     64


IPv4-kompatible:
* Adressformat fⁿr den ▄bergang von IPv4 nach IPv6
* einfache Abbildung zwischen IPv4- und IPv6-Adressen
* ergeben die gleiche Prⁿfsumme wie die entsprechenden IPv4-Adressen-->keine Neuberechnung des TCP-Pseudo-Headers n÷tig

-IPv4 Mapped Address (identifizieren IPv4-Rechner)

-----...-------...--------------------
|0000...0000|11...11|  IPv4-Adress   |
-----...-------...--------------------
     80        16         32

-IPv4 Compatible Address (identifizieren IPv6-fΣhige Rechner)

---------...--------------------------
|00000000...00000000|  IPv4-Adress   |
---------...--------------------------
         96                32


Multicast
---------
* Datagramme werden an alle Mitglieder einer Gruppe zugestellt
* identifizieren eine Menge von Netzwerkkarten
* PrΣfix FF
* es werden zwei Typen von Multicast-Gruppen unterschieden, Kennzeichnung durch das Feld Flags
  - Permanente Gruppen existieren dauerhaft
  - Transiente Gruppen existieren nur zeitweise
* Gⁿltigkeitsbereich wird durch das Feld Scope festgelegt, beschrΣnkt auf Knoten, Subnetz, Netzwerk, Organisation, Global
* einige Multicast-Adressen sind bereits fⁿr bestimmte Dienste reserviert
  - z.B. All Systems on this Subnet, DVMRP Router

-----------------------------...-----------
|11111111|Flags|Scope| Kennung der Gruppe |
-----------------------------...-----------
    8       4     4          112


Anycast
-------
* Datagramme werden nur an ein Mitglied einer Gruppe zugestellt
* Anycast Adressen entsprechen syntaktisch den Unicast-Adressen
* Es ist nicht gewΣhrleistet, dass aufeinanderfolgende Anycast-Dateneinheiten an den gleichen EmpfΣnger ⁿbermittelt werden


Zusammenfassung:
----------------

IPv4:
* 32-Bit-Adressen
* 4 Klassen
* Klasse A,B,C
	- Unicast
	- Broadcast
* Klasse D
	- Multicast
* keine weitere Strukturierung

IPv6:
* 128-Bit-Adresse
* keine Klassen
* Nur Adresstypen
	- Unicast
	- Multicast
	- Anycast
	- kein Broadcast
* Hierarchisch strukturierte Adressen


```

</div>
