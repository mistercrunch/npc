---
title: "003"
ezine: "disidents"
---

# 003

**Ezine:** disidents

<div className="ascii-content">

```
[003]_FIREWALLS_(Conceptos_basicos_y_tipos)_by_oKuPa_-_Disidents_Journal_5
 
 
                     -+-| DisidentS Hack Journal #5 |-+-
 
 
 
 
 
 
 
 
 
   ______________________________________________________________________
  |                                                                      |
  | -+- Titulo_____: FIREWALLS (Conceptos basicos y tipos)               |
  | -+- Autor______: oKuPa                                               |
  | -+- E-Mail_____: okupa__@hotmail.com                                 |
  | -+- Team_______: DisidentS Espa±a - http://disidents-team.cjb.net    |
  |______________________________________________________________________|
 
 
 
 
 
"la potencia sin control..no sirve de nada"
>>------------------------------------------------------------------------<<
 
 
 
----------------------------------------------------------------------------
----------------------------------------------------------------------------
 
.==========================================================================.
|===========~ INDICE ~======================================================
|===========================================================================
|=~ 1- QuΘ es un Firewall y porque utilizarlo                              |
|=~ 2- Tipos de Firewalls                                                  |
|=~ 3- Arquitecturas                                                       |
|=~ 4- Conclusiones                                                        |
|=~ 5- Manual Zone Alarm                                                   |
|=~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~=.
======================================================~ INDICE ~============
============================================================================
 
.==========================================================================.
|===========~ 1- QuΘ es un Firewall y porque utilizarlo. ~|=================
|===========================================================================
 
	Un firewall es un sistema o grupos de sistemas encargados de controlar 
la informaci≤n que llega a nuestros ordenadores estableciendo una politica de 
permision mas o menos segura. 

El firewall serß efectivo si toda la informacion entrante pasa por el y es asi
 revisada segun los requisitos establecidos por el usuario en la configuracion 
del mismo. En resumidas, con un firewall tu decides lo que entra o no en tu conexion.


La razon de usar un firewall no es otra que la seguridad, cada vez es mas necesario
estar protegido en internet debido al alto numero de nuevos " hackers " que se denominan
 asi por saber usar un troyano... bueno de todos es sabido que cuanto mas seguro tengas 
tu equipo mas dificl sera que alguien pueda da±arlo. Tambien un firewall ayudaria a 
controlar y erradicar la multitud de dialers lanzados por las compa±ias de " 906 " 
a internet. 

Aunque tambien esta el inconveniente de que si no lo has configurado bien
algunas aplicaciones no funcionen si no cambias la politica de lo que es aceptado o no.

Estas razones se resumen en:


Proteger el ordenador de los ataques que se produzcan desde mßquinas situadas en Internet. 

Asegurar que nuestro ordenador no se utiliza para atacar a otros. 

Prevenir el uso de troyanos que puedan existir en el sistema debido a que alguien nos 
lo ha introducido a travΘs de correo electr≤nico o en alg·n CD o disquete. 

Detectar patrones de ataques e identificar de d≤nde provienen. 

Evitar que nuestro ordenador pueda ser un punto de entrada a una red privada 
virtual en el caso de utilizarlo para teletrabajo o acceso remoto a la red de una empresa. 

Al probar nuevas aplicaciones podremos averiguar cußles son exactamente los puertos de comunicaciones que necesitan usar. 


-----------------------------------------------------------------------------
.==========================================================================.
|===========~ 2- Tipos de Firewalls. ~|=====================================
|===========================================================================
 
Basicamente hay dos tipos de firewalls, de nivel de red y nivel de aplicacion:


Los firewalls de nivel de red actuan en funci≤n del origen, la direcci≤n de 
destino y el port en cada paquete IP. 

Estos firewalls son muy rapidos y sencillos para el usuario.Dentro de este 
grupo estan los routers de filtros de paquetes encargados de decidir lo que 
pasa y lo que no. Examinan el header de los paquetes en donde se encuentra
la IP de origen,la de destino, el protocolo, los ports de destino etc... 
si todo esto es correcto y concorde a la configuracion este paquete entrara
sin ningun tipo de problema y si por lo contrario no esta acorde, 
simplemente se denegara la entrada.


Por otro lado tenemos los firewalls de nivel de aplicacion, el funcionamiento 
de estos consiste en no permitir el trafico directo entre redes, analizando
y logeando cada dato que pasa, por lo tanto con estos firewalls se consigue
un control masdetallado y una seguridad de mayor grado.Estos firewalls 
instalan un software determinado para cada aplicacion, el problema de esto 
reside en que si no se instala dicho software para una aplicacion esta no 
puede ser enrutada, esto puede hacer de estos firewalls una configuracion
mas costosa pero como he dicho antes mas segura :)

-----------------------------------------------------------------------------
.==========================================================================.
|===========~ 3- Arquitecturas. ~|==========================================
|===========================================================================

Las arquitecturas son las formas de implementar una barrera de seguridad a nuestra red. 

Hay farias formas/tipos:



	De dos bases:



Es un firewall con dos interfaces de red, lo que permite aislar una red interna 
de una externa que no sea de confianza bloqueando asi el trafico TCP/IP. 

El peligro de esto reside si algun user se hace con el acceso directo de conexion
 al firewall y si el firewall falla la red interna se veria desprotegida ante cualquier intruso.

 Estos son algunos consejos de seguridad para tu sistema con un firewall de dos bases:


╖	Eliminar las herramientas de programaci≤n: compiladores, enlazadores, etc..

╖	Eliminar los programas con autorizaciones de SUID y SGID que no se necesiten 
	o no se comprendan. Si los programas no funcionan, siempre es factible colocar de nuevo
	aquellos que son esenciales.

╖	Utilizar particiones en el disco para que, en caso de haber una invasi≤n 
	para llenar todo el espacio del disco en la partici≤n, la invasi≤n queda 
	confinada en dicho espacio.

╖	Eliminar todas las cuentas especiales y del sistema que no necesite

╖	Eliminar los servicios de red que no se requieran. Utilizar el comando 
	netstat ûa para verificar que solo tiene los servicios precisos. 

.       Editar los archivos de servicio /etc/inetd.conf para eliminar las definiciones de servicio innecesarias.


                                       EQUIPO
 __________                               |
/          \    RED   _________           |
INTERNET    |--------| FIREWALL|----------| 
\__________/         |_________|          |
					  |
      				       EQUIPO




	
	Firewall como servidor basti≤n:



Ya que el firewall es necesario para la seguridad de la red,se coloca otra defensa entre la 
red externa no confiable y la red interna. Esta lφnea casi siempre la proporciona un router
de selecci≤n.En esta forma el firewall solo tiene una interface de red conectada a la red
interna y el router de seleccion dos una que va a internet y otra a la red interna haciendo
pasar asi todo el trafico por el bastion. Con esto se consigue que si un intruso se cuela 
en el router de seleccion, despues debera saltarse el firewall. Toda la informacion 
que llegue al firewall sera seleccionada y se aceptara y negara segun el escrutinio.



						     ________
						    / SERVER \
						    \________/
						       |
						       |
                                       EQUIPO          |
 __________                               |            |
/          \    RED   _________           |            |
INTERNET    |--------| FIREWALL|----------|------------| 
\__________/         |_________|          |
					  |
      				       EQUIPO





	
	Subredes seleccionadas:



De esta forma haces que la red externa y la interna tengan acceso a una red aislada 
pero nada puede circular en ambas redes a traves de la red aislada, esto se lleva 
a cabo mediante una combinacion de routers de seleccion configurados de una manera especifica.
Algunas de estas redes tambien pueden tener compuertas a nivel de aplicacion y actuar
 como firewalls a navegantes de la red exterior.







			ROUTER DE SELECCION
				|
				|		      ________
                           _____|_______             /        \
RED EXTERNA---------------| RED AISLADA |------------|INTERNET |
RED INTERNA---------------|_____|_______|	     \________/
		                |
		                |
                       ROUTER DE SELECCION



__________
*NOTA


Las compuertas a nivel de aplicaci≤n pueden manejar trßfico de almacenaje y envφo, asφ como trßfico interactivo. 
__________

Para elegir una arquitectura u otra depende mucho del uso de la red y necesidades del usuario, pero 
la unica arquitectura no recomendada es aquella en la que la informacion no pase por el firewall
y se someta a su analisis.

 
-----------------------------------------------------------------------------
.==========================================================================.
|===========~ 4- Conclusiones. ~|===========================================
|===========================================================================
 
	Tras este documento hemos visto que es un firewall y porque utilizarlo, 
pero lo que esta claro es que con poner un firewall tus equipos no van a estar 
protegidos al 100% debes tambien poner una politica de seguridad que sea efectiva, 
esto se consigue revisando los logs, configuraciones etc... en resumidas un firewall
 es una herramienta que ayuda a mejorar la seguridad pero gran parte del 
trabajo lo has de seguir haciendo tu :)

El siguiente apartado trata sobre la configuracion de uno de los firewalls que anda por el mercado.


-----------------------------------------------------------------------------
.==========================================================================.
|===========~ 5- Manual Zone Alarm. ~|======================================
|===========================================================================
 
	Zone Alarm es uno de los firewalls que circulan por internet, hay varias 
versiones hasta una gratuita en la pagina de ZoneLabs ( www.Zonelabs.com ).

Una vez descargado, la instalacion es simple, tan solo con hacer doble click 
en el exe ( autoejecutable ), leer y aceptar los terminos de uso.

Despues de la instalacion y de la reiniciacion del equipo el firewall ya irß 
actuando en las conexiones, aceptandolas o denegandolas segun la configuracion
establecida,sera necesario configurar todas aplicaciones que precisan de conexion.

En cuanto abramos una aplicacion de las nombradas anteriormente saldrß un mensaje
del firewall: NEW PROGRAM: Do you want allow Internet Explorer to access the Internet?

Si pulsamos YES se ejecutara y si pulsamos NO se denegara. 

Si la aplicacion va a ser usada con frecuencia se marca: 
Remember this answer the next time I use this program 
y asi no harß falta aceptar la peticion cada vez que sea utilizada.

El otro tipo de permiso que puede solicitarnos ZoneAlarm es para programas 
que permitan el acceso desde Internet a nuestro ordenador y soliciten el envφo de datos.

Este es el caso de IRC,Kazaa,ICQ entre otros, la pregunta serß: 

SERVER PROGRAM: Do you want to allow Microsoft Outlook to act as a server? 

y como en el caso anterior de ti depende permitirlo o no. 

Con esta opcion conseguiriamos hacer que un troyano no nos afectara ya que 
denegariamos el permiso y posteriormente borrariamos el ejecutable.

Hemos visto lo que ocurre con las aplicaciones pero y que pasa cuando alguna
 ip intenta conectar a nuestro equipo? ( podria ser un intruso ) 
Cuando ocurre esto sale en pantalla un aviso con la ip que intenta conectar,
 esto puede ser una falsa alarma, pero aun asi el firewall ha actuado bien al 
bloquear dicha conexion. Solamente hay que preocuparse de las advertencias sobre intentos especφficos de conexi≤n con los puertos por parte de troyanos, como Back Orifice o Netbus.

Al pulsar con el boton derecho en el indicador de Zone Alarm aparecen las siguientes opciones:

.Engage Internet Lock: pararemos el acceso a Internet de todas las aplicaciones 
a excepci≤n de las que tengan marcada la columna Pass Lock (saltarse el bloqueo) 
del men· ½Program Control: Programs╗ 


.Stop all Internet activity: pararemos el acceso a Internet de todas las aplicaciones. 


.Restore ZoneAlarm Control Center: abre la aplicaci≤n (se obtiene el mismo efecto
 haciendo doble clic sobre el icono de la barra de tareas) 


.Shutdown ZoneAlarm: se desactiva la aplicaci≤n y, por tanto, ZoneAlarm deja de analizar el trßfico. 

 
El Firewall tambien tiene varias opciones al ejecutarlo:



	-SECCION ½OVERWIEW╗

 
PESTA╤A ½STATUS╗ 

Blocked Intrusions: informa del n·mero de ocasiones en el que, tanto el cortafuegos
 como el MailSafe, han actuado para impedir un acceso no autorizado. Informa 
tambiΘn cuantos de estos bloqueos pudieran ser debidos a hackers (high-rated). 

Proporciona informaci≤n de los accesos bloqueados, de programas que han accedido 
a Internet y de la configuraci≤n actual del MailSafe (protecci≤n para e-mail). 
Todo ello, desde el ·ltimo reset. 

Reset: Para poner el contador a cero debe pulsarse en ½Reset to Default╗. 
 


PESTA╤A ½PRODUCT INFO╗
 
Versi≤n del producto. 
Try Now!: para descargar la versi≤n de prueba (vßlida por 30 dφas) del ZoneAlarm Pro. 
Soporte en lφnea del producto. 
Datos sobre el registro que se pueden cambiar pulsando en el bot≤n ½Change Reg╗ 
 


PESTA╤A ½PREFERENCES╗ 

Check for product updates: marcando esta casilla ½Automatically╗, el propio
programa comprobarß regularmente la existencia de nuevas actualizaciones del
programa, cosa que podemos realizar en cualquier momento pulsando sobre el bot≤n Check for Update. 
Si estß disponible una nueva actualizaci≤n, procedemos a su instalaci≤n, 
no siendo necesario desinstalar la versi≤n actual ya que durante el proceso
comprueba si existe una versi≤n anterior e, incluso, nos permite mantener la configuraci≤n actual o borrarla. 

Show ZoneAalarm on top during Internet activity: ejecutar el programa en modo "siempre visible"

Load ZoneAlarm at Startup: ejecutar el programa cada vez que arranquemos Windows. 
Imprescindible tener marcada esta casilla. 
En cualquier momento y aunque estΘ desaconsejado, podremos apagar el cortafuegos
pulsando con el bot≤n derecho sobre el icono de actividad en la Barra de Tareas 
y seleccionando la opci≤n Shutdown ZoneAlarm.

Remember the last tabs visited in the panels: si marcamos esta casilla, 
el Panel de Control se abrirß en la ·ltima secci≤n visitada.

Explanatory text witin panels: mostrar (show) u ocultar (hide) el texto 
explicativo que aparece en la parte izquierda del Panel de Control. 

En este apartado escogemos el nivel de privacidad que deseamos cuando 
utilizamos los servicios on-line que proporciona 
ZoneLabs:

Alert me with a pop-up before I make contact: Una ventana nos avisarß que vamos 
a contactar con ZoneLabs antes de que aquΘl se produzca.

Hide my IP..., Hide the last... : Oculta nuestra direcci≤n IP de forma total o parcial cuando Θsto sea posible.
 

	-SECCION ½FIREWALL╗

 
PESTA╤A ½MAIN╗

 
1. INTERNET ZONE SECURITY: Para ordenadores conectados directamente a Internet 
(tanto si estß en red como si no), es aconsejable seleccionar el nivel High para, 
de esta forma, dejar a nuestro ordenador casi invisible a Internet. 

Con este nivel es posible que alg·n programa funcione incorrectamente pero, normalmente,
puede solucionarse ajustando su configuraci≤n en la secci≤n Program Control: Programs. 
Si el acceso a Internet es a travΘs de una red, entonces es conveniente seleccionar el nivel Medium.

2. TRUSTED ZONE SECURITY: En cuanto a la zona Local (s≤lo para ordenadores 
conectados  a una red local o intranet) o de confianza, suele ser suficiente 
el nivel Medium. De esta forma impresoras u otras mßquinas remotas correspondientes a la red podrßn compartirse sin problemas.

3. ADVANCED: Esta secci≤n proporciona ajustes avanzados siendo normalmente
 vßlidos los valores por defecto. Los dos primeros (½Block Trusted Zone Servers╗ 
y ½Block Internet Zone Servers╗) impiden a todos los programas actuar como servidores, a·n cuando los hayamos autorizado en la secci≤n Programs Control: Programs.

4. Reset to Deafult: devuelve la configuraci≤n a sus valores por defecto. 


PESTA╤A ½ZONES╗ 


Desde aquφ podemos podemos gestionar ordenadores, redes, adaptadores de red 
o sitios e incluirlos en la zona Internet o Trusted (de confianza).

Normalmente, ZoneAlarm identifica automßticamente los adaptadores de red
 y les asigna la zona ½internet╗. Se recomienda mantener esta configuraci≤n 
y a±adir a la zona ½trusted╗ los ordenadores, por ejemplo, de una intranet o red local.

En general, a±adiremos un componente a la zona ½trusted╗ cuando queramos 
compartir determinados recursos entre sus componentes. 





 	-SECCION ½PROGRAM CONTROL╗

 
PESTA╤A ½MAIN╗ 


1. PROGRAM CONTROL: conviene establecer la opci≤n Medium (Med.) ya que, de esta 
forma, el ZoneAlarm funcionarß en funci≤n de lo establecido en la pesta±a ½Programs╗
de esta misma secci≤n.

2. AUTOMATIC LOCK: Bloqueo automßtico. Si lo activamos (on), pulsando en ½Custom╗
personalizaremos este bloqueo:

Lock Mode to Use When Enabled: podemos activar el bloqueo tras un perφodo de 
inactividad o al activarse el protector de pantalla.

When Lock Engages: La primera opci≤n (Allow the pass-lock programs to access the Internet)
 bloquea todos los programas excepto aquellos que tienen marcado ½pass lock╗ en 
la pesta±a ½programs╗ de esta misma secci≤n. La segunda opci≤n (Block all Internet access)
 bloquea todos los programas sin excepci≤n. 

PESTA╤A ½PROGRAMS╗ 


Esta secci≤n la utilizaremos para consultar y administrar las autorizaciones que 
le hemos dado a cada uno de los programas para el envφo o recepci≤n de informaci≤n.

En esta pantalla encontraremos todos los programas que tenemos autorizados y los permisos que les hemos ido dando a cada aplicaci≤n, que podemos modificar, eliminar o a±adir.

1. PROGRAMS: en esta columna aparece el nombre del archivo ejecutable del programa y su versi≤n.

2. ACCESS (TRUSTED/INTERNET): acceso en modo cliente para cada una de las zonas. 
Para cambiar su estado s≤lo tenemos que pulsar con el bot≤n izquierdo en la casilla
y seleccionando:  para autorizar a la aplicaci≤n el acceso,  si queremos denegar su
acceso y  si queremos que nos pregunte siempre quΘ comportamiento tomar cuando el 
programa quiera salir a Internet.

3. SERVER (TRUSTED/INTERNET): columna en la que veremos los programas que estßn 
autorizados a funcionar como servidor y que, de esta manera, pueden recibir peticiones
 desde Internet. Las opciones son las mismas que en punto anterior.

4. PASS LOCK : esta opci≤n estß relacionada con el cerrojo del que hablamos 
anteriormente. S≤lo los programas que tengan esta casilla marcada tendrßn servicio
 a Internet cuando activemos el candado, el bloqueo automßtico o la opci≤n Engage Internet Lock.

5. ENTRY DETAIL: Informaci≤n relativa a los programas que se muestran en la tabla.

6. ADD: para a±adir manualmente un programa a la tabla.
 
Si quisiΘramos eliminar las reglas establecidas para un programa de esta lista 
(por ejemplo, porque ya no lo utilizamos o lo hemos desinstalado), nos pondrφamos
 sobre Θl, pulsando el bot≤n derecho del rat≤n y seleccionarφamos Remove.
No obstante, si lo volvemos a instalar o ejecutar, volverß a aparecer esta ventana
para configurar sus permisos. Conviene de vez en cuando revisar esta lista para actualizar permisos o eliminar programas.




	-Alert Events Shown
 

PESTA╤A ½MAIN╗ 


1. Alert Events Shown: este control determina que tipos de informaci≤n se mostraran
en una ventana. Si selecciona ½ON╗ aparecerß una ventana cada vez que se produzca 
una bloqueo o una alerta. Si selecciona ½OFF╗, s≤lo se mostraran las alertas correspondientes a ½New Program╗, ½Server Program╗ and ½Changed Program╗.
2. ADVANCED:
Log Archive Setting: al marcarla, el ZoneAlarm guardarß un registro de todas las alertas.

Log Archive Location: nos muestra la ubicaci≤n de los archivos que, de forma regular,
va guardando el programa si tenemos activada la casilla anterior. Conviene purgarlo
 cada cierto tiempo pulsando sobre el bot≤n Delete Log.

Log Archive Appearance: utilice estos controles para determinar el separador del
 campo para los ficheros de registro. 

 
PESTA╤A ½LOG VIEWER╗ 


1. View only the last n alerts: Permite configurar el n·mero de alertas que se mostrarß
en la tabla inferior.

2. Alerts list: informaci≤n relativa a las alertas producidas.

3. Entry Detail box: muestra mßs detalles de la alerta seleccionada en la tabla superior.

4. Add to Zone: Supongamos que ZoneAlarm ha bloqueado un acceso desde un ordenador
con el que queramos compartir recursos. Pues seleccionamos la alerta correspondiente y pulsamos ½Add to Zone╗ para asignar
dicha entrada a la zona ½trusted╗.
More Info: proporciona informaci≤n a±adida de la alerta seleccionada en la tabla (en ingles)

5. Clear List: Para borrar las alertas. 
 


	-SECCION ½E-MAIL PROTECTION╗

 
En esta secci≤n encontramos un apartado llamado Basic MailSafe Settings que, cuando
 estΘ activo (ON), nos protegerß s≤lamente de virus que nos lleguen en forma de 
VBS (Visual Basic Scripts). MailSafe funciona con clientes POP3 e IMAP,
identificando scripts adjuntos a mensajes de correo electr≤nico y nos previene de 
su ejecuci≤n. Cuando ZoneAlarm detecte un fichero adjunto sospechoso, lo pondrß 
en cuarentena cambiando su extensi≤n por "zl" seguido de una letra y n·mero; ademßs cambia el icono del adjunto, apareciendo ahora el del ZoneAlarm.

No obstante, MailSafe no eliminarß automßticamente archivos adjuntos en los 
correos electr≤nicos ni es un antivir·s, ·nicamente pondrß el archivo en cuarentena
dßndonos las oportunidad de prevenir la ejecuci≤n de scripts que pudieran ser maliciosos. 

-----------------------------------------------------------------------------
                   DisidentS Hacker Team 2003 (c).
 
----------------------------------------------------------------------------
                 Mail del Team: disidents@yahoo.es
----------------------------------------------------------------------------
 
                               0
                             X0 0X
                               S

```

</div>
