---
title: "9-esteganografia"
ezine: "disidents"
---

# 9-esteganografia

**Ezine:** disidents

<div className="ascii-content">

```
     -----------------------------
     - ESTEGANOGRAFIA - NO SABIA -
     - QUE TE GUSTARAN LAS OBRAS -
     - DE ARTE??                 -  
     -                by DDiego  - 
     -  LOS FUERA DE LA LEY      -  
     -----------------------------  


	La criptografφa nos permite encriptar mensajes etc, pero lo estaria bien
seria ocultar esta informaci≤n en algo que parezca tan inofensivo como puede 
ser una imagen jpg o un  mp3, no crees ?. Estos se puede gracias a la 
esteganografia  esta a se diferencia de la criptografia en que la 
esteganografia tiene oculta un mensaje dentro de otro sin informacion 
importante (como puede ser una imagen) y si este mensaje a sido cifrado suma 
seguridad al encubrimiento de la informacion del mensaje,  sin enbargo la 
criptografia  pretende que si alguien consigue el mensaje no sea capaz de 
descifrarlo. La forma mas   basica de ocultacion de datos en la  
esteganografia, consiste sustituir el bit  menos significativo de cada byte 
por los bits del mensaje que vamos a ocultar.  Ahora vamos a la practica, voy 
a   utilizar  varios programas en diferentes plataformas como son linux, win2.

   .................................    
   ╖ Unix (Linux, HP-UX, System  V ╖
   ╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖╖




Veamos para ello vamos a utilizar MandelSteg V1.0 y Gifextract v1.0
para instalar el programa simplemente tienes que descomprimirlo en el
directorio que quieras, y luego poner make asi:

[root@localhost esteganografia]# make
cc -c gif_comp.c -o gif_comp.o  -O -DLOW_MEM
cc -c mandsteg.c -o mandsteg.o  -O -DLOW_MEM
cc -O -DLOW_MEM gif_comp.o mandsteg.o  -o mandelsteg
cc -c gifextr.c -o gifextr.o  -O -DLOW_MEM
cc -O -DLOW_MEM gifextr.o -o gifextract
[root@localhost esteganografia]# ls
README    ext.h  gif_comp.c  gifextr.c  gifextract*  mandelsteg*  mandsteg.o
comp.bat  gif.h  gif_comp.o  gifextr.o  makefile     mandsteg.c

Bueno ya vemos ahi los 2 programas, gifextract*  y mandelsteg*

Ahora vamos a probarlos  un poco
 
Asi que vamos a crear por ejemplo pruebas.txt
[root@localhost esteganografia]# cat  > prueba.txt
hola haber si rula
 
[1]+  Stopped                 cat >prueba.txt    

--Ahora vamos a pasar el archivo a gif

[root@localhost esteganografia]# ./mandelsteg -e mandel.gif < prueba.txt
[root@localhost esteganografia]# ls
README    gif.h       gifextr.c    makefile     mandsteg.c
comp.bat  gif_comp.c  gifextr.o    mandel.gif   mandsteg.o
ext.h     gif_comp.o  gifextract*  mandelsteg*  prueba.txt  
 
Como veis ya tengo el archivo mandel.gif, puedes ir  a verlo y veras una  
imagen de 640 x 480 esta imagen es un fractal de Madelbrot
Os habreis preguntado que co±o quiere decir la -e, esta opcio  tomara los 
datos de la entrada y los almacenara  en al imagen, puedes usar la opcion
-c que calcula cuantos  datos pueden almacenarse en al  imagen
Con el nivel de seguridad minimo que nos da la opcion -e, los datos seran
alacenados en el bit 7 de cada  pixel y se generara una paleta de 128 coloeres 
suficiente para que esten los datos bastante oculto. La paletaa de  128 
colores puede delatar al   imagen para ello usaremos la  opccion -fp que 
generara una  paleta de 256 colores combinado con -ns que previene que
nos descubran de forma facil solo  con sustituir una paleta por otra, se 
distinguirian los  datos de forma clara en areas donde no haya colores 
solidos, -ns hace que solo se almacene los datos en areas donde no hayan 
colores solidos.
Tambien se puede modificarel bit de los pixels en los que guardaran los 
datos que por  defecto es 7, con la opcion -b, el bit 7 da la mayor capacidad 
y el  0 la mayor seguridad. Podemos  hacer tambien  que el programa se 
salte un numero inicial de bytes al empezar, para  ello  se usa la opcin 
-bp numerodebytes . Con al opcion r en los bytes  saltados se introduciran
datos aleatorios. Con la  opcion md especificas el area donde se almacenara
la informacion es -md seguida de la cordenada inicial seguida  del alto y 
ancho.

ejemplos:

En este ejemplo crea una imagen  utilizando coordenadas distintas de las 
standar:

./mandelsteg -sz 400 400 -md -0.5505 -0.5505 0.0001 0.0001 -e mandel.gif 
	< prueba.txt
 
En este ejemplo tiene varias opciones que voy a exlicar una por una
[root@localhost esteganografia]# ./mandelsteg -fp -ns -b 0 -bp 15 -e 
mandel.gif < prueba.txt                          
-fp fenera  una paleta de 256 colores
-ns alamacena los datos donde no hayan colores solidos
-b 0 bit de mauor seguridad
-bp 15 introduce  datos aleatorios en los priemeros 15 bytes


- Otra forma:

./mandelsteg -sz 400 400 -md -1.0 -1.0 2.0 
	2.0 -b 0 -ns -fp -bp 23 -r -e mandel.gif

en este caso, especifica las coordenadas con md alto y ancho

-USando pgp

./pgp -ef < secrets.dat | stealth | mandelsteg -sz 400 400 -md -1.0 -1.0 2.0 
	2.0 -b 0 -ns -fp -bp 23 -r -e mandel.gif

-- Ahora vamos a extraer lo que hay en la imagen

[root@localhost esteganografia]# ./gifextract  mandel.gif > rulando.txt
[root@localhost esteganografia]# cat rulando.txt
hola haber si rula
[root@localhost esteganografia]#       

si si claro que rulo

- Bueno si quieres por ejemplo poner una imagen mas peque±a, sin problema
tenemos la opcion -sz
Vamos a probarlo y poner una imagen de 300x350
[root@localhost esteganografia]# ./mandelsteg -sz 300 350 -e mifoto.gif < 
prueba.txt   

[root@localhost esteganografia]# ./gifextract  mifoto.gif  > rulando.txt
[root@localhost esteganografia]# cat rulando.txt
hola haber si rula           

Claro que rula, ahora voy a  explicar mas opcioness del programa

ej:
Para extraer los datos alamcenados en el bit 0 de la imagen
./gifextract -b o < imagen.gif > datos.txt

Ahora extrae los datos de mandel.gif que fue hecha con -b 0, -bp 23, -ns
gifextract -b 0 -bp 23 -ns mandel.gif 

-- Extrayendo datos de unaa imgagen encriptada con pgp
./gifextract -b 0 -bp 23 -ns mandel.gif | stealth -a 0x23ffff | 
	pgp -f > secrets.dat

0x23ffff es la clave del pgp


   $$$$$$$$$$$$$$$    
   $   WINDOWS   $
   $$$$$$$$$$$$$$$
	


	Ahora pasamos a ver como va el tema en nuestro amado win
que nos trae tantos recuerdos (estara hecho en visual basic?)
bueno vamos al tema:
 
Bueno con nuestro win usaremos la herramienta stools4, este es un
programa para windows que nos permite encriptar y ocultar datos en
archivos .wav, imagenes en formato bmp y gif, veamos como funciona.

Simplemente abres el programa, en la ventana actions que hay dentro
tienes quee arrastar una imagen o el archivo wav directamente desde
el explorador, luego coges el archivo que quieres ocultar y lo arrastas
a la ventana que aparece la imagen, despues te aparecera  una pantalla
que te pide un password y el modo de encriptacion que se utilizara
DES, Triple DES, MDC y IDEA, IDEA es el mas potente de los 4 cogelo
, despues de  ello te salen opciones de modificar la imagen a tu gusto,
luego le das al boton derecho sobre la nueva imagen te sale la opcion
"Save as"  y la guardas  y bueno puede darse
la casualidad que lo que quieras introdcir una imagen en otra para ello
tienes que  tenr en cuenta el tama±o de la imagen que va a hacer
de contenedor.

Como recuperar lo guardado:
Solo tienes que coger la imagen contenedora del archivo que has
escondido, arrastarla a la ventana Actions, calcar el boton derecho
del raton y darle a reveal, te saldra una ventan piediendo los pass y
el tipo de encriptado, lo pones, empieza a funcionar y te sale el archivo
que has guardado, lo guardas donde quieres y ya esta.



Espero que os haya gustado, igual en siguientes ezines toco el tema en otras 
plataformas, BeOS, OS/2 un saludo 







```

</div>
