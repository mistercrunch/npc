---
title: "17-protegiendonuestronix1"
ezine: "disidents"
---

# 17-protegiendonuestronix1

**Ezine:** disidents

<div className="ascii-content">

```
   *-----------------------------*
   *  PROTEGIENDO NUESTRO UNIX 1 *  
   *                   by DDiego * 
   *  LOS FUERA DE LA LEY        * 
   *-----------------------------*



	No te joderia que un lamer que no tiene ni puta idea de nada, entre en tu 
sistema te chinge tus pass y pretenda salirse con la suya, vamos a hacer algo 
para joderle y joderle bien, porque ese zapper que se bajo ya no le va a
funcionar y no va saber porque :D

Para ello vamos a aprender  un poco a manehjar los atributos de los archivos
que no nos viene mal.

------- Viendo atributos--   lsattr fichero

Lo  primero que vamos a hacer es mirar los atributos del archivo en este caso
es ddiego.txt
[root@localhost pruebas]# lsattr ddiego.txt
------------ ddiego.txt
[root@localhost pruebas]#

+ Como vemos no tiene ningun atributo definido aun

------- Tipos de atributos

"a" este atributo nos va a interesar porque, es un  atributo que solo puede
ser cambiado por el administrador, este atributo hace que el archivo si esta
en modo escritura solo se pueden a±adir datos pero no eliminarlos

"i" este tb solo puede ser cambiado por el administrador, con este atributo no
se puede borrar ni modificar el  fichero de manera alguna, ni a±adiedo ni
borrando tambien es interesante

"s" Borrado "seguro", bueno no tan seguro, si se borra un archivo que tenga
este  atributo los bloques de memoria que contenian el archivo se rellenan con
ceros, asi es "mas dificil recuperarlo" entre comillas


Bueno hay mas  atributos pero la verdad que nos interesan de estos 3  los 2
primeros, por que lo que vamos a tratar es de poner estos atributos en los logs
de tu sistema para que esos zapers no tengan tanto efecto, tb te pueden servir
a ti si no puedes modificar los archivos y puedes saber que esta es una de las
causas, tambien lo puedes  usar en scripts, el fichero de contrase±as,
ficheros de configuraci±on etc, veamos como funciona

--------Modieficando atributos     chattr -atributo  fichero

[root@localhost pruebas]# chattr +i ddiego.txt
[root@localhost pruebas]# lsattr
---i-------- ./ddiego.txt

umm ya esta  modificado ahora vamos a probar  a borrarlo

[root@localhost pruebas]# rm -f ddiego.txt
rm: no se puede deshacer el enlace `ddiego.txt': Operaci≤n no permitida

no deja jeje, ahora vamos a quitarselo ya veras como si
[root@localhost pruebas]# chattr -i ddiego.txt
[root@localhost pruebas]# ls
ddiego.txt
[root@localhost pruebas]# rm -f ddiego.txt
[root@localhost pruebas]# ls
[root@localhost pruebas]#

bueno al final si que se  borro, pero cambiando los atributos, los demas
se usan de la misma forma, aqui os pongo una lista de  donde
suelen estar los logs.
/var/log/wtmp
/var/log/lastlog
/var/adm/acct
/var/run/utmp
/var/log/xferlog
/var/log/messages
/var/log/secure
/var/log/syslog
/var/log/auth.log
/var/log/user.log
/var/log/secure
/var/log/spooler
/var/log/warnings
/var/log/info
/var/log/errors
/var/log/mail


```

</div>
