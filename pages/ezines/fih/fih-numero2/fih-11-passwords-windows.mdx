---
title: "FIH-11-Passwords_Windows"
ezine: "fih"
---

# FIH-11-Passwords_Windows

**Ezine:** fih

<div className="ascii-content">

```
|-----------------------------------------------------------------------------------------------|
|                                     Passwords Windows                                         |
|-----------------------------------------------------------------------------------------------|
| 01-02-2003 |                                                                        Parrao19  |
|-----------------------------------------------------------------------------------------------|
|                            _____ ___ _   _   _____     _                                      |
|                           |  ___|_ _| | | | | ____|___(_)_ __   ___                           |
|                           | |_   | || |_| | |  _| |_  / | '_ \ / _ \                          |
|                           |  _|  | ||  _  | | |___ / /| | | | |  __/                          |
|                           |_|   |___|_| |_| |_____/___|_|_| |_|\___|                          |
|                                      alberto18@terra.es                                       |
|                                                                                               |
|-----------------------------------------------------------------------------------------------|




En este texto voy a hablar de los archivos de password en los sistemas Windows tanto 9x, NT, 2000 como XP. Ya que 
en los 9x son distintos empezaremos hablando de estos.


FICHEROS PWL EN WINDOWS 9x

Como dice el tφtulo, los archivos de passwords en los Windows 9x tiene extensi≤n pwl y estßn en el directorio Windows
(C:\Windows) el nombre que tienen es el nombre del usuario, hay que recordar que estamos en sistema FAT y si el nombre
excede de 8 caracteres s≤lo cogerß los 8 primeros. Ej. usuario administrador serß adminis.pwl 

Este sistema de seguridad es bastante malo, ya que cuando te pedφa la password si le dabas el ESC (escape) entrabas
al sistema sin problemas. Si el sistema estß configurado en red y nos pide la password de red si le damos al ESC 
entramos al sistema pero no tendrΘmos red y no podrΘmos acceder a los recursos de la red. Otro error grave es que
todos los ficheros pwl los puedes copiar, cortar, mover, borrar, modificar, etc sin ning·n tipo de problema, no
tienen ning·n tipo de restricci≤n y no nos darßn problemas.

Con esta explicaci≤n se entiende que la seguridad en Windows 9x no es segura y nuestro sistema estß al alcance de
cualquiera.

Para sacar la password de los ficheros pwl se pueden usar programas como el brutus o cain


FICHERO SAM EN NT, 2000 y XP

En el resto de Windows, el fichero que guarda las password es el fichero sam (C:\WinNT\system32\config) este es un
fichero ya algo mßs complicado, es un fichero que estß siempre en uso, si lo intentamos modificar no nos dejarß y
nos dirß que el archivo estß en uso, esto se debe a alg·n proceso que estß corriendo, no se cual es, pero seguro que 
no deja matarlo o si lo matas cascarß. Cuando arrancamos el sistema y nos pide la password ya no vale lo de dar al
ESC o sabemos la password o estamos perdidos. Con esto ya podemos respirar aunque sea poco, de que nuestro sistema es
algo "mßs" seguro y que serß mßs dificil de entrar en Θl.

En estos sistemas, al hacer la instalaci≤n podemos elegir FAT o NTFS Si instalamos NTFS serß mucho mejor, ya que la
seguridad en FAT es nula y sobre todo que desde FAT no veremos NTFS (hay programas que lo permiten)

Muchos despuΘs de leer esto estarΘis buscando el fichero sam y verΘis que os aparecen dos sam uno en el directorio
que comentΘ antes y otro (puede ser que no os aparezca) en C:\WinNT\Repair El directorio Repair como la palabra 
indica es para alguna reparaci≤n, esto como dice el refrßn es un arma de doble filo, proque para raparaci≤n estß muy
bien pero por otro lado te lo pueden "robar" y usar malamente (puedes hacer modificacion en Θl, no da problemas)
Si solemos hacer disquetes de reparaci≤n, con los sistemas NT tenemos que tener cuidado donde dejamos ese disquete ya que
guarda el fichero sam tambiΘn. Otro fichero interesante es el sam._ que tambiΘn lo encontramos en C:\WinNT\Repair, este 
fichero estß compactado y para usarlo tendriamos que expandirlo antes (comando EXPAND)

Si se nos ha estropeado la SAM y tenemos que sustituirla o bien se puede hacer con la reparaci≤n que trae Windows (es
lo mßs aconsejable) o hacerlo a pelo (si tenemos NTFS nos darß problemas ya que nos hace falta un disquete especial para
poder leer y modificar en NTFS desde DOS) Porque hay que usar un mΘtodo de estos dos?? Por la raz≤n de que como dije antes
el fichero SAM estß bloqueado por el sistema y no nos deja hacer nada con Θl.

Para mayor seguridad en el sistema si pasamos la alta encriptaci≤n de 128 a nuestro sistema mejor que mejor. Otra 
recomendaci≤n serφa deshabilitar el usuario administrador y crearnos otro que no se llame Admin o cosas parecidas, asi
al intruso le resultarß mßs dificil. No es bueno tampoco tener muchos usuarios administradores (con dos o tres serφa 
suficiente)

Para sacar las passwords de estos sistemas, el programa que mßs me gusta a mφ es el LC4, es muy buen programa ya
que te da las posibilidades de sacar las password localmente, remotamente y de disquete de reparaci≤n.

No se me ocurre nada mßs de ficheros SAM si surgen dudas comentadlas en el foro o mandad un e-mail


NTFS

Voy a hablar un poco sobre este sistema de archivos que no mucha gente lo conoce. FAT y FAT32 (versi≤n mejorada) es mßs 
rßpido que NTFS pero menos seguro. Con NTFS nos permite dar nombres largos a los ficheros, crear particiones de mßs de 
4 GB (este es el tope en FAT), existe la MTF (tabla maestra de archivos), seguridad en los archivos y carpetas. Al
arrancar nuestro sistema, chequea los volumenes NTFS, si hay errores aplica CHKDSK directamente. Con NTFS tendrΘmos 
tolerancia a fallos (RAID) Desde NTFS podrΘmos leer FAT y FAT32. Si tenemos un sistema en FAT podrΘmos pasarlo a NTFS 
con la orden CONVERT, hacerlo a la inversa es "tΘcnicamente imposible" (lo pongo entre comillas porque he oido hablar
de que es posible pero yo no lo he probado, y creo que si es posible el sistema de archivos se volverφa loco)

Estos son algunos de los conceptos mßs a tener en cuenta, hay mßs pero no me voy a enrollar ya que querφa s≤lo hacer
una peque±a introducci≤n a este sistema de archivos, para que sonara a la gente.

```

</div>
