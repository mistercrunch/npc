---
title: "FIH-14-Telnet_y_FTP"
ezine: "fih"
---

# FIH-14-Telnet_y_FTP

**Ezine:** fih

<div className="ascii-content">

```
|-------------------------------------------------------------------------------------------------------------|
|                                  FTP, TELNET Y ENV═O DE CORREO ELECTR╙NICO                                  |
|-------------------------------------------------------------------------------------------------------------|
| 23-02-2003 |                                                                                     | reddevil |
|-------------------------------------------------------------------------------------------------------------|
|                                  _____ ___ _   _   _____     _                                              |
|                                 |  ___|_ _| | | | | ____|___(_)_ __   ___                                   |
|                                 | |_   | || |_| | |  _| |_  / | '_ \ / _ \                                  |
|                                 |  _|  | ||  _  | | |___ / /| | | | |  __/                                  |
|                                 |_|   |___|_| |_| |_____/___|_|_| |_|\___|                                  |
|                                            reddevil_FIH@ymmas.net                                           |
|                                                                                                             |
|-------------------------------------------------------------------------------------------------------------|



 0.- Indice.
-------------

           0.- Indice.
           1.- Introducci≤n.
           2.- FTP
	       * ┐QuΘ es, y para quΘ sirve?.
	       * ┐C≤mo se utiliza?

	   3.- Telnet.
               * ┐QuΘ es, y para quΘ sirve?.
	       * ┐C≤mo se utiliza?
	      
	   4.- Envφo de mails.
               * ┐C≤mo se mandan correos electr≤nicos, sin usar el clßsico cliente de correo
	       * ┐Mails an≤nimos?

	   5.- Otros datos interesantes.

           6.- Conclusi≤n y despedida.

  
 1.- Introducci≤n.
-------------------

Bueno amigos, aquφ estoy otra vez mßs dando el tost≤n, antes de empezar a leer, no creais que este
texto es una guφa de como hackear cuentas de correo ni nada por el estilo, simplemente os quiero
explicar, a los que no lo sepais, como y para que sirven estos 2 servicios que todos tenemos disponibles,
como son el FTP (File Transfer Protocol) o Protocolo de transferencia, que ahora os explico lo que 
significa, aunque se que es un poco aburrido, es mejor saber algo de Θl, al igual que del Telnet,
que tambiΘn os explicarΘ a continuaci≤n quΘ es.

Espero, que despuΘs de haberte leφdo esto, no tengas dudas, pero bueno, si a·n asφ las tienes, no dudes
en acceder al foro de la eZine, y exponla a todos, para que asφ se te pueda ayudar. 

Espero que este texto os sea de gran utilidad, como los que he creado y.. seguirΘ creando.


 2.- FTP.
----------

 2.1.- ┐QuΘ es, y para quΘ se utiliza?.

FTP, como ya dije en la introducci≤n, significa File Transfer Protocol o protocolo de transferencia
de archivos, en castellano. Bueno, tras la definici≤n de las siglas, me imagino que ya sepais mßs o menos
para que sirve, pero a·n asφ, por su alguien no se ha enterado, lo digo, este protocolo, sirve, como bien
dice su nombre, para transferir ficheros, o bien de nuestra mßquina a una remota, a lo cual se le llama, upload o 
subir archivos, o de la mßquina remota hacia la nuestra, lo que se suele llamar, Download o descarga
de archivos, que es lo que mßs utilizamos, para bajar nuestras pelis, m·sica y demßs, ┐Os queda claro?.
TambiΘn permite seguir bajandose un archivo despuΘs de un corte de
conexi≤n (por haberse cortado o por ser un archivo muy grande que queremos bajar en varias sesiones)

Un programa de FTP servidor suele abrir el puerto 21 en la mßquina en la que estß instalado, para que se puedan 
conectar por Θl otras mßquinas. Un programa de FTP cliente es el que se utiliza para conectarnos al
servidor. Los hay grßficos, como el CuteFTP para Windows o el IglooFTP para Linux, y
en modo texto, que estßn incluφdos en ambos sistemas operativos (para
arrancarlos, basta con escribir el comando ftp en una ventana de MS-DOS o de la consola texto,
en Windows y Linux respectivamente). En este texto nos centraremos en los programas clientes de texto.

El FTP no estß dise±ado para ejecutar programas, para eso estß telnet, que mßs abajo explicarΘ como usarlo, pero sφ se 
pueden ejecutar algunos, los que sirven para poder decirle a la mßquina que queremos subir o bajar alg·n archivo o para 
navegar entre los directorios.

Hay varios modos de transferencia de ficheros: ASCII y binarios.
Los ficheros ASCII son los archivos de texto, y los binarios todos los demßs (programas, imßgenes...). Si transferimos un 
fichero de texto como binario, seguramente se perderß el formato del archivo (aparecerßn sφmbolos extra±os o saltos de 
lφnea donde no deberφa de haberlos), pero no serß excesivamente grave.

Sin embargo, si transferimos un binario como texto, es casi seguro que quede inutilizable. Por eso es importante 
asegurarse de cambiar el modo antes de bajarse un programa, una imagen o un archivo de sonido. Luego, a menos que 
queramos bajarnos otro archivo, debemos cambiar nuevamente al modo ASCII para poder recibir correctamente la lista 
de archivos de un directorio (al hacer ls). Normalmente no deberemos preocuparnos por esto si utilizamos un programa 
de ftp, aunque sea en modo texto. Pero si nos conectamos mediante un
programa de telnet sφ lo tendremos que tener en cuenta.


 2.2.- ┐C≤mo se utiliza?.

 Los comandos que aquφ os pongo son los mßs importantes de importantes del ftp texto para Linux.
Los del ftp texto para ms-dos son iguales en su mayor parte, asφ que no creo que haya ning·n problema en encontrar los 
comandos equivalentes. Para informaci≤n sobre los comandos que no he incluφdo aquφ, escribir el comando 'man ftp'

ascii = cambia a modo ASCII (por defecto)

binary = cambia a modo binario

bye = quit = exit = íadi≤s!

cd = Cambio Directorio (íojo! no sirve poner 'cd..' como en DOS, hay que poner 'cd ..' (con espacio)

cdup = igual a 'cd ..'

close = disconnect = corta la conexi≤n sin salir del programa

delete = borra un archivo en la mßquina remota

dir = muestra la lista de archivos del directorio actual. No admite parßmetros.

get [archivo.arc] = descargarse el archivo.arc. íOjo! Fφjate de que estßs en el modo adecuado antes de descargarlo.

lcd = sin nada mßs, muestra el directorio local actual. Con un directorio, cambia el directorio local a ese directorio 
(en el directorio local se guardarßn los archivos descargados, y de Θl se cojerßn los que se         suban)

ls = muestra los archivos del directorio actual. Los parßmetros son los mismos que los del ls del s.o.

mkdir = crea un directorio en la mßquina remota.

open = abre una conexi≤n. S≤lo es necesario si no ha sido especificado un sitio en la llamada al programa (como por 
ejemplo, ftp ftp.reddevil.homelinux.org)

proxy = Se conecta a otro sitio sin desconectar del primero.

put = sube un archivo

rename = renombra un archivo/directorio <-- íEsto puede resultar muy interesante a veces! ;-)

reget = seguir bajßndose un archivo que ha sido cortado anteriormente.

rmdir = borra un directorio, siempre que estΘ vacφo (aunque algunos parezca que lo estΘn porque no vemos nada al hacer un 
ls, lo que pasa es que tienen archivos para los que no tenemos permiso de lectura (si no         sabes lo que es esto, lee 
un manual bßsico de UNIX)).

mdelete, mdir, mget, mls = lo mismo que esos comandos sin m, pero para varios archivos / directorios.

Ahora despuΘs de poner un definici≤n de todos los comandos.. vamos a ver una parte prßctica, vamos a subir nuestra 
pßgina wez al servidor, para ponerla en la red. Nuestra pßgina principal se llama index.html, y contiene una imagen 
llamada imagen.jpg, que la queremos poner en un directorio aparte (imßgenes).

Pues bien, primero nos conectamos a nuestro servidor. Esto se hace poniendo el comando 'ftp (servidor)'. Debes sustituir 
(servidor) por el nombre de tu servidor, por ejemplo ftp.servidor.es. Por defecto se asume que el
puerto es el 21, si fuera otro tedrφas que indicßrselo. Por ejemplo, si usa el puerto 4000, tendrφas que poner 
'ftp ftp.servidor.es 4000'.

Ahora nos saldrß un prompt que nos pedirß un login (username). Le ponemos nuestro nombre de usuario. Si quisiΘramos 
conectarnos an≤nimamente tendrφamos que poner 'anonymous' (esto es asφ para la mayorφa de servidores. Puede, 
no obstante, que te encuentres alguno que no sea asφ. En estos casos hay que probar con 'guest' o similares). 
Como este no es el caso, introducimos nuestro nombre de usuario, por ejemplo, pepito.

Luego nos pedirß una contrase±a. Si hemos entrado como 'anonymous' tendremos que poner una direcci≤n de e-mail. 
Poniendo 'guest@' ya vale en la mayor parte de los casos. TambiΘn puedes poner tu verdadera direcci≤n si 
quieres que te acaben de mandar por correo los archivos que no te has podido bajar (el servidor debe aceptar esta opci≤n). 
Si hemos entrado como usuario no an≤nimo, introduciremos nuestra contrase±a.

        íY ya estamos dentro!, ahora podemos ver nuestros directorios.

Si ponemos 'cd ..' veremos que estamos en el directorio raφz. Esto no es asφ en realidad, para la mßquina no es el 
nuestro el directorio raφz, s≤lo lo es para un usuario (nosotros).

Si ponemos 'ls' podremos ver los archivos que hayamos puesto anteriormente nosotros ahφ. TambiΘn veremos varios 
subdirectorios. Uno de ellos es bin, otro sbin. Si miramos dentro de estos subdirectorios veremos que, aparentemente, 
estßn vacφos, pero no es asφ, lo que pasa es que estßn llenos de archivos para los que no tenemos permisos de lectura 
(pero sφ de ejecuci≤n). Si no sabes quΘ quiere decir esto, te recomiendo que mires
la secci≤n de permisos de un manual bßsico de UNIX.

Estos subdirectorios no se pueden borrar, porque contienen archivos de los que no somos los propietarios, pero sφ 
renombrar ;-)

Bueno, a lo que φbamos. Aquφ estß el resto del trabajo. No creo que necesite mßs explicaci≤n que la que ya tiene entre 
los sφmbolos /* y */.

lcd /mipagina  /*cambia el directorio local actual a /mipagina, que es donde se supone que tenemos guardada la pßgina.
Los usuarios de windows tendrßn que usar la barra invertida '\'*/ put index.html /*sube el archivo index.html. 
Como los html son archivos de texto no hace falta cambiar el modo. Si tuvieras problemas, cambia al
modo binary*/ 

mkdir imagenes

cd imagenes /*crea el subdirectorio imagenes y se cambia a Θl (todo en la mßquina remota*/

binary /*cambia a modo binario (vamos a subir la imagen) (esto no es necesario si usamos un programa de ftp, sφ lo es 
si no lo usamos)*/ 

put imagen.jpg

ascii /*vuelve a cambiar al modo ascii (porque vamos a comprobar que todo estß bien, y necesitamos recibir la 
informaci≤n en modo texto (ascii)) (esto no es necesario si usamos un programa de ftp, sφ lo es si no lo usamos)*/

ls /*comprueba que la imagen estß en su sitio*/

quit /*salimos*/
    
  
 3.- Telnet.
-------------
 
 3.1 ┐QuΘ es, y para quΘ sirve?.

Primero creo que hay que distinguir entre un programa de telnet y el protocolo telnet. Un programa cliente de telnet es 
un emulador de terminal (teclado + monitor) con el que nos podremos conectar con nuestro ordenador a
otro y utilizarlo como si nuestro programa fuera un terminal de la mßquina lejana. Es decir, es el que nos permitirß 
conectar a cualquiera de los puertos abiertos de un sistema para aprovecharnos de sus servicios.
Prßcticamente todos los s.o. traen uno. Tanto en Linux como en win se llaman igual: telnet.
TambiΘn hay otros programas que hacen eso. Uno de los mßs conocidos es el CRT (para win), que podrΘis encontrar en 
shareware.com, entre otros muchos lugares.

Y el protocolo telnet es un protocolo orientado a ejecutar programas en una mßquina remota. Nosotros le enviamos la 
informaci≤n al programa de la mßquina lejana mediante el teclado, el programa la procesa en la mßquina lejana, y recibimos 
el resultado en nuestra pantalla. Es decir, este protocolo estß orientado a la ejecuci≤n de programas en la mßquina lejana. 

┐Y c≤mo mßs podemos utilizarlo? Pues nos puede servir para encontrar y utilizar un proxy con el que anonimizarnos mßs, 
por ejemplo..


 3.1.- ┐C≤mo se utiliza?. 

Si querΘis ver una muestra de c≤mo se pueden ejecutar programas en una mßquina lejana, podΘis probar con Θstos:

eucmvx.sim.ucm.es (login: biblioteca) <-- Catßlogo de la universidad
complutense de Madrid

babel.uab.es <-- Catßlogo de la universidad aut≤noma de Barcelona

chess.unix-ag.uni-kl.de (puerto: 5000) <-- Jugar al ajedrez contra otros
usuarios

Para conectar con ellos en Linux debΘis escribir 'telnet servidor' si se usa el puerto 23 (los que no he puesto nada) 
o 'telnet servidor puerto' si se usa otro puerto diferente. P.e.: 'telnet reddevil.homelinux.org' ≤ 
'telnet reddevil.homelinux.org 23'

En windows, iniciad vuestro programa de telnet preferido, y en el men· de conexi≤n escribid el nombre y el puerto 
(dejad telnet si es el 23).
Dejad el tipo de terminal en vt-100. Si no veis lo que escribφs, habilitad el eco (estarß en el cuadro de opciones o 
similar).

Para utilizar un proxy wingate para anonimizarnos, primero tendremos que conseguir una lista de posibles proxys 
conectables. Para ello, vamos al IRC y escribimos '/raw stats glines'. Esto nos darß una lista de gente que ha
sido baneada. Nos quedaremos con los que en el motivo de ban ponga algo de 'proxy abierto' o similar. Nos vamos al 
programa de telnet y probamos con uno.
Si no nos deja conectar, o no dice nada al conectar, pasamos al siguiente. Si nos contesta con el prompt 'wingate>', 
ífelicidades! has encontrado un wingate. Con Θl podrßs conectarte a otro sitio sin dejar tu verdadera IP (quedarß 
guardada en el sitio de la conexi≤n la IP del wingate, y la tuya quedarß
reflejada en el wingate).

Hay algunos wingates que no guardan logs (archivos en los que quedan reflejadas todas las conexiones). ╔stos son los 
que deberemos conseguir encontrar. El problema es que no hay forma de saber si un sitio guarda o
no logs. Por eso es conveniente conectarse a dos o mßs consecutivamente. 
Con esto aumentan las posibilidades de encontrarse uno que no guarde logs, aunque la velocidad disminuye.

Una vez conectado a un wingate, para conectarnos a otro o a cualquier otra parte tendremos que poner 
'open servidor puerto'. 

Y esto es todo, comandos no creo que haga falta poner ya que si por ejemplo estßs usando telnet a una mßquina win, los 
comandos que utilizarßs serßn como si en una ventana msdos se tratase.. cd, dir, copy... y si es a una mßquina linux pues 
igualmente... ls, cd..


 4.- Envφo de mails.
---------------------

 4.1.- ┐C≤mo se mandan correos electr≤nicos, sin usar el clßsico cliente de correo grßfico.

Creo que lo mejor para ver c≤mo funciona el envφo de e-mails es enviandolos "a mano".

Para esto abriremos nuestro programa de telnet, y conectaremos con nuestro servidor de smtp, que estarß en el puerto 25. 
P.e.: telnet mailhost.terra.es 25

DespuΘs de los mensajes de bienvenida, si queremos enviar un mail, escribimos:

mail from: Nadie &lt;nadie@ningunsitio.com>, o bien:
mail from: nadie@ningunsitio.com

La diferencia es que en el primer caso saldrß en el programa de correo empleado para leer nuestro mail que ha sido 
enviado por Nadie, mientras que en el segundo caso habrß sido enviado por nadie@ningunsitio.com.

Hay algunos servidores que requieren que el servidor que hay detrßs de la @ exista. En ese caso basta con poner un 
servidor que exista (no necesariamente nuestro ;-) )

        Para designar el receptor:

rcpt to: Amigo &lt;amigo@nuestro.es> (rcpt significa recipient)

Ahora viene el cuerpo del mensaje. Le decimos al servidor que queremos introducirlo escribiendo: "data"

Si no ponemos nada, la primera lφnea serß el subject, luego tendremos que dejar una lφnea en blanco, y el resto el 
cuerpo del mensaje.
Finalizaremos con un puntito s≤lo en una lφnea.

Pero tambiΘn podemos poner nuestras propias cabeceras. Como las ·nicas obligatorias son el from, el to, y el Received 
(que lo pone el servidor y no podemos modificar), las demßs nos las podemos inventar, o copiar de las
que ponen los programas de correo. Esto incluye, entre otras, la fecha. 
Seguramente el servidor la incluirß por otro lado, pero puede ayudar a sembrar la confusi≤n ;-). La ·ltima que debemos 
poner debe ser el subject: , y a partir de esa ya vendrß el mensaje.
Esto es todo asφ de facil es enviar un correo electr≤nico vφa telnet.


 4.2.- ┐Mails an≤nimos?

TambiΘn llamados remailer an≤nimos. Son los servidores de correo saliente que no incluyen la IP del que la
envφa. Podemos saber si un servidor es o no un remailer an≤nimo con el comando helo. Ponemos: 

helo cualquiercosa

Si nos contesta con:

Helo (nuestronombreenlared) [(nuestraip)] please to meet you.

Ya nos podemos olvidar, porque no es un remailer an≤nimo. Si en la contestaci≤n no se incluye nuestra IP, seguramente sφ 
lo serß. Podemos comprobarlo enviando un mensaje y comprobando si la incluye. 

El comando helo es conveniente utilizarlo al conectar a un servidor smtp. No es necesario, pero si no lo usamos en las 
cabeceras del mensaje se incluirß un warning (advertencia) de que somos unos maleducados que no 
saludamos :-D.

TambiΘn se llama remailer an≤nimo a cierto servicio en la red, al que nosotros dirigimos nuestros mensajes, y ellos 
eliminan el campo From y lo redirigen al receptor original.

Ninguno de estos dos sistemas es completamente an≤nimo, ya que si hacemos alguna 'guarrerida' y a los MIG les da por 
investigar, como nuestra entrada en estos servidores ha quedado registrada, no tendrßn mucha dificultad
para seguir el rastro.


 5.- Otros datos de interΘs.
-----------------------------

Bueno en esta parte, solo quiero explicar a grandes rasgos, quΘ es y para que sirve un puerto.

Un puerto l≤gico es en parte similar a un puerto fφsico (eso que hay detrßs de la caja del ordenador, donde conectamos 
la impresora, el rat≤n, el m≤dem...). Detrßs de cada puerto hay un programa, que da un servicio a
todo aquel que se conecte a Θl y tenga permiso para acceder al servicio.

Para que sea accesible, el puerto debe estar 'abierto'. Ademßs, debe tener un programa detrßs de Θl, porque si no, 
aunque nos conectemos, no podremos hacer nada con Θl. Para saber quΘ puertos estßn abiertos debemos usar
un scaner. 

Hay miles de listas muy completas con todos los puertos. Abajo incluyo una para mayor comodidad, con los puertos mßs 
comunes y/o mßs importantes.

En la lista se asume que cada puerto estß relacionado con su n·mero asociado (ftp con el 21, smtp con el 25, etc...), 
pero nada impide que podamos intercambiar estos n·meros (poner el ftp en el 1234, p.e.). TambiΘn
recordar que a la hora de conectar con un puerto da igual poner su n·mero que su nombre ('telnet www.servidor.com 21' 
es equivalente a 'telnet www.servidor.com ftp')

        Y aquφ estß la lista:

     Puerto     Servicio        Utilidad
   -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=- 
       7        echo            Lo que teclees se volvera a escribir 
       9        discard         dev/null - basura 
       11       systat          Informacion sobre los usuarios 
       13                       Hora y fecha en el host remoto 
       15       netstat         Informacion sobre la red 
       21       ftp             Transferencia de ficheros 
       23       telnet          Acceso al shell 
       25       smtp            Correo saliente 
       37       time            Hora en el host remoto 
       39       rlp             Localizacion del recurso 
       43       whois           Informacion sobre la red y el host 
       53       domain          Nombre del servidor 
       70       gopher          Buscador de informacion (ya anticuado) 
       79       finger          Informacion sobre los usuarios 
       80       www             Servidor de Web 
       110      pop3            Correo entrante 
       119      nntp            Grupos de noticias (news)
       139      nbsession       Netbios session
       443      shttp           Servidor de Web 'seguro'
       512      biff            Notificacion de correo 
       513      rlogin          Login remoto 
       514      shell           Comando remoto 
       515      spooler 
       520      route           Protocolo de informacion routing 
       8000     http            Otro servidor de web.
       8080     proxy 


 6.- Conclusi≤n y despedida.
-----------------------------

Bueno amigos, esto es todo en este texto, como siempre, deciros que espero que os haya servido para algo de utilidad y 
sobre todo espero que algo aprendieseis con Θl, ya que esa es mi ·nica proposici≤n con escribir los textos para vosotros..

                         Y bueno, esto ha sido todo. Espero no haberos aburrido mucho.

--------------
   REDDEVIL  |
---------------------------------
reddevil_fih@ymmas.net          |
Clave p·blica en: www.ymmas.net |--- No es mßs sabio quien tiene conocimientos sino quien sabe demostrarlos ---
Evita mandar spam               |
---------------------------------
   


```

</div>
