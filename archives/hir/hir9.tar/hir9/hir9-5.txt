----------------------------=( HiR Issue #9 )=----------------------------
-----------------------=( Creation of the Coupler )=----------------------
------------------------------=( By: Axon )=------------------------------
------------------=( Digital Pictures on the HiR site )=------------------

Creating a coupler, eh?  Well, this is the mammoth that I've been wanting
for the longest time... An article, with instructions, on how to make the
acoustic coupler.  Granted, I did not "create" the acoustic coupler...
But indeed I did come up with a way to make one out of some cheap stuff
that can be found at any wal-mart and radio shack store... The best part
is that I spent less than $20 making this beast.  It's not at all
professional looking, and it's not as "heavy-duty" and rugged looking as
some of the expensive couplers on today's market, but it makes a decent 
connection, and that's all ya need.  It's not as compact as the
production couplers, either; BUT IT'S A COUPLER!  Wow your friends and
amaze them, cuz you can tell 'em you wired this one up yourself (but 
tell 'em Axon told you how to do it!) 

This Coupler can only handle about 2400 bps on a good phone.  This is
plenty for checking e-mail, telnetting to a unix box, or getting on 
the local Bulletin Boards.  It's sufficient for getting online from a
payphone.  The reason the connection is slower than a store-bought
coupler is because the more expensive ones have a lot of fancy stuff,
anti-echoing filters and the like.  I don't have the expertise to build
this type of circuit, but this coupler DOES work.  I HAVE tested this on a
lot of payphones already, and it seems to work great at 1200 bps (which is
what I usually use on payphones with my high-end coupler, too).  So far,
I've put about 10 hours on the coupler, and I haven't had to change the
battery in it yet.  Actual battery runtime might differ according to your
modem.  ALSO: As with my coupler, there are probably some PCMCIA (laptop)
modems that this doesn't work with...  It should work with almost any
external modem.  Test it with an external modem if you have any problems.

------------------------=( Some Background Info! )=-----------------------

The theory behind the coupler is simple: It takes modem sounds from a
modular jack, and converts them to audio sounds, and forces them into the
microphone of a telephone handset.  At the same time, it's also listening
to the handset's speaker, and converting that back to electrical signals,
and forcing them back into the modem, through the modular jack.  This
allows one to connect via modem in areas where you can't find a safe 
modular phone jack to plug into.  This is great for hotels and offices
with digital phones, at pay phones in the airport, or anywhere.  You just
strap the coupler to the phone handset, and use the modem normally (after
inserting change in pay phones, if needed)

I have a store-bought high-end VERY nice acoustic coupler, but the more
and more I thought about it, the more and more I saw that my coupler is
just an inside-out telephone... Obviousely, hooking 2 telephones together
with a phone cord won't allow the 2 phones to talk to each other, there
has to be a voltage source or something, so I took a chance by slicing one
of the wires (the green one in this case), and placing a 9-volt battery
across it, in series.  The 2 phones that were on either end of the cord
would actually hear the other end.  The 2 phones acted like normal.  
(NOTE: Hooking 2 modems together with a phone cord that has a 9v battery
wired in series will allow the 2 modems to communicate without using any
telco phone lines!)

I plugged one end of the cord into my laptop modem, and held the phone on
the other end close to our office phone, so the Mics and speakers were
facing the opposite way (end to end, speaker to microphone), and made a
real-life 300 BPS internet connection.  This is where it all began for
me.  I quickly drew up a sketch of what I would have to do to make a
normal phone into a coupler.  I then went and bought the parts and made my
first coupler at home in a matter of hours.  When it was done, it worked
great, just like my store-bought one, but a lot uglier.  For 20 bucks
worth of parts, I am pleased!

-----------------------=( Some Assembly Required. )=----------------------

This is going to be the official hands-on article for HiR 9.  For those of
you who still like soldering, and cutting wires, and opening stuff up,
this is for you.  For you software-only guys: this is NOT an easy project
to undertake, but feel free to try.  Worst case: you're out about 20 bucks
of parts.

---------------------------------------------------------------------------
Parts List:

From Wal-Mart:

$7.97	I bought a cheap Unisonic "Slim Line" (model #6420 FG) from
	Wal-Mart.
	But any single-piece phone (doesn't have a cord from the base
	unit to the handset) will work fine, I'd guess.

$0.96	A 3-pack of medium suction cups (1.5 inches diameter, but we only 
	need 2 suction cups.  I tried large ones, WAY too big).  These
	will become cut up and no-longer good for suction cups.  We're
	using them to keep noise isolated away from the speaker and
	microphone.

$2.44	30-inch velcro straps.  These are going to hold the phone handset
	down to the coupler, to maintain as much isolated noise as
	possible.  If loud noises get picked up by the coupler, it could
	be mistaken for data, and may even cause you to disconnect.  Most
	of the modern modem protocols can handle this type of noise
	without actual data errors, but play it safe.


From Radio Shack:

$1.89	Set of five 9-Volt battery terminals.  We just need one, though.
	This will connect the 9-volt battery to the coupler's phone line.

Opt.	You may want to get a small project case or a battery holder.
	Determine this after you open your phone up.

---------------------------------------------------------------------------

1.  Open the phone up. Remove screws, snap the case open, whatever.  Try
	not to damage the phone's outer plastic too much, because if there
	is enough room for a 9-volt inside there, it saves you from using
	a project case.  Be CAREFUL with the wires to the Mic and Speaker.

2.  Try to get the guts out of the phone case.  Loosen up the speaker,
	mic, ringer buzzer, and the circuit boards.  You should be able to
	get all the stuff out, leaving an (almost) empty shell of the
	phone.  Try to get just the circuit boards in there, as the
	speaker and mic will be on the outise of the case at the end of
	this project.  If there is enough room for a 9-Volt battery to
	fit inside and close the case, then you should probably stick with
	this phone shell as the case for the coupler.

3.  Cut the centers out of the suction cups so that they fit the mic and
	speaker nicely.  They should be fit so that hot-melt-glue can be
	used to hold them in place.  They should look like this (but DO
	NOT glue them on yet!):

		speaker			   Microphone

  Suction cup-->\_____/      __________       \__/ <---Suction cup    
		 |   |      / Circuit /       |__|   
                 \___======/ Board   /        //
                           |________/==========     _
                             \\                    [ |
                              =====================[_| <-- RJ11 Jack.


4.  This is where you may need some soldering skills.  The Speaker wires
	will probably be really short.  You will probably want to  
	lengthen them up by adding more wire, like 4 or 5 inches.  Just
	lengthen it up a bit so that it can be positioned to reach the
	microphone of almost any handset.

5.  Now, to add the battery.  You need to cut the green wire coming from
	the RJ-11 Jack on the phone.  Wire the 9-volt battery terminal in
	series with the green wire... This should be done inside the case
	or inside the phone if you verified there was enough room for it. 
	It should look like this:

     _|_               to circuit board... -->
	|-------------------------------------------------- < Red Wire
  RJ-11 |
     ___|--------------_      _---------------------------- < Green Wire
      |	                \    /
      \  Inside Phone   _\__/_
       \                 o__O
        \_              |    |
                        | 9v |
                        |____|
		


6.  I mounted the microphone on the top of the phone case, and placed a
	Velcro strap by the microphone.  I kept the speaker loose so it
	could strap onto almost any phone, and I put velcro on it as well.
	Finished, it looks like this (you may need to drill holes for 
	wires to run through.  This is roughly what my finished coupler
	looks like:

                                                           
	\_____/              ______________________\_/_   <-- Mic (built
speaker  |   |              /                          \      into case)
         \___==============|                            |
           []              |____________________________|=========
           []                         []            []    ^^^
velcro --> []                         []            []   Phone cord
                                      []            []   (to modem)
                                      [] <--velcro->[]


-----------------------=( Using your new coupler )=----------------------


I basically strap the speaker of the phone handset to the microphone, and
strap the coupler's speaker to the handset's microphone, hook it up and
modemize.  Also, there's no need for an on-off switch for this coupler.
It only connects the battery when the modem goes off-hook to dial, and
while connected.  When you disconnect, the battery's not in use anymore.

There was an article earlier, in HiR 1 called "List of hacking
necessities", and I cover some general useage of the Acoustic coupler in
there.  I did find some more info on changing what Baud rate your modem is
using.  You probably have to set your modem for 1200 to 2400 bps for the
coupler to work.

Table of AT commands to set baud rate limiters.  I've run across 2 sets of
AT commands.  All of my modems work with one of these or the other, but I
can't guarantee that either one of these sets will work for your modem.
I won't go all the way up to 57,600 bps... if you need to limit your
speed, you'll have to limit it to 9600 or lower (on a commercial coupler).
Like I said, 2400 is about the best that this home-brew coupler will pull.

	Baud Rate (bps)		AT Command	Alternate AT Command
	--------------		----------	--------------------
	300			???		AT&N1
	1200			ATF4		AT&N2
	2400			ATF5		AT&N3
	4800			ATF6		AT&N4
	7200			ATF7		AT&N5
	9600			ATF8		AT&N6
	--------------		----------	--------------------


Happy hackin', and the digital photos are going to be linked from the 
HiR 9 page as soon as I have them sucked off the digi-cam, to show you
what my coupler really looks like... If you want to download them, They'll
be downloadable as hir9pics.zip and hir9pics.tar.gz from the HiR 9 page,
and in the HiR_Archive section of the ftp site...
