
  __________________________________________________________________
 |                                                                  |
 |  I want my FTP (Win32)                                           |
 |                                                                  |
 |                       Birinahite Santanna <birinahite@yahoo.com> |
 |__________________________________________________________________|


  Com a chegada de meios de acesso mais rápidos à Internet, é cada
  vez mais comum ver servidores domésticos no ar. As possibilidades
  são enormes: montar seu próprio servidor Web (httpd), FTP (ftpd),
  IRC, etc.

  Neste documento vou explicar como montar um servidor FTP em 
  máquinas RWIN95/98/NT.


  --------------
  O SERVIDOR FTP
  --------------

  Existem uma boa quantidade de servidores FTP (ftp daemons) para
  Win32, sendo a maioria pago ou shareware. Dentre todos os que
  testei, o que mais gostei foi o Serv-U. É um programa simples e
  bem fácil de usar. Não é a toa que é o daemon mais popular no
  mundo Win32.

  Supondo que você já tenha comprado este programa (ou feito o 
  download, e aplicado um patch) e agora o tenha em execução
  (não, não vou explicar passo à passo como instalar e configurar),
  faça o seguinte:

  - descubra o seu endereço IP (se não sabe como, abra uma janela
  DOS e digite winipcfg); suponha que seu endereço seja 128.1.1.44;
  
  - digite no prompt 'ftp 128.1.1.44' -- você deve receber as seguintes
  mensagens:

          Connected to 128.1.1.44.
          220 Serv-U FTP-Server v2.5 for WinSock ready...
          User (128.1.1.44:(none)):

  - se não recebeu as mensagens acima e sim 'Unknown host', algo está
  errado -- se vire !

  A partir disso, você já tem seu servidor FTP na Internet -- basta
  divulgar seu endereço IP para tomo mundo que deseja conectar-se a sua
  máquina. Muitos fazem isso via newsgroups e/ou uma home-page. 

  Infelizmente, este endereço muda a cada conexão (a menos que seu
  provedor lhe forneça um IP fixo, o que é muito difícil). Mas, espere...
  existe uma solução para este problema. Veja como contorná-lo na
  seção seguinte.


  -------------
  NOME AOS BOIS
  -------------

  Para contornar o problema apresentado na seção anterior, existe um
  serviço chamado DynIp (que infelizmente é pago). Mas nem tudo está
  perdido, eles lhe fornecem um prazo de 30 dias para experimentar o
  serviço. Mas qual é mesmo este serviço. Bom, você vai requisitar um
  nome para sua máquina -- atualmente eu estou usando mp666. Assim, o
  meu endereço fica mp666.dynip.org. 

  Como funciona ?
 
  Toda vez que eu me conecto, meu IP é enviado para os servidores da
  DynIp que atualizam um 'tabela'. Assim, todas as requisições de
  acesso ao endereço mp666.dynip.org é resolvida e fornecido o
  endereço IP atual. Quando estou offline, tenho um IP fixo que
  indica que a máquina está fora do ar.

  No final de 30 dias, se eu não me registrar, perderei o nome mp666.
  Mas acho que nada me impede de utilizar mp666_1099, mp666_1199,
  mp666_1299, mp666_0100, etc... Assim espero...

  Para que isso funcione, é necessário baixar o programa cliente no
  endereço: http://www.dynip.com/

  Lá se encontram clientes para RWIN e Linux.

  Pronto, você não é apenas mais um número na Rede -- você tem um
  nome. E agora. Você pode testar se a resolução está funcionando
  corretamente. Tente dar um ping no seu endereço. No meu caso, abri
  uma janela DOS e digitei

  -------

  C:\>ping mp666.dynip.com

  Pinging xxx.yyy.zzz with 32 bytes of data:
 
  Reply from xxx.yyy.zzz: bytes=32 time=5ms TTL=253
  Reply from xxx.yyy.zzz: bytes=32 time=3ms TTL=253
  Reply from xxx.yyy.zzz: bytes=32 time=2ms TTL=253
  Reply from xxx.yyy.zzz: bytes=32 time=3ms TTL=253

  -------

  Onde xxx.yyy.zzz é o meu IP durante aquela conexão.
  
  Se o comando ping respondeu "Reply from ..." isso quer dizer que
  ele encontrou a máquina e ela está 'viva' (respondeu ao ping).

  Agora, tente conectar-se a sua máquina via FTP. Como ? 
                         
                     ftp mp666.dynip.com 

  Certifique-se que o Serv-U esteja rodando.

  
  -----
  RATIO
  -----

  Prezado leitor, se você é do tempo dos BBSes deve saber do que se
  trata isso. Bom, nos BBS'es existiam áreas de arquivos onde
  podiamos fazer download. Algumas destas áreas usavam a política de
  RATIO, ou seja para baixar uma arquivo, você precisava estar com
  créditos suficientes. Mas como era possível conseguir estes
  créditos ? Simples, bastava subir um arquivo. Existia uma razão
  entre o número de bytes subidos e baixados. Explico: numa área de
  RATIO 1/3 (1:3) para cada byte que você subisse, teria direito de
  baixar 3 bytes. Algumas eram mais generosas, chegando a ter um
  RATIO de 1/5 ou mesmo não ter RATIO algum.

  Bom, mas o que isso tem a ver com este artigo ? Muita coisa. A
  maioria dos daemons de FTP implementa o recurso de RATIO, inclusive
  o ServU. Se você for um pouco perspicaz já deve ter descoberto uma
  utilidade para o RATIO. Com ele, você impede que seu FTP site seja
  apenas sugado. Os usuários são obrigados a contribuir, através de
  uploads, com sua coleção de arquivos.


  ----------------
  ÚLTIMAS PALAVRAS
  ----------------

  Escrevi este artigo motivado pela experiência que tive com um
  ftp server de MP3. Infelizmente, o meu acesso é via linha telefônica
  e possuo apenas uma. Tornou-se inviável manter o site no ar.
  Talvez quando eu tenha uma segunda linha ou uma conexão a cabo,
  meu ftp volte a atacar.


  ---------
  MELHORIAS
  ---------

  Este documento não está totalmente pronto (talvez nunca esteja...).
  Com tempo, devo acrescentar mais informação a ele. Se tiver
  qualquer dúvida, crítica ou sugestão, me envie um email.

  Aguardem uma versão Linux.


  -----
  LINKS
  -----

  http://www.ftpserv-u.com/
  http://www.dynip.com/


  +-----------------------------------------------------------------+
  | I want my FTP (Win32) - versão 1.0                              |
  |                                                                 |
  | Copyright © 1999                                                | 
  | Birinahite Santanna <birinahite@yahoo.com>                      | 
  |                                                                 |
  | Este documento pode ser distribuído livremente desde que não    |
  | tenha seu conteúdo alterado.                                    |
  +-----------------------------------------------------------------+