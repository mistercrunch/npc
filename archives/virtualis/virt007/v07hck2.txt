  
   ___________________________________________________________________
  |                                                                   |
  |   Vírus benéficos ainda são uma má idéia ?                        |
  |                                                                   |
  |                                          traduzido por Dr Herman  |
  |___________________________________________________________________|


            Are "Good" Computer Viruses Still a Bad Idea?

                Vesselin Bontchev, research associate
               Virus Test Center, University of Hamburg
             Vogt-Koelln-Str. 30, 22527 Hamburg, Germany
               bontchev@fbihh.informatik.uni-hamburg.de


  Durante os seis últimos anos, os vírus de computador causaram
  incontáveis danos - sendo a maioria, desperdício de tempo e
  recursos. Para a maioria dos usuários, o termo "vírus de 
  computador" é sinônimo de grandes pesadelos que podem acontecer
  nos seus sistemas. Ainda hoje, conhecidos pesquisadores insistem
  que é possível usar o mecanismo de replicação de programas
  viróticos para algum propósito útil e benéfico.

  Este artigo é uma tentativa de se provar porque os vírus são
  tidos como uma coisa má. Analisa também, vários modelos propostos 
  de vírus "benéficos" e expõe os seus problemas. Uma série de 
  condições é mostrada, na qual todo vírus que se diz benéfico deve
  estar de acordo. Finalmente, um modelo realístico usando técnicas
  de replicação para propósitos benéficos é proposto e direções são
  dadas para que estas técnicas possam ser melhoradas posteriormente.

  O artigo também demonstra que a pricipal razão para o conflito
  entre aqueles que defendem a idéia de "vírus benéficos" e 
  aqueles que são contra, é que os dois lados estão assumindo uma
  definição diferente do que um vírus de computador é.


  1. O que é um vírus de computador ?
  
  As pessoas em geral, associam o termo "vírus de computador" a um
  programa pequeno e malicioso* , que objetiva destruir a informação
  de suas máquinas. Como sempre, o senso comum nem sempre é correto.
  Existem vários tipos de programas destrutivos e maliciosos e os
  vírus são apenas um destes tipos. Tais programas incluem 'backdoors',
  'bombas lógigas', 'cavalos de tróia' e por aí vai. Além do mais,
  vários vírus não são  intencionalmente destrutivos - alguns
  simplesmente mostram uma mensagem, tocam uma musiquinha, ou mesmo,
  não fazem nada que possa ser notado. Uma coisa importante,
  entretanto, é que mesmo aqueles vírus que não são intencionalmente
  destrutivos não deixam de ser inofensivos - eles causam vários
  danos quando se pensa em tempo, dinheiro e recursos gastos para removê-
  los - porque geralmente eles não são desejados e o usuário deseja se
  ver livre deles.

  Uma definição mais precisa e científica do termo "vírus de 
  computador" foi proposta pelo Dr. Fred Cohen no seu artigo 
  "Computer Viruses - Theory and Experiments" (Vírus de computador -
  Teoria e experimentos). Sua definição é matemática - ele define
  um vírus como uma seqüência de símbolos em uma fita da "Máquina
  de Turing". A definição é um tanto difícil de ser expressa numa
  linguagem humana, mas uma interpretação aproximada é que uma vírus
  de computador é "um programa capaz de infectar outros programas
  alterando-os para incluir uma cópia de si mesmo".

  Infelizmente, existem vários problemas com esta definição. Uma delas
  é que ele não menciona a possibilidade de um vírus de infectar um
  programa sem modificá-lo - através da sua inserção no caminho da
  execução. Alguns exemplos típicos são os vírus de boot e os 'vírus
  companion'. Entretanto, isto é uma falha apenas da definição expressa
  através da linguagem humana - a expressão matemática define os termos
  "programa" e "modificar" de uma maneira que claramente inclui os
  tipos de vírus mencionados acima.

  Um   segundo   problema  com  a  definição  acima  é  a ausência de 
  recursividade. Isso é, ela não especifica  que  após  infectar  um
  programa, um vírus deveria ser capaz de se replicar adiante, usando
  o programa infectado como um hospedeiro.

  Outro problema, com a definição do Dr. Cohen é que ela é muito ampla
  para ser útil na prática. De fato, sua definição classifica como
  "vírus de computador" mesmo o caso de um compilador que está
  compilando seu próprio programa fonte, um gerenciador de arquivos
  usado para copiar a si próprio, e mesmo o programa DISKCOPY quando
  ele está num disquete contendo o sistema operacional - porque ele
  pode ser usado para produzir uma cópia exata dos programas neste
  disquete.
 
  A fim de entender o motivo do problema acima, devemos prestar atenção
  para qual objetivo a definição do Dr. Cohen foi feita. Seu objetivo
  foi provar vários teoremas sobre os aspectos computacionais dos vírus
  de computador. Para fazer isso, ele desenvolveu um modelo matemático
  (formal) de um vírus de computador. Para este propósito, é preciso
  um modelo matemático de um computador. Um dos modelos mais usados
  é a Máquina de Turing (MT). Realmente, existem poucos modelos (e.g.,
  "Markoff chains", "Post Machine", etc.), mas eles não são tão 
  convenientes como a MT e todos são comprovadamente equivalentes a TM.

  Infelizmente, no ambiente da MT, não podemos falar em "programas" que
  modificam "outros programas" - simplesmente proque uma MT tem apenas
  um único programa - o conteúdo da fita daquela MT. É por isso que o
  modelo de vírus de Cohen considera a história dos estados da fita da
  MT. Se a seqüência de símbolos nesta fita aparece mais tarde em algum
  outro lugar da fita, então esta seqüência de símbolos é dita um vírus
  de computador para aquela MT em particular. É importante notar que um
  vírus de computador sempre deveria ser considerado como relacionado
  a algum ambiente computacional - uma MT particular. Isso pode ser
  provado que para qualquer MT em particular existe uma seqüência de
  símbolos que é o vírus para aquele MT em particular.

  Finalmente, os 'experts' geralmente usam definições para o termo
  "vírus de computador", que são menos precisas que o modelo do Dr.
  Cohen, mas que, ao mesmo tempo são muito mais úteis e práticas e
  continuam sendo muito mais corretas das que ouvimos por aí. Uma das
  melhores definições é a Brian Seborg :

    "Defimos um vírus de computador como um programa auto-replicante
    que 'infecta' outros programas através de sua modificação ou de
    seu ambiente de modo que uma chamada a este programa 'infectado'
    implica numa chamada possivelmente 'envolvida', e na maioria dos
    casos, funcionalmente similar,  de uma cópia do 'vírus'."

  A coisa mais importante a ser notada é que um vírus de computador é
  um programa capaz de replicar-se. A definição não especifica 
  explicitamente que ele é um programa malicioso. Também, um programa
  que não se replica não é um vírus, não importa se ele é malicioso ou
  não. Portanto, a malícia não é uma necessidade, nem uma propriedade
  suficiente para que um programa seja um vírus de computador.

  Entretanto, nos últimos dez anos um grande número de vírus 
  intencionalmente ou não intencionalmente destrutivos foram causa
  de incontáveis danos - a maioria sendo perda de tempo, dinheiro,
  e recursos gastos para eradicá-los - porque em todos os casos
  eles não eram desejados. Algum dano também foi causado diretamente
  pela perda de informações valiosas devido aos efeitos destruitivos
  de alguns vírus, mas esta perda é relativamente menor quando 
  comparada a causa principal. Por último, um terceiro e indireto
  tipo de dano é causado pela sociedade - muitos usuários são 
  forçados a gastar dinheiro e tempo para comprar e instalar vários
  tipos de proteção anti-viróticas.
  
  Isso tudo significa que os vírus de computador podem ser apenas
  prejudiciais ? Intuitivamente, vírus de computador são apenas
  um tipo de tecnologia. Como qualquer outro tipo de tecnologia,
  eles são eticamente neutros - não são "maus" nem "bons" - é o
  propósito usado pelas pessoas que os criaram. Por enquanto, eles
  foram usados principalmente para propósitos maus. Conseqüentemente
  é natural perguntar se é possível usar este tipo de tecnologia
  para propósitos bons. Realmente, várias pessoas fazem esta
  pergunta. Algumas pessoas menos qualificadas tentaram até 
  implementar a idéia, mas falharam (veja a seção 3). É natural 
  perguntar - por que ? Vamos considerar que as razões por que
  a idéia de um vírus "do bem" geralmente é rejeitada pelo grande
  público. Para isso, deveremos considerar o porque achamos que um
  vírus de computador é sempre destrutivo e não pode ser usado para
  para propósitos benéficos.
  

  2. Por que os vírus de computador são tidos como prejudiciais ?

  Há um ano atrás, perguntamos aos participantes do fórum eletrônico
  Virus-L/comp.virus, que é dedicado a discussões sobre vírus de 
  computador, para citar todas as razões para as quais eles achavam
  que um vírus de computador não poderia ser usado para motivos
  benéficos. O que segue é a lista destes motivos.


  2.1. Motivos técnicos
  
  Esta seção mostra os argumentos técnicos contrários aos "vírus
  benéficos". Estes são os mais objetivos.

  
  2.1.1. Ausência de controle
  
  Uma vez solto, não é possível controlar a disseminação de um vírus.
  Ele passa de uma máquina para outra, usando padrões não previsíveis
  Claramente, ele pode facilmente alcançar sistemas nos quais não é
  desejado ou sistemas nos quais seria incompatível e causaria danos
  não intencionais. Não é possível para os criadores de vírus preverem
  em quais sistemas seus vírus serão executados e, alem disso, é
  impossível testar o vírus em todos estes sistemas. Além do mais,
  durante sua disseminação, um vírus pode alcançar mesmo um sistema
  que não existia quando o vírus foi criado - e portanto, seria
  impossível testar o vírus naquele sistema.

  O que foi dito acima nem sempre é verdadeiro - isto é, é possível
  testar o vírus num grande número de sistemas onde o vírus seria
  executado. Entretanto, é o potencial destrutivo de um programa que
  se espalha sem nenhum controle que assusta aos usuários.


  2.1.2. Dificuldade de reconhecimento
  
  Atualmente, existem muitos vírus de computador que são 
  intencionalmente destrutivos ou, de alguma maneira perigosos. Em 
  contrapartida, existem anti-vírus que os detectam e os removem.
  Todos estes perigosos vírus não vão desaparecer do dia para noite.
  Assim sendo, se alguém desenvolver uma classe de vírus benéficos e
  as pessoas realmente começarem a "usá-los", então os anti-vírus
  teriam que ser capazes de distiguir entre os vírus "bons" e os 
  "maus".
   
  Infelizmente, é teoricamente impossível distiguir entre um vírus e
  um programa normal. Não há motivos para pensar que a distinção entre
  os vírus "bons" e "maus" será fácil. Supondo que seja possível 
  distigui-los usando um anti-vírus específico, não podemos esquecer
  que muitas pessoas continuarão utilizando anti-vírus "comuns". Tais
  anti-vírus são feitos para detectar modificações, não vírus 
  específicos, e conseqüentemente "alertariam" também quando 
  encontrasem vírus benéficos. A experiência mostra que o custo destes
  "alarmes falsos" é o mesmo de uma "infecção verdadeira" feita por um
  vírus "do mau" - porque os usuários gastariam muito tempo e recursos 
  procurando por um problema inexistente.


  2.1.3. Desperdício de recursos
  
  Um vírus consome espaço em disco, tempo de processamento e memória
  durante sua replicação. Um vírus é um devorador de recursos auto-
  replicante. Um exemplo típico é o "Internet Worm", acidentalmente
  solto por um estudante de Carnegie-Mellon. Ele não foi criado sendo
  intencionalmente destrutivo, mas durante seu processo de replicação,
  múltiplas cópias suas gastaram tantos recursos que praticamente
  derrubaram uma grande parte da Internet.

  Mesmo quando um vírus usa recursos limitados, é considerado ruim pelo
  dono da máquina na qual está instalado se isso acontece sem autorização.


  2.1.4. Contenção de erros
  
  Um vírus pode facilmente escapar de um ambiente controlado e isso o
  torna muito difícil de testar. E realmente - a experiência nos 
  mostra que quase todos os vírus que foram soltos tem alguns erros,
  que até os impediriam de funcionar em alguns ambientes, ou até,
  causariam danos não intencionais neste ambientes.

  É claro, qualquer programa pode (e geralmente) conter erros. Isto é
  especialmente verdadeiro para sistemas grandes e complexos. 
  Entretanto, um vírus não é apenas um programa normal com erros. É um
  programa auto-replicante com erros e que está fora de controle. Mesmo
  se o autor do vírus descobrisse o erro mais tarde, existe o problema,
  praticamente impossível de anular todas as cópias do vírus e trocá-las
  por versões novas.

  
  2.1.5. Problemas de compatibilidade

  Um vírus que pode se anexar em qualquer programa do usuário 
  desabilitaria vários programas que fazem um "checksum" em si próprios
  em tempo de execução e recusam a rodar se modificados. Em juízo, o
  vírus realizaria um ataque "denial-of-service" e assim causaria danos.

  Outro problema surge de algumas tentativas de solucionar o problema
  de "ausência de controle" através da criação de um vírus que pede
  permissão antes de infectar. Infelizmente, isso causa uma interrupção
  na tarefa que está sendo executada no momento, até que o usuário
  forneça uma resposta. Além de ser irritante para o usuário, isso pode
  até ser perigoso. Considere o seguinte exemplo.

  É possível que um computador seja usado para controlar algum tipo de
  equipamento essencial a vida em um hospital. Suponha que este
  computador seja infectado por um vírus "benéfico", que pede permissão
  antes de infectar qualquer programa. É perfeitamente possível que uma
  ocorra uma situação em que um programa tenha que ser executado 
  imediatamente para realizar alguma tarefa crítica para a vida de um
  paciente. Se o vírus interromper o processo com o pedido de permissão
  para infectar este programa, então o atraso causado (especialmente se
  não existe um operador por perto para autorizar ou recusar o pedido)
  poderia facilmente resultar na morte do paciente.


  2.1.6. Eficácia

  É discutido que qualquer tarefa que poderia ser feita por uma vírus
  benéfico também poderia ser feita por um programa não-replicante.
  Uma vez que existem alguns riscos decorrentes da capacidade de
  auto-replicação, seria muito melhor se um programa não-replicante
  fosse usado, ao invés de um vírus de computador.


  2.2. Razões ética e legais
  
  A seção que se segue cita argumentos contra a idéia de vírus
  benéficos, que são de natureza ética ou legal. Uma vez que, a
  ética e as leis não são universais entre as sociedades humanas,
  estes argumentos teriam força diferente em países diferentes.
  Contudo, elas devem ser levadas em conta.


  2.2. Modificações de dados não-autorizadas

  É considerado anti-ético modificar dados dos outros sem suas
  autorizações. Em muitos países isso é considerado ilegal.
  Entretanto, um vírus que realiza tal ação será considerado
  anti-ético e/ou ilegal, independente de quaisquer ações 
  positivas ele possa trazer as máquinas infectadas. Algumas
  vezes este problema é comentado por usuários como "quem escreveu
  o vírus diz saber melhor do que eu quais softwares eu devo
  executar em minha máquina."


  2.2.2. Copyright e problemas de propriedade
  
  Em vários casos, modificar um programa em particular pode 
  significar que o copyright (direitos autorais), propriedade,
  ou pelo menos, direito a suporte técnico para este programa
  seriam suspensos.

  Fomos testemunhas de tal exemplo na VTC-Hamburg. Um de seus
  usuários nos chamou pedindo ajuda para um vírus de computador.
  Este usuário era um advogado com problemas visuais que utilizava
  um programa Windows especial que mostrava os documentos em que
  ele estava trabalhando com uma fonte grande para que ele
  pudesse lê-los. Seu sistema foi infectado por um vírus 
  relativamente não-destrutivo. Entretanto, quando o produtor do
  software descobriu que a máquina estava infectada, ele se recusou
  a dar qualquer suporte técnico para o usuário, até que a infecção
  fosse removida do seu software - instalado a partir de seus 
  originais não infectados.


  2.2.3. Possíveis abusos

  Um invasor poderia usar um "vírus do bem" como meio de transporte
  para penetrar em um sistema. Por exemplo, uma pessoa com intenções
  maliciosas poderia copiar um vírus do bem e modificá-lo para incluir
  alguma coisa maliciosa. De fato, um invasor poderia "troiar" qualquer
  programa, mas um vírus do bem poderia fornecer ao invasor meios de
  transportar seu código malicioso para uma população virtualmente 
  ilimitada de computadores. O potencial de ser facilmente modificado
  para carregar código malicioso é uma das coisas que tornam um vírus
  "mau".


  2.2.4. Responsabilidade
  
  Declarar que alguns vírus são bons e benéficos apenas serviria de
  desculpa para a "cambada" irresponsável de programadores de vírus
  serem "perdoados" - eles alegariam que estavam fazendo um tipo de
  "pesquisa". De fato, isso já está acontecendo - as pessoas
  mencionadas acima freqüentemente citam as idéias do Dr. Fred Cohen
  sobre os vírus benéficos como uma desculpa pelo que estão fazendo -
  geralmente sem mesmo se importar para entender o que o Dr. Cohen
  queria dizer.


  2.3. Razões psicológicas  

  Os argumentos citados nesta seção são do tipo psicológicos.
  Geralmente são resultados de algum tipo de mal-entendido e deve ser
  considerado como um obstáculo a ser vencido.


  2.3.1. Problemas de confiança
  
  Os usuários gostam de achar que tem controle total sobre o que
  está acontecendo com suas máquinas. O computador é um dispositivo
  muito sofisticado. A maioria dos usuários não entendem muito bem
  como ele funciona e o que está acontencendo "lá dentro". A ausência
  de conhecimento e incerteza gera medo. Apenas o sentimento de que as
  reações da máquina serão sempre conhecidas, controladas e previsíveis
  podem ajudar aos usuários a vencer este medo.
 
  Entrentanto, um vírus de computador "rouba" o controle do computador
  do usuário. As atividades do vírus destrói a confiança que o usuário
  tinha na sua máquina. Por isso, o usuário pára de acreditar que
  controla a máquina. Isso pode ser uma fonte de frustações permanentes.

  
  2.3.2. Senso comum negativo

  Para a maioria, o termo "vírus de computador" é sempre carregado de um
  sentido negativo. A mídia já estabeleceu a crença que um vírus de
  computador é sinônimo de um programa "malicioso". De fato, muito
  chamam de "vírus" vários programas maliciosos que não podem se
  replicar - como "cavalos de tróia", ou mesmo "bugs" (erros de
  programação). As pessoas nunca aceitarão um programa que é rotulado
  como "vírus de computador", mesmo que ele faça algo útil.

  
  3. Algums maus exemplos de "vírus benéficos"

  Independente de todas as objeções citadas na seção anterior,
  muitos tem se perguntado se um vírus poderia se usado para fazer
  algo útil, ao invés de coisas destrutivas.
                    
  E muitos tem tentado responder a esta questão. Alguns deles tem
  implementado suas idéias na prática e as tem testado no mundo real
  - infelizmente, sem sucesso. Nesta seção apresentaremos algumas
  tentativas fracassadas de se criar vírus benéficos e explicaremos
  porque fracassaram.

  
  3.1. O vírus "anti-vírus"

  Alguns vírus são criados para funcionar não apenas em ambientes
  "virgens" de programas infectados, mas também em ambientes que incluem
  softwares anti-vírus e mesmo com outros vírus. A fim de sobreviver em
  tais ambientes, estes vírus apresentam mecanismos para disabilitar
  e/ou remover tais programas anti-vírus e até, outros vírus. Exemplos
  de tais vírus no ambiente IBM PC são Den_Zuko (remove o vírus Brain e
  coloca-se no seu lugar), Yankee_Doodle (as versões mais novas são
  capazes de localizar as mais velhas e fazer um "upgrade" nos arquivos
  infectados), Neuroquila (desativa vários programas anti-vírus), e
  vários outros vírus.

  Muitos tiveram a idéia de desenvolver mais o comportamento acima e
  criar uma vírus "anti-vírus" - um vírus que seria capaz de localizar
  outros vírus e removê-los. Tal programa anti-vírus auto-replicante
  teria o benefício de ser espalhado rapidamente e se atualizar
  automaticamente.

  Vários vírus foram criados como uma implementação da idéia acima. 
  Alguns deles localizam alguns vírus e os removem de arquivos
  infectados, outros se anexam a arquivos "limpos" e emitem uma
  mensagem de erro caso um outro vírus seja anexado após ele.
  Entretanto, todo software anti-vírus auto-replicante foram rejeitados
  pelos usuários, que os consideram maliciosos e indesejáveis como
  qualquer outro vírus real. A fim de entender porque, basta imaginar
  que os vírus "anti-vírus" atendem várias das regras que determinam
  porque o um programa replicante é considerado malicioso e/ou
  indesejado. Aqui estão várias delas.

  Primeiro, a idéia viola a condição de CONTROLE. Uma vez que o vírus
  "anti-vírus" é solto, seu autor não tem meios de controlá-lo.

  Segundo, ela viola a condição de RECONHECIMENTO. Um vírus que se 
  anexa a arquivos executáveis disparará os programas anti-vírus 
  baseados na monitoração ou checagem de integridade. Não existem meios
  para os anti-vírus decidirem se eles foram disparados por um vírus 
  benéficos ou não.

  Terceiro, ela viola a condição de DESPERDÍCIO DE RECURSOS. Adicionar
  um trecho de código quase idêntico a cada arquivo executável no 
  sistema é definitivamente um desperdício - o mesmo objetivo pode ser
  alcançado com uma simples cópia do código em um único arquivo,
  contendo os dados necessários.

  Quarto, ela viola a condição de contenção de erros. Não existe 
  maneira fácil de localizar e atualizar ou remover todas as cópias do
  vírus.

  Quinto, ela causa vários problemas de compatibilidade, especialmente
  em programas que se auto-verificam.

  Sexto, ela não é tão eficaz quanto um programa não-virótico, violando
  assim, a condição de eficácia. Um vírus anti-vírus deve carregar 
  milhares de "strings" para verificar a existência de vírus maliciosos
  - seria muito ineficaz anexar uma cópia em cada arquivo executável.
  Mesmo um anti-vírus genérico (i.e., baseado em monitoração ou 
  checagem da integridade) seria mais eficaz se existisse apenas num
  exemplar e fosse executado sobre o controle do usuário.

  Sétimo, tal vírus modifica programas de outras pessoas sem suas 
  autorizações, violando assim, a condição de modificação 
  não-autorizada. Em alguns casos, tais vírus pedem ao usuário
  permissão antes de "proteger" um arquivo através de sua infecção.
  Entretanto, mesmo nestes casos eles causam interrupções indesejadas,
  que, como já demonstramos, em algumas situações podem ser fatal.

  Oitavo, pela modificação de outros programs, tais vírus violam a 
  condição de copyright.

  Nono, pelo menos com as implementações atuais de vírus anti-vírus,
  é comum modificá-los para carregar código destrutivo - violando assim,
  a condição de abuso.

  Décimo, tais vírus já são muito usados como exemplos pelos criadores
  de vírus quando estão tentando defender suas ações irresponsáveis e
  disfarçá-los como pesquisa - assim, a idéia viola a condição de
  RESPONSABILIDADE também.

  Como podemos ver acima, a idéia de um vírus "anti-vírus" é "ruim"
  de acordo com a maioria dos critérios citados pelos usuários.


  3.2. O vírus "compactador de arquivos"
  
  Este é um das mais velhas idéias de "vírus benéficos". É mencionado
  pela primeira vez no trabalho original do Dr. Cohen (Computer Viruses
  - Theory and Experiments). A idéia consiste em criar um programa
  auto-replicante, que compactaria os arquivos que infectasse, antes de
  se anexar a eles. Tal programa é particularmente fácil de ser 
  implementado como um "script shell" Unix, mas é perfeitamente
  possível de ser feito para PCs. E já foi feito - existe uma família
  de vírus MS-DOS chamados Cruncher, que se anexam a arquivos 
  executáveis, e então, compactam o arquivo infectado usando o 
  algoritmo Lempel-Zev-Huffman, e depois, anexam uma rotina ao ínico 
  deste que descompacta o arquivo na memória em tempo de execução.

  Independente dos supostos benefícios, esta idéia também falha no 
  critério citado na seção anterior. Veja porque.

  Primeiro, a idéia viola a condição de CONTROLE. Uma vez lançado, o
  autor do vírus não tem meios de controlar sua "distribuição". Na
  implementação do Cruncher, o criador do vírus tentou introduzir
  algum tipo de controle. O vírus pede permissão ao usuário antes de
  se instalar na memória, causando interrupções indesejáveis. Também
  é possível dizer ao vírus para se instalar sem fazer perguntas - 
  através do uso de uma variável ambiental. Entretanto, não existem
  meios de dizer ao vírus para não se instalar e não fazer nenhuma 
  pergunta - que aliás, deveria ser a ação default.

  Segundo, a idéia viola a condição de RECONHECIMENTO. Vários anti-
  vírus detectam e reconhecem Cruncher pelo seu nome e o processo de
  infecção dispara a maioria dos programas de monitoração, e como os
  arquivos infectados são, logicamente, modificados, isso também
  dispara a maioria dos verificadores de integridade.

  Terceiro, a idéia viola a condição de RECURSOS. Uma cópia do 
  descompactador está presente em todos os arquivos infectados, coisa
  que obviamente é desnecessária.

  Quarto, a idéia viola a condição de CONTENÇÃO DE ERROS. Se erros são
  encontrados no vírus, o autor não tem meio simples de distribuir a
  correção e atualizar todas as cópias existentes do vírus.

  Quinto, a idéia viola a condição de COMPATIBILIDADE. Existem muitos
  arquivos que param de funcionar após serem compactados. Exemplos 
  incluem programas que realizam uma auto-checagem em tempo de execução,
  programas auto-modificáveis, programas com estruturas internas de 
  overlay, executáveis Windows, e por aí vai. Francamente, estes
  programas param de funcionar mesmo após serem compactados por um
  programa compactador stand-alone (i.e., não-virótico). Entretanto,
  é muito mais difícil compactá-los por acidente ao usar tal programa
  - ao contrário de quando o usuário está rodando um vírus compactador.

  Sexto, a idéia viola a condição de UTILIDADE. É perfeitamente
  possível usar um programa stand-alone, não virótico para comprimir
  arquivos executáveis e anexar um pequeno descompactador neles. Isso
  tem a vantagem de que o código do descompactador não tem que residir
  em todos os arquivos compactados, e assim não terremos que preocupar
  com o tamanho ou velocidade - porque ele tem que ser executado apenas
  uma vez. É verdade que o código do descompactador ainda deve estar
  presente em cada arquivo compactado e muitos programas ainda não
  funcionarão após serem comprimidos. A solução é usar compactação não
  a nível de arquivos, mas a nível de disco. E realmente, sistemas de
  arquivos compactados estão disponíveis para vários ambientes
  operacionais (DOS, Novell, OS/2, Unix) e eles são mais eficazes que
  um compactador a nível de arquivo que se espalha como um vírus.  

  Sétimo, a idéia ainda viola a condição de COPYRIGHT. Pode ser 
  argumentado que ele não viola a condição de MODIFICAÇÃO DE DADOS, 
  porque o usuário é consultado para autorizar a infecção. Aceitamos 
  isso, com uma observação mencionada acima - isso ainda causa
  interrupções indesejadas.  Não é muito trivial modificar o vírus a 
  fim de torná-lo malicioso, sendo assim, assumiremos que a condição de
  ABUSO também é violada - apesar de nenhuma tentativa séria ter sido
  feita para garantir que a integridade do vírus não seja comprometida.

  Oitavo, a idéia viola a condição de RESPONSABILIDADE. Este vírus em 
  particular - Cruncher - foi escrito pela mesma pessoa que criou 
  outros vírus - longes de serem "benéficos" - e o Cruncher é 
  claramente usado como uma tentativa de desculpas pela criação de 
  vírus e para disfarçá-la como pesquisa "legítima".


  3.3. O vírus "encriptador de disco"

  Este vírus foi criado por Mark Ludwig - autor de dois livros e
  uma newsletter (uma espécie de boletim) sobre criação de vírus, e
  de vários vírus reais, variantes de muitos que estão se espalhando
  no mundo real, causando danos reais.

  A idéia é escrever um vírus de boot, que encriptaria o disco que
  infectasse com um algoritmo forte de encriptação (IDEA) e uma senha
  fornecida pelo usuário, assim assegurando a privacidade dos dados
  do usuário. Infelizmente, esta idéia é tão falha como as anteriores.

  Primeiro, ela viola a condição de CONTROLE. O autor do vírus tentou
  introduzir alguns meios de controle. O vírus supostamente pede 
  permissão ao usuário antes de se instalar na memória e antes de
  infectar um disco. Entretanto, isso continua causando interrupções
  indesejadas e, em alguns casos não funciona apropriadamente - isto é,
  o vírus instala-se mesmo se o usuário dizer que não.

  Segundo, viola a condição de RECONHECIMENTO. Vários anti-vírus
  reconhecem o vírus através do nome ou como uma variante do
  Stealth_Boot, que realmente é um vírus. Devido ao fato deste vírus ser
  um vírus de boot, não costuma disparar programas de monitoração.
  Entretanto, a modificação que ele causa no disco rígido quando ele o
  infecta, dispara a maioria dos anti-vírus baseados na verificação de
  integridade. Aqueles que tem capacidade de restaurar automaticamente o
  setor de boot, removem qualquer vírus possivelmente presente, tornando
  o disco encriptado inacessível e portanto, causam sérios danos.

  Terceiro, a idéia viola a condição de compatibilidade. Um vírus de
  boot residente em memória geralmente causa problemas com o Windows
  quando este é configurado no modo 32BitDiskAccess. Além disso, o
  arquivo permanente de swap do Windows não deve ser colocado num volume
  encriptado (ou comprimido, ou acessível via device driver), porque
  durante seu acesso, o Windows controla o disco rígido diretamente,
  através de portas, desviando-se de qualquer programa residente em
  memória usado para acessar o disco e certamente causando danos. Este
  problemas geralmente é solucionado colocando o arquivo de swap numa
  partição não-encriptada (ou não-comprimida), mas o vírus em questão
  encripta o disco inteiro. Por último, a maneira que o vírus se instala
  no disco rígido (sobrepondo alguns setores na trilha zero) danificaria
  algumas configurações (obsoletas) DOS que incluem esta trilha na
  primeira partição.

  Quarto, a idéia viola a condição de eficácia. É perfeitamente possível
  alcançar exatamente o mesmo objetivo (i.e., encriptação do disco
  rígido) com um programa stand-alone (i.e., não virótico). Na verdade,
  vários programas deste tipo já existem. Muitos deles estão disponíveis
  com seus fontes - coisa crítica para qualquer software de encriptação,
  porque permite aos usuários verificarem a segurança da implementação
  (por exemplo, se ele não possui nenhuma 'backdoor' ou falhas na
  segurança). A maioria deles também é muito mais rápida que este vírus.
  A infeção do disco é muito lenta (o vírus encripta o disco no momento
  da infecção) e a única maneira prática de usar o vírus é 'desligar' a
  chamada "auto-migração" (i.e., infeção no acesso ao disco) - provando
  assim que a única maneira prática de se usar este programa é sem suas
  capacidades viróticas. Por último, programas de encriptação normais
  geralmente vem com a documentação necessária. Apenas a cópia original
  do vírus (i.e., o germe) contém a documentação; qualquer cópia
  adquirida através do processo de infecção possui a documentação. E a
  documentação é praticamente vital para o uso correto deste tipo de
  programa, como o próprio autor admite.

  Quinto, a idéia viola a condição de responsabilidade - o vírus foi
  utilizado várias vezes por seu autor e por outros programadores de
  vírus como um argumento de que suas ações eram legítimas. Como
  demonstrado acima, a única coisa que diferencia este vírus em
  particular de um utilitário de encriptação de disco são suas
  capacidades viróticas, que tornam o produto inadequado para uso
  prático. Uma vez desligado, o produto é utilizável, provando que as
  capacidades viróticas são completamente desnecessárias.
  
  Sexto, a idéia viola a condição de senso comum negativo e gera vários
  problemas de confiança.  Mesmo as pessoas que propuseram a idéia de
  vírus benéficos, e que freqüentemente estão fazendo "uploads" destes
  vírus em BBSes, nunca os usam, "porque é um vírus".

  Estamos prontos para aceitar que este vírus não contradiz a condição
  de desperdício de recursos (porque apenas uma copia é encontrada em
  cada disco infectado e a lentidão do sistema durante sua operação
  normal - exceto durante a replicação - é comparável a outros programa
  de encriptação de disco); ele não contradiz a condição de modificação
  não-autorizada (porque é necessária uma confirmação do usuário - apesar
  disso não parecer funcionar sempre); ele não contradiz a condição de
  copyright (nenhum programa é modificado por ele) e mesmo se ele não
  contradiz a condição de abuso - apesar do vírus não garantir sua
  própria integridade e alguém com conhecimento considerável poderia
  implementar algum tipo de rotina maliciosa nele. Entretanto, as outras
  condições que ele viola claramente demonstram que este programa não
  pode ser classificado como vírus benéfico.

  
  3.4. O vírus "manutenção"

  O vírus foi descrito pela primeira vez pelo Dr. Fred Cohen em "Trends
  In Computer Virus Research" (Tendências nas pesquisas de vírus de
  computador). A idéia consiste num programa independente, que espalha
  cópias suas através de diferentes máquinas numa rede (como um worm) e
  realiza algumas tarefas de manutenção nestas máquinas - como deleção
  de arquivos temporários e outras. Uma idéia similar pode ser
  implementada em memória como vários processos concorrentes, ao invés
  de programas se espalhando na rede.

  Nesta descrição, Dr Cohen introduziu várias técnicas que fazem o vírus
  adequar-se as condições listadas na seção anterior. Infelizmente, ele
  falha em algumas e portanto, é apenas mais uma tentativa de se criar
  um vírus benéfico.

  Para resolver o problema de controle, cada vírus procura por um
  arquivo especial que deve estar presente na máquina. É suposto que
  este arquivo seja criado pelo usuário que deseja usar o vírus em sua
  máquina e é uma espécie de autorização. Entretanto, nenhum passo foi
  dado para autentificar este arquivo através de meios criptográficos -
  apenas seu nome é usado como indicação para que o vírus infecte a
  máquina. Além disso, cada vírus mantém algum tipo de estatística sobre
  sua eficácia (i.e., o quanto já trabalhou) e um mecanismo que mata
  seus "descendentes" que não são suficientemente eficazes. Supõe-se que
  isso serve para limitar o crescimento do número de vírus na rede para
  um limite útil.

  Devido a maneira que ele se espalha (sendo um programa independente,
  sem alterar outros programas), é pouco provável que o vírus dispare
  algum anti-vírus - especialmente tendo-se em mente que a autorização é
  criada pelo administrador do sistema, que deve saber como configurar
  os possíveis anti-vírus verificadores de integridade de modo que eles
  não disparem com o surgimento de novos executáveis (embora isso os
  enfraqueça e torne o sistema mais vulnerável a vírus reais.)

  A condição de contenção de erros também é satisfeita até certo nível.
  Uma vez que o vírus se espalha numa rede relativamente limitada, e uma
  vez que as várias cópias são independentes, é relativamente fácil usar
  a mesma rede para automaticamente distribuir atualizações do vírus.
  Deve ser igualmente fácil "fechar" todas as cópias ativas simplesmente
  removendo o arquivo especial das máquinas conectadas a rede. 

  Possíveis problemas de compatibilidade são resolvidos deixando o
  trabalho de "instalação" do vírus para os administradores - supõe-se
  que antes da instalação, eles chequem se o vírus causaria quaisquer
  problemas de compatibilidade nestas máquinas.

  Já que o vírus não modifica outros programas e remove apenas
  arquivos temporários que o administrador também removeria,
  isso resolve os problemas de copyright e de modificação não-
  autorizada.
 
  Infelizmente, ainda existem alguns problemas não resolvidos.
  O maior problema é que o vírus viola as condições de desperdício
  de recursos e de eficácia. Ele realiza tarefas que normalmente
  são realizadas por um programa comum. Já que a tarefa realizada
  pelo vírus (exclusão de arquivos temporários) deve ser feita de
  qualquer jeito, usar um vírus não é lucro algum. Ele apenas
  distribui a tarefa entre diferentes máquinas na rede - então,
  seria mais rápido do que se realizado por apenas uma máquina na
  rede. Entretanto, tais tarefas normalmente são realizadas 
  localmente, por cada máquina da rede, portanto, ela já está
  distribuída. Usar um vírus para atingir o mesmo objetivo apenas
  gera trabalho desnecessário para copiar, executar, excluir as
  várias cópias do vírus, sem nenhum ganho em particular. Também
  introduz riscos sérios de segurança, obviamente não merecendo
  ser usado.

  Segundo, os vírus que o Dr. Cohen descreve não trazem precauções
  sensíveis para autentificar-se em sistemas que infectam. São 
  implementados como scripts shell e seria fácil para um invasor
  modificá-los, remover a verificação de segurança, e/ou incluir
  algumas rotinas maliciosas.

  Finalmente, muitos administradores de sistema se recusariam a
  usá-los porque são vírus (o problema do senso comum negativo).
  Realmente, o Dr. Cohen tentou resolver este problema chamando-os
  de LPs ("Live Programs", Programas Vivos), mas é bem óbvio que
  eles se replicam como um worm, assim a mudança do nome realmente
  não muda nada.


  4. Como construir um vírus benéfico ?

  Todas as tentativas fracassadas de se criar vírus benéficos citadas
  acima cometeram o mesmo erro. Seus autores (talvez a única exceção
  seja o Dr. Cohen) estavam pegando vírus reais e tentando torná-los
  benéficos adicionando algumas propriedades úteis. É claro que este
  método falharia. Um método melhor seria criar um programa benéfico
  e apenas então, tentar ver se o programa poderia ser mais útil se
  possuísse capacidades de auto-replicação.

  Não discutiremos aqui se as razões citadas na seção 2 são boas,
  apropriadas ou necessárias. Todas foram expressas de uma maneira ou
  outra por usuários de computador que discutiram este problema conosco,
  sendo assim, devemos assumir que todos são considerados importantes
  para os usuários. Portanto, a fim de ser considerado "vírus benéfico",
  um programa auto-replicante não deve contradizer nenhuma das
  condições. Vamos ver se os problemas podem ser solucionados e, em caso
  afirmativo - COMO.
  

  4.1. Resolvendo problemas técnicos
  
  Os problemas técnicos são os mais fáceis de serem resolvidos e,
  uma vez que necessitam de um volume de trabalho e pesquisa 
  significativos, é perfeitamente possível resolvê-los.

  
  4.1.1. Resolvendo o problema de controle
  
  O modo mais fácil de se resolver o problema de controle é,
  primeiramente, não permitir que o vírus se espalhe sem controle. Um
  primeiro passo é pedir autorização para antes de infectar, mas, como
  vimos, isto pode causar interrupções indesejadas. Uma solução melhor
  seria o vírus checar se alguma forma de "convite" já estaria
  instalada na máquina, e infectar somente se o convite estiver
  presente. Infelizmente, num ambiente de uma grande rede (e.g., a
  Internet) com muitos vírus benéficos disponíveis, os constantes
  convites realizados por estes vírus poderiam causar uma séria 
  sobrecarga da rede. Portanto, devemos ir mais além - ao invés de
  instalar passivamente a permissão/convite e esperar a infecção do
  vírus, um usuário que queira usar um certo vírus deve ativamente
  enviar a permissão.

  Num ambiente tal qual a Internet em que a maioria das máquinas são
  Unix e usam TCP/IP para se comunicar, isso pode ser implementado
  através de um conjunto de repositórios de vírus benéficos
  interconectados, nos quais o usuários se conecta ou envia a mensagem
  de permissão. Isso pode ser implementado do mesmo modo que o e-mail e
  o ftp são implementados hoje - apenas os requesitos de segurança devem
  mais fortes, devido ao problema potencial criado pelos códigos auto-
  replicantes.

  Particularmente, a fim de previnir do perigo de mensagens forjadas, de
  programas destrutivos fingindo se passar por vírus benéficos,
  implementar alguma forma de contabilidade e, para previnir enganos, um
  vírus benéfico deve ser capaz de autentificar-se como o sistema que
  deseja infectar. Além disso, o sistema deve autentificar-se com o
  vírus. A maneira natural de implementar isso é usar alguam forma de
  "criptografia de chave-pública".

  Imagine o seguinte cenário. Uma empresa especializada na produção de
  vírus benéficos cria um e os disponibiliza em algum site. O software
  de distribuição de arquivos deste site automaticamente distribui o
  novo vírus para todos os outros repositórios que ainda não o tem. A
  empresa também faz um anúncio formal, contendo a chave pública do
  vírus, em um outro lugar - digamos, um newsgroup. O anúncio em si é
  assinado com a chave pública da empresa produtora.

  O administrador do sistema que deseja usar o vírus (i.e., que
  considera útil a tarefa que o vírus executa) lê o anúncio, verifica a
  assinatura digital para ter certeza que ele realmente vem da empresa
  que diz vir, e faz uma autorização formal. A autorização especifica
  qual vírus em particular foi escolhido, qual site o deseja, a maneira
  que o vírus entrará no sistema (por exemplo, uma porta dedicada) e
  outras informações úteis. É claro que, esta autorização também é
  assinada com a chave pública do proprietário da máquina que deseja ser
  infectado. Esta mensagem de autorização não tem que ser enviada
  diretamente para a empresa produtora ou mesmo para o repositório do
  vírus. Ao invés disso, ela poderia ser postada em algum lugar público
  (por exemplo, um newsgroup). Os repositórios de vírus pelo mundo irão
  observar este newsgroup por tais mensagens, e aquela que estiver mais
  próxima do site que fez o pedido, enviará o vírus para aquele site (a
  fim de minimizar o custo com tráfego).

  O vírus contactará o site que o está solicitando através de um
  ponto de entrada específico e se identificará com o sistema
  através de uma assinatura digital de chave pública criada com
  a chave privada do vírus. Neste ponto, o sistema que tiver
  requisitado o vírus será capaz de provar que o que recebeu é
  realmente o programa virótico que ele solicitou. Isso irá excluir
  não apenas o perigo de um 'intruso' disfarçado de vírus benéfico
  - também detectará estragos aleatórios que possam ocorrer. Não
  excluirá completamente o perigo de código malicioso, mas em caso
  de códigos maliciosos serem encontrados, o usuário terá uma prova
  que ele veio da empresa que fornece o vírus. As chances disso
  realmente acontecer não são maiores do que a Micro$oft distribuir
  um cavalo de tróia junto com seu processador de texto.

  Uma vez que o vírus tiver se instalado no local, ele poderia usar 
  (opcionalmente, com a autorização do administrador local) aquele
  site para distribuições posteriores - por exemplo, através do
  newsgroup criado para solicitações do vírus vindas de sites mais
  próximos.

  Finalmente, todas as mensagens que não precisam ser públicas
  (por exemplo, solicitações de vírus, mensagens de serviços, etc.)
  poderiam ser encriptadas com a chave pública do vírus, por motivos
  de privacidade.

  É importante notar que no cenário acima a ação 'default' (padrão)
  do vírus é não infectar. Apenas se uma autorização estiver presente,
  ele se instalará em um sistema particular.


  4.1.2. Resolvendo o problema de reconhecimento

  Os programas anti-vírus são ou específicos (i.e., procuram por um
  código em particular que esteja presente nos vírus), ou genéricos
  (i.e., procuram por modificações em programas executáveis pré-
  existentes). Um vírus benéfico que utiliza um forte esquema de
  autentificação criptografada como o citado acima, pode ser facilmente
  modelado para não disparar programas anti-vírus para vírus
  específicos. De fato, ele será capaz de se identificar como um vírus
  benéfico conhecido e assegurar que nenhum falso-positivo ocorra -
  portanto, ele estará mais seguro que um programa executável normal.

  A fim de evitar a detecção por detectores de modificação, o vírus não
  deve modificar outros programas executáveis. Este requisito também é
  necessário para resolver outros problemas, como veremos abaixo.
  Entretanto, um vírus benéfico deve ser um 'worm' - deve ser auto-
  contido (ser um executável independente) e se espalhar como um todo e
  não depender de anexar-se a um arquivo executável 'hospedeiro'.


  4.1.3. Resolvendo o problema de desperdício de recursos

  A fim de resolver este problema, um vírus benéfico deve consumir
  uma insignificante quantidade de tempo, memória, espaço em disco,
  e outros recursos do sistema. Resumindo, o custo dos recursos do
  sistema usado pelo vírus deve ser insignificante quando comparados
  com os benefícios que ele traz ao usuário. Novamente, isso suporta o
  argumento que apenas uma cópia do vírus deve estar presente numa
  máquina infectada.
  
  
  4.1.4. Resolvendo o problema de contenção de erros

  Atualizações de um vírus que usa criptografia de chave pública
  para autentificação deveria ser distribuída de uma maneira
  igualmente segura - a nova versão deveria usar assinaturas
  digitais para se certificar de que aquela é a versão correta.
  Se a rede for utilizada para a distruição e atualização do vírus,
  e os vírus não se espalharem por outros meios, isso assegurará
  que mensagens importantes (como "atualizar" ou "terminar") serão
  rapida e confiavelmente passadas para todas as cópias do vírus.

  Adicionalmente, deve ser fácil para o administrador do sistema
  de um site em particular, enviar uma mensagem "terminar" para
  qualquer vírus em particular que esteja sendo executado naquele
  site. Isto ainda mantém o perigo de um ataque 'denial-of-service'
  - se algum site é extremamente dependente da operação de algum
  vírus benéfico, então o atacante poderia enviar uma mensagem para
  o vírus parar de trabalhar, causando então, danos. Novamente, a
  maneira correta de resolver este problema é através de criptografia
  de chave pública - as mensagens do vírus seriam assinadas com a
  chave privada do sistema em que roda.


  4.1.5. Resolvendo os problemas de compatibilidade

  Fazendo com que o vírus seja um executável independente e que
  não modifique nenhum outro programa, asseguramos que ele não
  causará quaisquer problemas a programas que não toleram modificação.
  Já que o vírus nem mesmo incomoda o usuário com pedidos de permissão
  para infectar (ele espera passivamente que uma autorização do usuário
  seja fornecida - através de um arquivo ou outro modo), ele não
  causará interrupções indesejáveis. Finalmente, o usuário que está
  solicitando o vírus, será capaz de examinar antecipadamente as
  especificações técnicas do mesmo e decidir se ele é adequado ao
  sistema do usuário. Certamente, o risco de introduzir um programa
  incompatível ainda existe, mas ele não é maior que o risco de
  introduzir qualquer programa normal (não-virótico) - excetuando  
  um vírus benéfico que venha com uma prova de sua integridade.


  4.1.6. Resolvendo o problema de eficácia

  A fim de tornar atraentes as soluções baseadas em vírus, devemos
  desenhá-los para tarefas que são realizadas com mais eficácia
  por códigos auto-replicantes do que por programas normais. Não
  temos muitas tarefas deste tipo, mas elas existem, com veremos
  em alguns exemplos a seguir.


  4.2. Resolvendo os problemas de éticos e legais

  Problemas deste tipo são tradicionalmente mais difíceis de serem
  resolvidos do que os técnicos. Entretanto, com veremos, o modelo
  para distribuição de vírus descrito acima ajuda bastante na solução
  destes problemas também.


  4.2.1. Resolvendo o problema de modificação não-autorizada de dados 
  
  Já que a modificação não-autorizada de dados dos outros é considerada
  destrutiva, um vírus que se declara benéfico não deve fazer tal coisa.
  O esquema descrito acima situa-se neste limite - o vírus aguarda
  o usuário "convidá-lo", e usa meios criptográficos para assegurar-se
  que ele está infectando, atualizando ou modificando a coisa certa.


  4.2.2. Resolvendo os problemas de copyright e de posse
  
  Estes problemas são facilmente resolvidos exigindo que o vírus seja um
  programa executável independente (i.e., um worm) e não infecte ou
  modifique qualquer programa que ele não esteja explicitamente 
  autorizado. Mesmo assim, o vírus deve usar autentificação
  criptográfica, a fim de excluir a possibilidade de erros de
  identificação.


  4.2.3. Resolvendo o problema de abuso
 
  Já que o vírus descrito no modelo acima usa técnicas de criptografia
  forte para identificar-se no sistema que deseja infectar, e já que o
  sistema identifica-se para o vírus também, isto exclui a possibilidade
  de um intruso modificar um vírus benéfico e incluir rotinas
  destrutivas. Realmente, isto também exclui a possibilidade de um
  sistema "trapacear" utilizando um vírus benéfico. Isso pode trazer
  alguns problemas de privacidade mas, como demonstrado por David Chaum
  em "Achieving Electronic Privacy" (Alcançando Privacidade Eletrônica),
  os métodos de criptografia de chave pública são capazes de fornecer
  simultaneamente, identificação e anonimato, se desejado.

  Um intruso poderia certamente examinar o código fonte de algum vírus
  benéfico e especificamente, seu mecanismo de replicação, e tentar usar
  este mecanismo em algum programa seu. Entretanto, já que o vírus
  descrito acima não invade sistemas mas aguarda uma autorização, o
  intruso terá que convencer os usuários que seu programa é benéfico.
  Entretanto, este caso não é muito diferente daquele em que o intruso
  disponibiliza um "cavalo de tróia" em algum servidor ftp ou BBS,
  dizendo que o programa faz alguma coisa útil. As técnicas para a
  distribuição de vírus benéficos descrita acima tem um benefício
  adicional que é a possibilidade de rastreamento.

  Certamente, tudo isso assume que um esquema para distribuição segura
  de chaves públicas e que os programas que implementam a autentificação
  por chave pública estejam amplamente em uso. Atualmente este não é o
  caso, e um esquema seguro para distribuição de vírus benéficos ainda
  não pode ser imediatamente implementado. Entretanto, existe um
  desenvolvimento ativo nesta área e logo o esquema poderá ser
  implementado.


  4.2.4. Resolvendo o problema de responsabilidade

  Este é um dos problemas mais difíceis de se resolver. Independente dos
  esforços que pesquisadores legítimos para implementar um vírus
  benéfico de uma maneira segura, programadores de vírus maliciosos
  sempre tentarão usar seus feitos como uma desculpa e tentarão
  disfarçar vírus maliciosos como pesquisa legítima.

  Realmente não existe uma solução fácil para este problema. Ela deve
  ser abordada por métodos bastante complexos. Os legítimos defensores
  da idéia de vírus benéficos sempre terão que se preocupar em previnir
  a proliferação descontrolada de suas criações. Eles sempre devem
  condenar a programação de vírus maliciosos e seu lançamento para o
  grande público. Já que a implementação de protocolos de autentificação
  adequados está além da capacidade de adolescentes que se divertem
  criando e soltando vírus maliciosos, isto facilmente diferenciaria os
  legítimos pesquisadores dos "wannabes". Deve ser bastante estressante
  para o autor do vírus ter parte da responsabilidade quando seu vírus é
  encontrado num sistema onde não é desejado e que a pessoa que
  introduziu o vírus naquele sistema em particular não é a única
  responsável pelo dano causado.

  Simultaneamente, isto seria combinado com medidas legislativas 
  apropriadas contra programadores de vírus maliciosos e sua 
  distribuição. Isto, se corretamente utilizado, serveria como um
  dissuador para algumas pessoas que de outra forma desperdiçariam
  seu tempo criando código virótico malicioso - se não tiverem
  medo das penalidades.


  4.3. Resolvendo os problemas psicológicos
  
  Estes problemas não são fáceis de resolver, mas alguns melhoramentos
  podem ser feitos, usando soluções psicologimente orientadas.


  4.3.1. Resolvendo problemas de confiança

  Os ambientes computacionais contemporâneos estão tão sofisticados, que
  provavelmente nenhum de seus usuários entende completamente como ele
  funciona. Portanto, a sensação de ter controle completo sobre ele é,
  mais ou menos, uma ilusão. Contudo, isso é uma ilusão importante,
  porque ajuda a manter o "conforto" interno dos usuários e ajuda-os a
  evitar o medo instintivo de um sistema que eles não entendem.

  Portanto, a distribuição e replicação de um vírus benéfico deve ser
  implementada de modo que preserve esta ilusão. Os métodos de
  criptografia para autentificação ajudam muito neste aspecto. Deve ser
  simples para o usuário controlar sua proliferação e ações que serão
  feitas mais tarde no sistema. A habilidade de ser desativado
  facilmente (através da remoção da permissão) também deve ajudar neste
  aspecto.


  4.3.2. Resolvendo o problema do senso comum negativo  

  A mídia parece já ter criado uma vasta opinião pública de que os
  vírus de computador são algo intrinsicamente mau. De fato, muitos
  usuários suspeitam de um vírus sempre que qualquer problema ocorra
  - mesmo aqueles relacionados com o hardware.

  A experiência com o termo "hacker" demonstra que nada irá mudar o 
  que a opinião pública pensa sobre este termo. O público em geral
  não lê artigos especializados nem newgroups onde a explicação do
  sentido correto do termo é dada. O público em geral se informa na
  mídia - e a mídia descreve os vírus de computador sendo algo 
  necessariamente MAU. Isso inevitavelmente irá causar oposição para
  qualquer tipo de software que se chame vírus - mesmo que seja dito
  que é benéfico e que se demonstre isso.
  
  Portanto, um programa benéfico auto-replicante não deve ser chamado
  vírus, se deseja ter quaisquer esperanças de alcançar reconhecimento
  pelo grande público. Como veremos, isso não é tão difícil. A maioria
  dos programas auto-replicantes úteis que satisfazem todas as condições
  de não-maliciosidade estão longe do que a maioria considera um vírus
  real.
 

  4.4. Sumário

  Como podemos ver nas seções acima, todas as condições para que
  programas auto-replicantes e não-maliciosos possam ser facilmente
  satisfeitas criando-se um programa que :
    
    * espere por uma confirmação antes de se instalar no sistema;
    
    * use meios criptográficos fortes para autenticar-se no sistema;

    * seja auto-contido e não modifique outros programas (i.e., um worm);

    * não seja chamado de "vírus".


  5. Alguns bons exemplos de programas auto-replicantes benéficos

  Nesta seção, apresentaremos várias aplicações mais ou menos com
  código. Todas se encaixam na definição de vírus do Dr. Cohen, 
  entretanto a maioria não seria considerada como vírus pela maioria
  das pessoas.


  5.1. Atualização automática de Sistema Operacional

  No início da era do computadores pessoais, o sistema operacional
  era pequeno e era comum colocar uma cópia do S.O. em todo disquete
  formatado. Geralmente, ele ocupa as primeiras trilhas. A idéia 
  proposta era introduzir uma pequena modificação no S.O. e fazê-la
  checar em todos os acessos ao disquete, se ele possuia uma versão
  atualizada daquele S.O. No caso de uma versão antiga ser encontrada,
  ela seria substituída com a versão mais nova. Esta atualização 
  automática poderia ser facilmente controlada pelo usuário. Por 
  exemplo, o usuário poderia setar o comportamento default, que é
  atualizar automaticamente, para nunca atualizar, ou pedir confirmação
  para atualizar. Nenhum meio de autentificação criptográfica foi
  usado, mas é assumido que o produtor do sistema operacional conheça
  seu produto suficientemente bem para reconhecer suas versões antigas.

  Esta idéia ainda viola algumas condições citadas na seção 2, fato 
  responsável por nunca ter recebido boa aceitação. Além disso, o 
  tamanho dos sistemas operacionais cresceu muito. Atualmente, eles
  ocupam vários discos de alta-densidade (e mesmo CD-ROMs) e consistem
  de centenas de arquivos contendo diversos utilitários. 


  5.2. O Worm da Xerox Parc

  Em 1982, dois pesquisadores da Xerox Palo Alto Research Center
  criaram a "computação distribuída". Era um programa escrito em
  BCPL para workstations Xerox, que consistia de vários segmentos,
  cada qual executando em uma workstation conectada a uma rede local.
  O programa era capaz de determinar quais máquinas estavam ociosas
  e transferir um trecho de código para elas. Adicionalmente, cada
  trecho poderia usar a workstation na qual estava sendo executada
  para alguma tarefa útil. Particularmente, durante os testes 
  mencionados acima, os trechos realizavam cálculos parciais para
  uma animação.
  
  Infelizmente, os programas auto-replicantes usados durante estes
  experimentos não tinham os mecanismos necessários para verificar
  sua própria integridade durante o processo de replicação. Corrupções
  esporádicas poderiam ocorrer facilmente, e foi descoberto que os
  worms que eram deixados sendo executados a noite frequentemente
  saiam do controle e travavam máquinas em toda a rede. Este 
  comportamento obrigou  os dois pesquisadores a pararem com os
  experimentos.
  

  5.3. Atualização de Anti-Vírus centralizada

  Este último exemplo de vírus benéfico é o mais bem sucedido.
  Implementações dele são largamente utilizadas por várias
  empresas produtoras de software anti-vírus. 

  Considere uma empresa que tem centenas, milhares de PCs, todos
  em rede. A empresa também leva o problema dos vírus a sério e
  insiste que cada um dos seus PCs tenha a última versão de um
  anti-vírus sendo executada antes de se conectar a rede. Vamos
  ignorar por enquanto se a decisão de confiar toda sua segurança
  em um anti-vírus é sábia ou não. Mesmo se a empresa usar outros
  tipos de defesa (checagem de integridade, monitoração, controle de
  acesso, etc), um esquema de proteção bem pensado deve ter um
  anti-vírus como uma de suas linhas de proteção, mesmo não sendo
  a mais importante.

  Insistir para que todos os PCs estejam executando a última versão
  de anti-vírus é uma exigência razoável, porque os anti-vírus tendem
  a ficar obsoletos rapidamente, e um novo vírus poderia passar 
  despercebido por um anti-vírus desatualizado e causar uma vasta
  destruição pela rede antes que qualquer outro tipo de defesa pudesse
  ter oportunidade de reagir.

  Assim, o responsável pela rede impôs uma exigência: um PC que não 
  estiver executando a última versão do anti-vírus não poderá se logar.
  OK, mas como alcançar isso ? Uma resposta simples é - manter uma cópia
  do anti-vírus (presumidamente residente) em cada um dos PCs e 
  atualizá-las regularmente.
  
  O único problema é - como manter centenas de PCs atualizados ? E além
  disso -  mantê-los atualizados com um produto, uma nova versão de algo
  que é lançado mensalmente ? Tentar realizar isso indo de PC em PC e
  atualizá-los manualmente via disquetes é uma tarefa ingrata. Um mês
  não será suficiente para atualizá-los - antes de terminar, você terá
  que começar tudo de novo. Os PCs provavelmente estarão em prédios
  diferentes, e alguns, em lugares obscuros, usados raramente, tudo isso
  definitivamente não tornará a tarefa mais fácil. De fato, é um 
  verdadeiro pesadelo para a equipe de suporte.

  A alternativa mais óbvia é manter uma cópia do pacote de anti-vírus
  no servidor e atualizar os PC a partir dele. Entretanto, se o 
  responsável por manter a proteção contra vírus tiver que ir em 
  cada um dos computadores e fazer esta atualização, a situação não
  melhora muito. Uma alternativa é dizer aos usuários para fazer a
  atualização regularmente, e até configurar algum tipo de sistema
  que automaticamente envia avisos toda vez que uma nova versão do
  pacote for colocada no servidor. Infelizmente, ainda restam dois
  problemas. Primeiro, os usuários tendem a ser preguiçosos e
  "mecanicamente" ignoram estes avisos. Segundo, eles - ou pelo menos
  alguns deles - não possuem conhecimentos necessários para instalar
  um pacote anti-vírus sozinhos, e podem facilmente bagunçar alguma
  coisa durante a instalação.

  Uma solução muito, mas muito melhor seria fazer do pacote de 
  atualização do anti-vírus um "vírus de rede" (um worm, na verdade),
  tornando-o capaz de se copiar através da rede. Uma parte do worm iria
  constantemente monitorar os logins. Cada vez que um micro tentasse se
  logar, seria verificado se ele estaria executando o anti-vírus e qual
  a versão. Se fosse liberada uma nova versão no servidor, o usuário
  seria informado e seria proposta uma atualização de versão. Se o 
  usuário recusasse a atualização, o acesso a rede seria negado a aquele
  micro. Se o usuário aceitasse a atualização, o worm traria do servidor
  a nova versão do anti-vírus e faria a atualização e daria um boot na
  máquina, a fim de que as mudanças tivessem efeito. É claro que o 
  usuário sempre seria mantido informado sobre o que estaria acontecendo
  e a permissão do usuário seria sempre solicitada. 
  
  O programa que faria esta atualização automática, na verdade seria
  parte do pacote anti-vírus. Uma vez que ele se copia (partes suas)
  para outros computadores através da rede, é um vírus, de acordo com a
  definição do Dr. Cohen - entretanto, a maioria dos usuários não o
  veria como um vírus. Este vírus é muito fácil de ser implementado -
  até usando modificações simples em scripts de login. Também poderia
  ser usado para uma instalação inicial do pacote anti-vírus - não
  apenas para atualizações. Se a rede possui mais de um servidor, então
  o "vírus" poderia transferir-se de servidor para servidor e então,
  começar a distribuir as atualizações.
  
  O "vírus benéfico" descrito acima obedece todas as condições citadas na
  seção 2 ? Parece que sim.

  Ele obedece a condição de controle. O vírus tenta se espalhar apenas
  em computadores que tentam acessar a rede em que está sendo executado.
  Isto é perfeitamente aceitável, porque, como dissemos, a política da
  empresa é que todos os computadores que tentem acessar a rede devem
  estar executando a última versão do anti-vírus. Simultaneamente,
  o usuário sempre tem a opção de recusar que o programa seja executado
  em seu computador - mas o acesso a rede seria recusado para aquele
  computador.
  
  Ele obedece a condição de reconhecimento. Uma vez que o "vírus" na
  verdade faz parte do anti-vírus, seria fácil para ele reconhecer-se
  e não emitir nenhum aviso. Atualmente, os produtos que implementam
  esta idéia não usam meios criptográficos de autentificação - eles
  baseam-se em nomes de arquivos, diretórios, etc. Entretanto, é muito
  fácil adicionar qualquer autentificação adicional sempre que 
  necessário.

  Ele obedece a condição de desperdício de recursos. Uma vez que o vírus
  do tipo WORM é auto-contido, apenas uma cópia simples dele estaria
  sendo executada num micro - portanto, nenhum desperdício de recursos
  ocorreria. De fato, as partes desnecessárias (por exemplo, o código de
  replicação) não seria copiado, já que não seria necessário.

  O fato de ser um worm e espalhar-se como um todo pela rede, torna-o
  "obediente" a condição de conteção de erro também. Se um erro for
  descoberto em qualquer parte do software, a mesma replicação virótica
  pode ser usada para distribuir a correção para cada estação assim que
  se logue.

  Uma vez que o "vírus" modifica apenas cópias antigas de si próprio e
  não mexe em outros programas, nenhum problema de compatibilidade
  devido ao seu comportamento virótico aconteceria. É claro que é ainda
  é possível que o anti-vírus tenha problemas com hardware ou
  componentes de software em uma estação. Entretanto, estes problemas
  são independentes da maneira virótica usada para distrobuição do
  pacote e pode ser solucionada pelo suporte. Se uma correção no anti-
  vírus for necessária, o mesmo mecanismo virótico pode ser usado para
  enviá-la para as estações que precisam.

  O tipo de trabalho que este "vírus" realiza, claramente demonstra
  que ele obedece a condição de eficácia também. Realmente, qualquer
  outro modo de distruição regular de atualizações de um pacote em um
  grande número de PCs seria horrivelmente ineficaz.

  Uma vez que o pacote atualiza/modifica apenas suas versões mais
  velhas, não existe problemas legais e/ou éticos relacionados com
  copyright -portanto, o pacote descrito acima também obedece estas
  condições. Uma vez que a empresa que instala o "vírus" na rede que lhe
  pertence, ela tem o direito de decidir exatamente qual é a política de
  permissão para conectar a aquela rede. Portanto, se a política é
  "executar a última versão do anti-vírus ou ter acesso negado", é seu
  direito impor isso. O usuário tem sempre a opção de recusar e não usar
  a rede.

  A maneira atual que tais pacotes são implementados torna o seu abuso
  por um "invasor" relativamente difícil, mas ainda possível.
  Entretanto, como mencionado acima, se for necessário, métodos de
  autentificação altamente criptografados podem ser facilmente
  introduzidos para cuidar deste problema.

  A condição de responsabilidade também é obedecida - de fato, todo o
  pacote "virótico" foi criado principalmente como um meio de combater
  vírus reais e maliciosos.

  Finalmente, os problemans psicológicos são facilmente resolvidos pelo
  fato de que a a maioria da pessoas considerariam tal pacote com um
  vírus real. As empresas que utilizam esta idéia geralmente a chamam de
  "atualização centralizada de software" ou um outro nome vistoso - um
  nome que de maneira alguma sugerisse que o pacote é um vírus.

  Atualmente, esta idéia poderia ser usada por qualquer tipo de sofware
  - não apenas para distribuição de pacotes anti-vírus. Entretanto, a
  necessidade de atualizar pacotes anti-vírus geralmente nos permite
  melhor demonstrar a utilidade e benefício desta idéia. Ferramentas
  similares para distribuição de software também existem - por exemplo,
  o programa rdist, usado em várias máquinas Unix. Entretanto, ele age
  como um vírus apenas quando distribui novas versões de si mesmo, que
  não ocorre regularmente.


  6. Conclusão
  
  Neste artigo, listamos uma série de motivos pelos quais os vírus de
  computador geralmente são considerados maus e enfatizamos que qualquer
  programa auto-replicante que proclama-se benéfico e não-malicioso não
  deve contradizer as condições expressas por aqueles motivos. Também
  demonstramos que é possível desenhar tais programas, e a maioria das
  pessoas provavelmente não os considera "vírus".


  7. Referências

  Vesselin Bontchev, "Possible Virus Attacks Against Integrity
  Programs And How To Prevent Them", Proc.  2nd Int.Virus 
  Bulletin Conf., September 1992, pp. 131-141.

  Vesselin Bontchev, "Methodology of Computer Anti-Virus Research",
  Ph.D. Thesis, in print.

  David Chaum, "Achieving Electronic Privacy", Scientific American,
  August 1992, pp. 96-101.

  Fred Cohen, "Computer Viruses - Theory and Experiments", 7th
  Security Conf., DOD/NBS, September 1984, pp. 143-158.

  Fred Cohen, "Computational Aspects of Computer Viruses",
  Computers & Security, 8 (1989), pp. 325-344.

  Fred Cohen, "Trends In Computer Virus Research", ASP, 1991.

  Fred Cohen, "A Formal Definition of Computer Worms and Some
  Related Results", Computers & Security, 11 (1992), pp. 641-652.

  Fred Cohen, "It's Alive!", John Wiley & Sons, 1994, 
  ISBN 0-471-00860-5.

  Brian Seborg, An article in the electronic forum Virus-L/comp.virus.

  John F. Shoch, Jon A. Hupp, "The 'Worm' Programs - Early Experience
  with a Distributed Computation", CACM, vol. 25, 3, March 1982.


  ---------
  * ruim, prejudicial