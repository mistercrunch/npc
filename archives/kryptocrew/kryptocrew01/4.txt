TCP/IP Grundlagen

Autor: Jasen Iribaar

Da diese E-Zine hoechstwahrscheinlich auch von einigen Newbiez gelesen wird,
erlaeutere ich zunaechst verschiedene Protokolle um ueberhaupt erstmal zu
verstehen, was es mit dem TCP/IP auf sich hat.

--Einleitung--
Ein Protokoll besteht aus einer Reihe von Regeln, die festlegen, wie Daten zwischen zwei Computern ausgetauscht 
und eventuell bei der Übertragung aufgetretene Fehlern beseitigt werden können. Bei dem im Internet verwendeten 
Protokoll werden alle Daten in Blöcke (Packets) aufgeteilt und verschickt; bei Leitungsstörungen werden 
verlorengegangene Packets automatisch neu angefordert. Im Internet gibt es zwei grundlegende Protokolle: Das 
Internet Protocol (IP) teilt die Daten in einzelne Pakete auf, die alle mit einem sogenannten "Header" versehen sind, 
in dem die Adresse des Empfängers vermerkt ist. Für die korrekte Zustellung dieser Pakete ist ein weiteres Protokoll 
verantwortlich, das Transmission Control Protocol (TCP). Da beide gewissermaßen eine Einheit bilden, spricht man in der 
Regel vom TCP/IP (Transmission Control Protocol / Internet Protocol). 

--IP--
Auf der untersten Ebene des Uebertragungsprotokolls steht 'Internet Protocol' (IP). 
IP ist ein 'Datagram' Service voellig ohne Zuverlaessigkeit. Es kann nicht sicher
gesagt werden, ob IP-Pakete ueberhaupt ankommen, oder ob sie sogar mehrere Male
ausgeliefert werden. Auch werden diese Pakete nicht auf Richtigkeit ueberprueft.
Es kann also auf dieser Ebene nicht garantiert werden, dass ein bestimmtes Paket
wirklich von der angegebenen Adresse kommt. Theoretisch kann jeder Host ein Paket
mit jeder beliebigen Adresse erstellen. Es gibt eine spezielle Option des IP's,
IP security option, das aber hauptsaechlich nur in militaerischen Belangen verwendet 
wird.

--ARP--
Ueber das 'Adress Resolution Protocol' (ARP) werden die 32-bit IP Pakete in 48-bit 
Ethernet Pakete konvertiert. Dies wird benoetigt, um die IP Pakete ueber Ethernet
schicken zu koennen. Hat jemand Zugriff auf die ARP-Tabellen koennte er den gesamten
Verkehr umleiten. Diese ARP-Tabelln aber sind teils fest in der Hardware implementiert,
oder sie sind auf jeden Fall von aussen schreibgeschuetzt.

--TCP--
Das 'Transport Control Protocol' (TCP) stellt eine zuverlaessige Uebertragungder Pakete
sicher. Es veranlasst eine erneute Uebertragung verlorener Pakete, ordnet Pakete, etc...
Eine TCP Verbindung ist erst ab dem Zeitpunkt gueltig, ab dem auf beiden Seiten die erste
Sequenznummer bestaetigt wird. Unter Umstaenden ist es moeglich, diese Nummern vorauszusagen,
und somit dem Zielrechner glaubhaft zu machen, er kommuniziere mit einer vertrauenswuerdigen
Maschine.

--UDP--
Das 'User Datagram Protocol' (UDP) ist ein zweites Protokoll auf derselben Ebene wie IP. 
Gesendete und Empfangene Pakete werden wie bei IP auch nicht geprueft. Der Unterschied
zwischen IP und UDP aber besteht darin, dass UDP ueberhaupt kein Verbindungs-Setup macht.
Der Overhead pro Paket ist somit sehr viel kleiner. Diese Protokoll eignet sich besonders
gut fuer Frage/Antwort - Kommunikation mit wenigen ausgetauschten Paketen.
Ueber UDP ist es sehr viel einfacher, den Datenstromzu manipulieren, da ja pro Paket kein
Verbindungs-Setup, und somit auch keine Authentifizierung gemacht wird.
Ein gutes Beispiel hierfuer ist der Buddy  'ICQ', fuer den es ja ausreichend Programme gibt.

--ICMP--
Das 'Internet Control Message Protocol' (ICMP) wird zur Pruefung von TCP und UDP Verbindungen
verwendet. Das bekannte Programm 'ping' beispielsweise, baut auf diesem Protokoll auf. 
ICMP-'redirect' messages, ueber die eine andere Route des Pakets bestimmt werden kann, sind
gefaehrlich. Ein Hacker kann damit den Datenverkehr umleiten und somit alle Daten abfangen.
Redirects sollten nur ueber Hosts erfolgen, aber niemals durch Router.






