->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->
  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú
<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-

  006. Los troyanos.............................................por Dragom…n

->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->->
 ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú  ú 
<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-<-


        Un troyano no es m s que un programa que se oculta dentro de otro
  programa para que, la persona que ejecute el programa deseado (la v¡ctima)
  ejecute tambi‚n el troyano y se infecte.

        La palabra troyano, es una simple abreviatura de Caballo de Troya,
  por la historia esa que muchos ya conocer‚is de los guerreros que se
  escondieron dentro de un caballo de madera gigante para realizar un ataque.
  En realidad, los pasos y el objetivo son los mismos que en esa vieja
  historia.
        
        Actualmente solemos utilizar el t‚rmino troyano para referirnos a
  los programas que permiten acceder a la totalidad de archivos del disco
  duro de alguien sin su consentimiento.

        Este tipo de programas vienen divididos en dos partes (que son dos
  programas): el programa cliente y el programa servidor.

        El programa servidor: Es el programa con el que tenemos que conseguir
                              infectar a nuestras v¡ctimas para poder tener
                              acceso a sus discos duros. Al ejecutarlo
                              abre los puerdos del ordenador y nos deja
                              acceder al mismo a traves de ellos.
        
        El programa cliente:  Este es el programa que tenemos que utilizar
                              para conectarnos a los equipos que tengan
                              instalado el programa servidor. Para conectar-
                              nos nos basta con saber su direcci¢n IP.

        
        En la actualidad los caballos de troya m s utilizados (tanto por sus
  posibilidades como por funcionar bajo Windows) son:
       

        B.O.: Sus siglas corresponden a Back Oriffice (nombre basado en el
        ~~~~  lar Back Office de Microsoft). Es el m s famoso y el m s
              difundido de todos en la Red. No hace mucho ha aparecido la
              versi¢n 2000, altamente recomendable.
        
        NetBus: Este tambi‚n es un troyano muy famoso y difundido en Internet
        ~~~~~~  gracias a sus enormes (y divertidas) posibilidades. En la
                actualidad va por la versi¢n 2.0 Pro (la cual es de pago,
                aunque podemos obtener tambi‚n como shareware).

        Deep Throat: Otro no tan famoso, pero realmente bueno. Dispone de
        ~~~~~~~~~~~  una interfaz similar a la de las primeras versiones del
                     NetBus, pero con algunas posibilidades m s. Muy £til y
                     recomendable.

        Hacker's Paradise: Este ya es mucho menos conocido que los otros,
        ~~~~~~~~~~~~~~~~~  pero no por ello menos £til e interesante (adem s
                           muchas veces el hecho de que un troyano no sea
                           tan conocido supone una ventaja).

        GirlFriend: El G.F. es un troyano muy poco conocido, aunque similar
        ~~~~~~~~~~  en prestaciones y posibilidades al NetBus.

        Existen muchos m s troyanos para Windows y para Linux, pero si nos
  pusieramos a analizar una gran parte de ellos no acabar¡amos nunca.

        Por cierto, si nos encontramos delante del ordenador que queremos
  infectar, y este utiliza Windows 95 o superior, podemos saber su direcci¢n
  IP ejecutando el programa ipconfig.exe (desde DOS) o winipconfig.exe desde
  Windows (ambos situados en el directorio principal). Nos aparecer  lo
  siguiente:

                Direcci¢n IP.......................: lo_que_sea
                M scara de subred..................: lo_que_sea
                Puerta de enlace...................: lo_que_sea


        En ocasiones, cuando descargamos un archivo de Internet corremos
  el riesgo de que este venga con un regalito, uno de estos troyanos, con
  lo cual al ejecutarlo nos infectariamos y otras personas tendr¡an acceso
  a nuestro disco duro.
        
        Hasta en las Webs de descarga de archivos m s seguras pueden haber
  en ocasiones troyanos, as¡ que imaginad en las p ginas personales...
  Tal vez porque el WebMaster quiera infectarnos o tal vez (esto suele ser
  lo m s frecuente) porque la persona encargada de subir los ficheros a la
  FTP tambi‚n est  infectada con un troyano y sin darse cuenta suministra
  archivos infectados.
        
        Por eso es tan recomendable dar una buena pasada con el antivirus a
  los archivos que nos bajemos de la Red antes de descomprimirlos o de
  ejecutarlos.
        
        Tambi‚n en el IRC, si no dominamos mucho el tema del chat, seremos
  un buen blanco (como veremos en el siguiente apartado). Conviene tener
  mucho cuidado.
     
       
        COLAR UN TROYANO POR EL IRC:
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~
        Al igual que como hemos visto con los archivos PWL's, el IRC nos
  puede ser muy £til para empezar a probar los troyanos, debido a la gran
  cantidad de gente novata que hacen uso de ‚l.
        
        Y para que vosotros mismos se is testigos y pod is comprobar lo f cil
  que resulta colarle un troyano a alg£n novato del chat, aqu¡ ten‚is una
  conversaci¢n (con explicaciones de cada paso) que tuvimos por el IRC hace
  un tiempo (Para evitarle cualquier tipo de problemas a nuestra v¡ctima
  -v¡ctima entre comillas, pues en realidad no sufri¢ ning£n da¤o, m s bien
  todo lo contrario, pues aprendi¢ a defenderse de los troyanos- hemos
  cambiado incluso su nick).
        
       OoOoOoOoOoOoOoOo
       o N = Nosotros O
       O P = Pringao  o
       oOoOoOoOoOoOoOoO

                
                [ Jueves, 15 de mayo de 1.999. 16:22 horas. Nos conectamos
                 al IRC Hispano, introducimos un llamativo nick femenino y
                 entramos en el archiconocido canal #fotos_xxx.

                  De forma inmediata, empiezan a aparecer en nuestra pantalla
                 querys de personas coenctadas al mismo canal que se han
                 sentido atraidos por nuestro nick, interesados en cambiar
                 material pornogr fico con nosotros, y tal vez algo m s...
                
                  Escogemos un nick al azar (en realidad nos fijamos en el
                 nick y escogimos el m s simple y feo) de uno de los abun-
                 danets privados, y empezamos a entablar una conversaci¢n
                 con su autor responsable. ]


        P > hola, cambias?

        N > hola

        N > si

        P > tienes tuyas [ Se imagina que somos una chica, y nos pregunta si
                          tenemos fotos nuestras en pelotas escaneadas, para
                          que se las pasemos... ]

        N > mio tengo un salvapantallas que me hicieron por revelar las fotos
            en Kodak [ No tengo constancia de que este servicio exista real-
                      mente, as¡ que no lo solicit‚is. ]

        N > si quieres te lo cambio por dos fotos [ Tenemos que hacerle ver
                                                   que no tenemos ning£n tipo
                                                   inter‚s de en enviarle
                                                   nuestro archivo a cambio
                                                   de nada, pues ser¡a muy
                                                   sospechoso. ]

        P > vale [ El pobre ignorante nos pasa tres fotos asquerosas (que ge-
                  neroso el tio!), de una tia con un caballo...
                  Inmediatamente despu‚s de finalizar la transferencia de di-
                  chas fotos, empezamos a enviarle el supuesto salvapantallas
                  en el que aparecemos en bolas.

                  NOTA: Es importante que tengamos el detalle de cambiarle el
                  nombre al archivo del programa cliente del troyano. Por
                  ejemplo, si le decimos lo del salvapantallas, podemos poner-
                  le el nombre de screen_xxx, ssaver_xxx... o algun otro nom-
                  bre que resulte convincente. ]

        P > ya lo tengo, hasta otra [ Como es normal, se lo guarda en el disco
                                     duro con la intenci¢n de ejecutarlo des-
                                     pu‚s de desconectarse de Internet, con
                                     la intenci¢n de ahorrar gastos de la co-
                                     nexi¢n. Pero nosotros necesitamos que lo
                                     ejecute mientras est‚ conectado, para
                                     poder penetrar en su disco duro. ]

        N > adios cari¤o [ ... ]

        P > por cierto, de donde eres? [ Tal vez al decirle cari¤o, se ha he-
                                        cho ilusiones y empieza a interesarse
                                        por nosotras... digo nosotros! ]

        N > de Madrid [ A ver si hay suerte... ]

        P > en serio! yo tambien [ Bien! ]

        P > de que parte???

        N > de Alcal  de Henares

        P > yo no estoy muy lejos de all¡

        N > podriamos quedar y vernos alg£n d¡a [ jeje ]

        N > si te parece bien... [ Esto le dar  mucha confianza. ]

        P > me parece magn¡fico! [ Claro. ]

        N > :) [ Este smiley tambi‚n le dar  confianza al muy ignorante. ]

        P > por cierto, como eres? [ La pregunta del mill¢n... ]

        N > ¨que? ¨no has visto mi salvapantallas? [ Sabemos de sobra que no,
                                                    pero intentaremos conven-
                                                    cerle para que lo vea an-
                                                    tes de desconectarse. ]

        N > voy a mirarlo

        N > solo hay que hacer doble click no?

        P > si [ Excelente. Antes de que nos diga que no se abre (normal),
                vamos a coger su direcci¢n IP, y a prepararnos para entrar en
                su ordenador.

                Para ello, escribimos el siguiente comando (teniendo en cuenta
                que utilizamos el programa mIRC): /dns su_nick. En la ventana
                "Status" nos aparecer  su DNS, la copiamos, abrimos el progra-
                ma cliente del troyano y pegamos la direcci¢n. ]

        P > hago doble click pero no sale nada

        N > no? que raro... ser  tu ordenador

        P > bueno, no importa

        P > dime como eres

        N > vale, pero primero d¡melo tu [ Mientras hace su descripci¢n f¡sica,
                                          nosotros volvemos al programa cli-
                                          ente, y nos conectamos a su DNS.

                                          Estamos dentro. Tenemos un tiempo
                                          para observar y probar. No ten‚is
                                          que ser malos.

                                          Miraremos si tiene algo de inter‚s
                                          por el ordenador. Si encontramos
                                          algo nos lo copiamos.

                                          Cuando ya no haya nada m s de utili-
                                          dad, le avisamos de que le hemos
                                          metido un troyano, y le pasamos o
                                          le decimos donde encontrar un ant¡-
                                          doto, por si alg£n lamer se conecta
                                          a su ordenador y le hace una mala
                                          pasada. ]


        ¨V‚is que f cil ha resultado colar un troyano? Pero tened en cuenta
  que muchas personas tienen un script (gui¢n para el mIRC) configurado para
  no aceptar archivos con extensiones *.exe o *.zip, o tal vez no lo aceptan
  porque no se f¡an.
        
        Que teng is suerte, y por favor, no os pas‚is. NO borr‚is nunca
  archivos de su disco duro, que a vosotros tampoco os gustar¡a (adem s esto
  va en contra de nuestra ‚tica).
     
        Muchos os preguntar‚is ahora: "Es un hacker alguien que usa uno de
  estos simples troyanos para Windows?" ¨Por que no? Siempre que se haga para
  aprender y experimentar cosas nuevas, y no para jugar malas pasadas o eli-
  minar informaci¢n est  dentro del hacking.
