
          +----------------------------------+
          | Autore: Storm                    |
          | Titolo: Cpan:archivio moduli Perl|
          | Mail: storm@mojodo.it            |
          | Http://www.mojodo.it             |
          +----------------------------------+


+---(Attenzione)--------------------------------------------------------------------+
|                                                                                   |
| Questa guida è da considerarsi come un'appendice delle lezioni sul Perl,  quindi  |
| se  non studiate  il perl  potete anche  non leggere  questo txt  poi fate  come  |
| volete. Ho scritto questo articolo visto che entro breve scriverò la lezione sui  |
| socket  col  perl e  forse  uscirà il  mio  prog-lezione per  le  e-mail in  cui  |
| sentirete molto  parlare di  'sti benedetti  moduli. Let's  Go (o  come cazzo si  |
| dice!!)                                                                           |
|                                                                                   |
+---(Start)-------------------------------------------------------------------------+
|                                                                                   |
| Forse, se avete letto  le ultime mie lezioni  avrò nominato un paio  di volte il  |
| Cpan e i moduli. Riguardo ai moduli vi dò una spiegazione semplice ma  efficace:  |
| i moduli stanno al Perl  come le librerie stanno al  C, più o meno. Questi  sono  |
| degli script con estensione  .pm (e non .pl  come sarete abituati) che,  oltre a  |
| semplificare alcuni passaggi noiosi durante la scrittura di un prog,  permettono  |
| al coder  di estendere  il prog  consentendogli di  utilizzare servizi  quali l'  |
| SMTP,  POP3,  FTP,  IRC  ecc...senza  quindi  provare  "invidia"  verso  il   C.  |
| Generalmente una distribuzione perl standard, tipo quelle che si installano  (se  |
| lo si richiede) con Linux, possiedono solo i moduli che consentono le operazioni  |
| diciamo più semplici ed elementari (come ad esempio le operazioni  matematiche).  |
| Queste  distribuzioni possiedono  in genere  anche un  modulo per  i socket,  il  |
| cosidetto  "modulo  standard"  dei socket,  IO::Socket  appartenente  appunto al  |
| pacchetto IO. E' detto standard poichè è presente in tutte le distribuzioni perl  |
| senza  bisogno di  scaricarlo da  internet. Uno  dei moduli  per i  socket "non   |
| -standard" è ad esempio quello utilizzato per lo script che AdVanced ha inserito  |
| nel suo  articolo sui  bug di  Morpheus e  Kazaa (http://mojodo.cjb.net  sezione  |
| Docs). Ovviamente lo script non funziona  se non avete il modulo (io  ad esempio  |
| non ce  l'avevo con  la distribuzione  presente sulla  Red Hat  7.1 mentre nella  |
| Slackware 8.0  non ho  ancora controllato,  io preferisco  IO::Socket ma chissà,  |
| magari ce n'è un altro che non conosco che è migliore). Voi direte...come faccio  |
| a sapere che moduli sono  presenti nella mia distribuzione perl?  E, sopratutto,  |
| se non ho un modulo  che mi serve per un  qualunque motivo, dove lo trovo?  Come  |
| faccio a utilizzarlo? Per la prima domanda  ho due risposte per voi: La prima  è  |
| forse la più logica, andare nella directory in cui sono presenti tutti  sorgenti  |
| e    cazzi     vari    per     l'interprete    Perl     che    generalmente    è  |
| /usr/lib/nomedistribuzioneperl   (generalmente   sono   /usr/lib/perl5   per  la  |
| distribuzione classica  versione 5.x.x  oppure /usr/lib/CORE  se si  possiede la  |
| distribuzione CORE cmq esistono anche  altre distribuzioni di cui nn  ricordo il  |
| nome  cmq  quelle  di  cui  sopra   son  le  più  usate.  Prendo  come   esempio  |
| /usr/lib/perl5 che è  quella che possiedo  sia per la  Slack che per  la RH. Per  |
| farla breve i moduli si trovano nella directory /usr/lib/perl5/5.6.0 se avete la  |
| distribuzione Perl versione 5.6.0 avrete davanti a voi una serie di cartelle che  |
| indicano  i  pacchetti  presenti  nel  vostro  sistema.  Vi  consiglio  di  dare  |
| un'occhiata cmq  a tutte  le directory  che trovate  e magari  guardate tutti  i  |
| sorgenti .pm che nn vi fa male (io  l'ho fatto e sono ancora capace di intere  e  |
| di volete) :D C'è anche un altro modo molto più semplice e comodo (NdVoi: E  ORA  |
| CE LO DICIII??) ossia quello di utilizzare una delle opzioni che il nostro  caro  |
| interprete ci mette a disposizione:  l'opzione -M (cioè Module). Funziona  così:  |
| scriviamo nel prompt  o in un  terminate: perl -Mnomedelmodulochevogliamo  se il  |
| modulo  è presente  ci apparirà  lo STDIN  per inserire  il codice  (per uscire   |
| premere  CTRL +  C), mentre  se non  è installato  ci apparirà  un messaggio  di  |
| errore. Esempio:                                                                  |
|                                                                                   |
| # perl -MNet::FTP                                                                 |
| Can't locate Net/FTP.pm in @INC (@INC contains:                                   |
| /usr/lib/perl5/5.6.0/i386-linux /usr/lib/perl5/5.6.0                              |
| /usr/lib/perl5/site_perl/5.6.0/i386-linux /usr/lib/perl5/site_perl/5.6.0          |
| /usr/lib/perl5/site_perl .).                                                      |
| BEGIN failed--compilation aborted.                                                |
|                                                                                   |
| L'interprete  non  trova  il  modulo Net::FTP  (stasera  me  lo  scarico :)  Ora  |
| arriviamo alla seconda domanda, se non  ho un modulo, dove lo trovo?  DOVEEEEEE?  |
| ...e qua entra in ballo  CPAN. Un pò di storia:  CPAN nacque dalla mente di  due  |
| sviluppatori perl che  decisero di utilizzare  le loro conoscenza  per aiutare i  |
| programmatori  sparsi  per  il  mondo  per  poter  migliorare  i  loro  prog. ed  |
| espanderli. Nacque  così la  comunità del  CPAN che  sta per  Comprehensive Perl  |
| Archive Network, ossia Archivio di Rete  Perl Completo che, negli ultimi anni  è  |
| diventato    il     punto    di     riferimento    numero     uno    per     gli  |
| sviluppatori/programmatori/smanettoni  perl  di  tutto il  mondo.  CPAN  mette a  |
| disposizione moduli, binari, distribuzioni,  script ed esempi vari.  Il progetto  |
| CPAN è portato avanti dai migliori programmatori Perl di ogni angolo della Terra  |
| che mettono a disposizione tutto ciò che creano per gli altri...insomma...  CPAN  |
| è un  piccolo paradiso  dell'open source.  Per usufruire  dei servizi  di questo  |
| immenso archivio  basta collegarsi  al sito  http://www.cpan.org e  vedere un pò  |
| quello che ci serve. Ovviamente se ci interessa un modulo andiamo nella  sezione  |
| Modules che contiene più di 3000 moduli suddivisi per categorie a seconda  della  |
| loro funzione. Nella sezione script trovate dei programmi che potete  utilizzare  |
| per la gestione dei file del vostro sistema (uno dei punti forti del  linguaggio  |
| Perl) o per  quel che vi  pare, anche usarli  come esempio o  spunto per qualche  |
| vostro programma che volete fare o aggiornare e, come ho letto da qualche parte:  |
| "Un  pittore per  quanto abile  arriva ad  un punto  di stasi  crativa, e  solo   |
| incontrando  un nuovo  artista, il  cui tocco  stimoli nuove  tecniche, che  può  |
| ritrovare vigore e crescere!" secondo me ci  stava bene e l'ho messo :þ Poi  c'è  |
| anche una  sezione che  riguarda le  distribuzioni dove  troverete altre distro.  |
| perl o magari qlc nuova  versione della vostra distribuzione. Fatevi  un giretto  |
| per benino  del sito  perchè quando  avrete problemi  con la  programmazione, vi  |
| serve qualcosa, modulo o script  che sia, insieme al man  il CPAN è il vostro  +  |
| grande e forse unico aiuto che avete come programmatori/smanettoni perl.  Potete  |
| anche dare un occhiata al motore di ricerca di CPAN: http://cpan.search.org       |
|                                                                                   |
| Avete trovato e scaricato il modulo (generalmente compresso nel formato .tar.gz)  |
| e ora  volete giustamente  installarlo e  utilizzarlo per  qualche applicazione.  |
| Facciamo che abbiamo scaricato il modulo Mail::Sendmail ok? Iniziamo  ovviamente  |
| decomprimendolo: da terminale ovviamente:                                         |
|                                                                                   |
| tar xvfz Mail-Sendmail-0.86.tar.gz                                                |
| cd Mail-Sendmail-0.86                                                             |
|                                                                                   |
| (Date un occhiata ai file  presenti tipo i README, anzi...soprattutto  i README)  |
| poi fate:                                                                         |
|                                                                                   |
| perl Makefile.pl                                                                  |
|                                                                                   |
| (crea i makefile necessari per la compilazione)                                   |
|                                                                                   |
| make                                                                              |
|                                                                                   |
| (comprime il pacchetto)                                                           |
|                                                                                   |
| make test                                                                         |
|                                                                                   |
| (se volete fare un test di integrità e funzionalità del modulo in modo da vedere  |
| se è tutto ok)                                                                    |
|                                                                                   |
| make install                                                                      |
|                                                                                   |
| (installare il modulo nella directory apposita)                                   |
|                                                                                   |
| Controllate ovviamente  quel che  compare durante  il processo  di compilazione,  |
| installazione... Per verificare  se tutto è  apposto basta fare  quel che vi  ho  |
| detto alcune righe fa:                                                            |
|                                                                                   |
| perl -MNomemodulo                                                                 |
|                                                                                   |
| (nel nostro esempio):                                                             |
|                                                                                   |
| perl -MMail::Sendmail                                                             |
|                                                                                   |
| e se  ci appare  lo STDIN  in attesa  è tutto  apposto, il  modulo è  installato  |
| correttamente.  Complimenti   :D  Tutti   i  moduli   possiedono  una   manpages  |
| visualizzabile con il comando:                                                    |
|                                                                                   |
| perldoc Nomemodulo                                                                |
| (ad esempio):                                                                     |
|                                                                                   |
| perldoc Mail::Sendmail                                                            |
|                                                                                   |
| leggete sempre la manpage del modulo appena installato perchè viene spiegato  il  |
| modo in cui lo si utilizza generalmente  sotto la riga SYNOPSIS ma non è  detto.  |
| Quindi divertitevi  e codate,  codate, codate!!!  Forse ve  l'ho già detto altre  |
| volte ma non mi stancherò mai  di ripetervelo! Ci vediamo sempre con  le lezioni  |
| Perl e su  quella dei Socket  tra non molto.  Sperando di trovare  un modulo che  |
| soddisfi le mie esigenze  per il Mojodo-Mail e  di riuscire a fargli  un qualche  |
| squallido supporto grafico Tk vi  saluto! Per chiarimenti e apprezzamenti  (e in  |
| base  a  che?).                                                                   |
|                                                                                   |
+-----------------------------------------------------------------------------------+