
Tema: Recursos Compartidos en Windouz
Autor: desconocido
mail: ruloman77@hotmail.com

INDICE:

                       1 - Ficheros importantes
                       2 - Llevarte ficheros
                       3 - Atake premeditado
                       4 - Saltarse las passwords
                       5 - Borrar tus huellas


_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _


///////  Seguramente te habras encontrado a menudo con una makina Windows  en frente y te habran entrado    //1//   tentaciones, pero si la makina esta   por ejemplo en tu trabajo o en tu escuela, universidad, etc..
/////  tendra algunas medidas de proteccion.  Supongamos para este primer caso k es una ocasion fortuita y no vas a tener mas oportunidades de acceder facilmente a esa makina, los ficheros importantes ke tienes ke buscar son (y ya dire mas tarde como saltarte las posibles protecciones) tree.dat, user.dat, *.pwl, system.ini,
ws_ftp.ini, eudora.ini, scylate.log. De momento es suficiente con eso. Para localizarlos solo tienes ke situarte en el directorio raiz y teclear c:\> dirnombre_del_fichero /s .Seguramente ya sabras a ke corresponde cada archivo,
pero por si acaso voy a describirlos brevemente:· tree.dat --> Lo genera el CuteFTP y puede contener claves ke se pueden crackear con algun programa tipo CuteCrack.

· user.dat --> varios programas generan un fichero con este nombre, tambien el
windows lo tiene en c:\windows donde guarda informacion del sistema, este la
mayoria de las veces no te servira de nada, pero a lo mejor encuentras
informacion interesante.

· *.pwl --> Los archivos PWL guardan casi todas las passwords de Intermet,
incluida la de acceso telefonico a redes, Lo mejor es desenciptarlas en la
misma makina ke kieres hackear usando el pwlcrack.exe, si no, tendrias ke
hacerlo desde tu ordenador.

· system.ini --> Entre otras cosas aki encontraras el login de las password 
ke guardan los archivos PWL.

· ws_ftp.ini --> Este fichero guarda las password generadas por el cliente 
de FTP WSftp, se pueden crackear usando una tabla de conversion ke rula por ahi 
o usando algun cracker para esto.

· eudora.ini --> Este fichero contiene las passwords ke guardas en el 
cliente de e-mail Eudora, se pueden crackear usando un programa para el efecto.

· scytale.log --> Si este ordenador se conecta a IRC y alguien se ha
autentificado para obtener OP, la password kedara grabada en este fichero,
siempre ke no tenga desactivada la opcion de guardar los logs.



////////
//2//
/////  
 Para llevartelos, seguramente usarias disketes, pero ke pasa si no tienes disketes en ese momento, o la disketera esta chapada con un cepo... lo primero ke tienes ke hacer es mirar en el icono ke se
 encuentra en el escritorio "Entorno de Red" y ver si puedes enviarlo a algun otro terminal al ke vayas a poder acceder mas tarde, en caso de ke no sea posible, si ese ordenador tiene conexion aI nternet solo hay ke entrar en la web y mandartelo a tu e-mail como attachment desde algun servicio de e-mail gratuito como hotmail, usanet, etc.. pero para poder hacer esto el navegador debe ser o Explorer v4 o superior o Netscape 
v3 o superior. Si no, siempre puedes intentar como ultimo recurso, crear un directorio con tu nombre por ejemplo c:\pepe y guardar los archivos comopepe-1.bmp , pepe-2.bmp, etc.. y llegar otro día diciendo "hola soy pepe, me ha dicho el encargado de los ordenadores ke me dejaba unas imagenes ke me prometio en este ordenador, claro ke esta ultima es una practica algo arriesgada X-D



///////// Ahora veremos como se planea un atake mas sofisticado, con mas tiempo para planearlo, supongamos ///3/// ke tienes acceso habitualmente a esa makina, y esta conectada en red, lo primero es saber cual es          /////// nuestra IP para lo cual usamos el comando WINIPCFG.EXE abriendo una  ventana de ms-dos o inicio-ejecutar. Una vez tienes tu IP, ya sabes ke seguramente todas o casi todas las IPs de esa red seran,suponiendo ke la tuya sea 111.222.333.444 pues sera 111.222.333.xxx con locual seria interesante escanear ese rango de IPs donde xxx seria de 000 a 255, para escanear puedes usar un port-scaner, o si te pasa como me paso a mi en
una ocasion ke podia hacer uso de un ordenador solo 10 minutos al dia, puedeshacerte tu propio escaneador mas rapido, la forma de hacerlo es simplemente creando un fichero batch ke sea algo asi como: 
 echo off
  cls  ping -n1 x001 > miping1.pin
  ping -n1 x002 > miping2.pin
  ping -n1 x... > miping3.pin
  ...
etc , asi sucesivamente hasta el 255, no hace falta ke escribas todos losnumeros, solo cogelos de alguna lista ke tengas por ahi cacho vago :P despues incluye estas lineas:  
copy *.pin resultado.txt
  del *.pin
  cls
  echo YA ESTA ! !
Ya esta, por ultimo usando un editor de texto tipo wordpad seleccionas la
opcion reemplazar y remplazas todas las x por las tres primeras cifras de la
IP ke te dio como resultado con WINIPCFG.EXE, y guardarlo como scan.bat, al
ejecutarlo genera un fichero llamado resultado.txt, lo bueno ke tiene 
hacerlo de esta forma es ke es muy rapido, en 2 minutos ya sabras las IPs ke estan
conectadas en red, ahora puedes cojer el mismo fichero bat y con la misma
opcion reemplazar la palabra "ping -n1" por "nbtstat -A" , despues borras
todas las IPs ke no te respondieron con el anterior scaner y lo guardas como
nbtscan.bat, ahora tienes un rapido escaneador de nombres de red y ademas
sabras cuales tienen recursos compartidos, porke en el fichero de resultados
veras el numero <20> al lado del nombre de makina, ke seran la mayoria, 
sobre esto ultimo puedes informarte mejor leyendo un documento muy bueno hecho por
Pipero titulado "Windows 3.11/95 y los recursos compartidos". Pero este
escaner solo nos servira suponiendo ke todas las makinas conectadas sean
Win95, ya ke de esta forma solo nos interesa el puerto 139, ke es el ke nos 
va a permitir acceder a los recursos compartidos de las makinas, si no es asi,
seria mejor usar un portscaner convencional ke nos dara mas datos. La forma
mas facil de ver las makina conectadas en red es abriendo el ventanuco de
"Entorno de Red", ¿porke insisto entonces en escanear las IPs? simplemente
porke seguramente de esa forma encontraras mas makinas conectadas de las ke
ves en el entorno de red, y ademas es una forma de guardarte el nombre de 
red de cada makina de una forma rapida, una vez tengas esto, veras ke para 
entrar en un acceso compartido hay passwords, la forma de saltarlas esta mas
detallada en el punto 4, de momento voy a explicar como logear passwords, es
tan facil como meter un key-loger en el directorio de inicio 
c:\windows\inicio
y esperar a ke piken, he usado bastantes key-logers. y la mayoria funcionan
bien en mi makina pero me fallan en algun momento al meterlos en cualkier
otra, el unico ke siempre me ha resultado es uno llamado "Password Thief"
(shareware), al cabo de unos dias mira el archivo ke el key-loger haya 
creado,
sabras cual es porke te lo indica en las instrucciones de cada uno, y ahi te
encontraras todas las password ke hayan metido. Otra forma de sacar password
es usando un cracker de PWL, como el PWLCrack (de Vitas) ke tendras ke
ejecutarlo en la makina a hackear y te dara un monton de pass ke a su vez te
dan acceso a otras makinas donde encontraras mas passwords.





//////// En este apartado veremos algunas formas de saltarte diferentes
///4// obstaculos a la hora de entrar en un Windows. Al entrar en los
////// recursos compartidos me he encontrado muchisimas veces con ke o 
bien  no han puesto password o bien han elegido el mismo pass ke nombre 
de  usuario, y la razon es muy simple: los ke ponen esas passwords no
 son administradores de sistema la mayoria de veces, sino los 
mismos usuarios ke confiados ponen cualkier pass. La forma de ir entrando en una 
red es ir consiguiendo esas password ke a su vez te daran mas, para empezar 
puedes usar las tecnicas descritas en el apartado 3, pero ¿ke pasa si tienes
restricciones para poner un key-loger o entrar al ms-dos para ejecutar un
PWLcrack?...Muchas veces simplemente kitan los iconos de entorno de red,
ms-dos y demas del escritorio, para entrar en los recursos compartidos en 
ese caso lo unico ke tendrias ke hacer es usar el escaner ke hemos visto antes,
entrando al ms-dos de la forma INICIO - EJECUTAR - COMMAND.COM y una vez
tengas las IPs y los nombres de makina editas un archivo llamado lmhosts. 
(no confundir con lmhosts.sam) ambos estan en c:\windows, si no existe pues lo
creas con el block de notas y pones la IP seguida por un espacio por el 
nombre de makina de la IP ke tiene recursos compartidos, despues te vas a INICIO -
BUSCAR - PC e introduces el nombre de makina, ya esta, eso es como si 
hubieses pinchado en el icono de "entorno de red", pero ke pasa si esta protegido con
una pass? nada ke no pueda solucionar un buen bypass, y esto es reiniciar el
ordenador, si hace falta lo apagas a capon o incluso lo desenchufas, al
reiniciar pulsa control C para interrumpir la carga y ke te mande al ms-dos,
tambien puedes pulsar F8 y seleccionar la opcion "solo simbolo del sistema",
pero mejor la primera forma, una vez en ms-dos te metes en el directorio
c:\windows y renombras los archivos pwl poniendo por ejemplo ren *.pwl *.123 
y reinicias el ordenador, al reiniciar, te pedira una pass, mete la ke kieras 
y ya esta, no te olvides luego de dejarlo como estaba, de esta forma podremos
entrar en los recursos compartidos, no significa esto ke ya podamos entrar 
en las demas makinas, pues cada makina tiene su propia pass, de esta forma 
ademas podremos ejecutar cualkier programa ms-dos de los antes mencionados ke
necesitemos para ir sacando claves. Segun vayas entrando en otras makinas 
vete dejando key-logers, ya ke, a diferencia de los Unix, en Windows no puedes
ejecutar ningun programa remoto, habria ke dejar el key-loger en el 
directorio :
c:\windows\inicio para ke sea el kien lo ejecute. El otro dia estaba yo en 
un ciber con mis colegas Lotus y CHEVARA, el ciber era de esos ke hechas una
moneda de 20 duros y te da para 10 minutos, habian desactivado absolutamente
todo del menu inicio y los iconos del escritorio a excepcion de los 
browsers,
y el irc, intentamos incluso ejecutar los programas desde el I Explorer pero
estaba protegido, entonces en la barra del Tray vimos un icono en forma de
relog ke marca el tiempo ke llevas conectado y este tenia un pekeño boton ke
al pinchar se minimizaba la pantalla, y al lado de este otro boton ke al
pinchar te decia ke se reiniciaria el ordenador.. Et voila! ya esta, como 
ves
siempre hay algun sitio por el ke hacer un bypass, lo hicimos y encontramos 
en
un fichero INI algo ke decia mas o menos 100 pelas-11 minutos, bueno, ya te
imaginas el final, sin kerer  0:)  cambiamos el 11 por un 6000, y 
curiosamente
no tuvimos ke pagar en toda la tarde X DDDD, bueno la cosa kedo compensada
porke te cobran una pasta por cada bebida ke pides.





 Voy a explicar algunas medidas basicas para ke no te pillen, lo
 primero ke tienes ke hacer es buscar el loger ke el admin habra
 metido, para esto tendras ke usar bastante la intuicion, busca a 
ver
 en el autoexec.bat, config.sys, system.ini, etc.. alguna linea ke 
te
 pueda dar una pista, mira en INICIO - PROGRAMAS - INICIO y 
posible-
mente veas el nombre del loger, pulsa Control+Alt+Suprimir para ver la lista
de tareas, seguramente el loger sera algo ke ponga algo de LOG, ya sea 
memlog,winlog, intralog, logtray o algo parecido dependiendo del ke usen, cuando lo
encuentres, le das a finalizar y ya esta, en el caso ke estuviera en el
autoexec.bat, puedes añadir REM al principio de la linea, pero sobre todo no
te olvides de dejarlo luego como estaba. Esto es antes de empezar, mientras
actuas lo unico ke tienes ke hacer es tener cuidado, piensa a ke horas 
pueden estar mas monitorizados los PCs, por ejemplo, si lo haces a la hora ke sabes
ke el admin se va a desayunar pos mejor ke mejor, si usas los recursos
compartidos procura no abrir demasiadas ventanas de la otra makina, y no 
hacer mucha actividad al mismo tiempo, pues facilmente puedes dejarla colgada, si
controlas ms-dos mejor hacerlo por ms-dos ke por windows, esto es facil 
copy, delete, net view, etc.. si no sabes usarlos le pones el /? despues del 
comando y te lo explica, normalmente usando ms-dos tienes menos posibilidades de ke 
te logeen. si coges algun archivo ke no puedes llevarte en ese momento puedes
guardarlo por ejemplo en el directorio c:\windows y si se llama passwd.txt
pones ren passwd.txt mipa.dll, asi canta menos. Cuando has acabado mira a 
ver la papelera de reciclaje, si ves perfectamente tus archivos no hace falta ke
la vacies, solo ke con el boton derecho borres los ke tu hayas usado, pincha
en INICIO - CONFIGURACION - BARRA DE TAREAS - PROGRAMAS DEL MENU INICIO -
BORRAR , para ke no kede constancia de ke ficheros has leido. Y acuerdate de
borrar el contenido del portapapeles, simplemente coje cualkier archivo ke
veas en el escritorio y con el boton derecho seleccionas COPIAR, ya esta, 
solo keda volver a dejar los logers y demas como estaban. Esto puede parecer
demasiado basico, pero luego se olvidan las cosas y pasa lo ke pasa. Por
ultimo, si tienes prisa por borrar tus huellas puedes usar una especie de
"zapper" improvisao, es tan facil como abrir tu blok de notas y escribir:

   @echo off
   cls
   del c:\Recycled\*.*
   del c:\windows\temp\*.tmp
   del c.\windows\tempor~1\*.*
   del c:\windows\recent\*.*
   del c:\archiv~1\netscape\navigator\cache\*.htm
   del c:\archiv~1\netscape\navigator\cache\*.html
   del c:\archiv~1\netscape\navigator\cache\*.gif
   cls
   exit

Lo guardas como zap.bat, y ya tienes un programa ke te facilita borrar tus
huellas en un Win95, pueden variar algunas cosas, por ejemplo si la unidad 
no
es C: sino D: lo cambias y ya esta.





