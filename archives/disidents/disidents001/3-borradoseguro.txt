
------------------------------
* BORRADO SEGURO DE FICHEROS *
*     EN DISTINTOS SISTEMAS  *
*                  by DDiego *
*  LOS FUERA DE LA LEY       *
*----------------------------*



En este articulo voy a explicar el borrado de datos  de forma segura desde
diversas plataformas. Es importante tener conocimiento de esto ya que
nos puede salvar de algun contratiempo no deseado.

Existen varias formas para borrar un fichero de manera que no se pueda
recuperar, y no es borrandolo de tu papelera de reciclaje.
1º  Coger un soplete y darle al hd tipo MA en el equipo A, despues ya
puedes tirarlo a la papelera de reciclaje, tranquilo nadie podra ver esas
cosas que tienes tantas ganas de borrar

2º Una forma un poco rollo pero efectiva es llenar tu disco  duro,
borrar y desfragmentar varias veces, el que me lo comento ya le han
requisado varias veces el hd y no le han encontrado nada, tambien lo hizo
6 veces, como para que te puedan leer algo despues de ese trabajo

     (((((((((((((((((((((((((((
     (BORRADO SEGURO DESDE WIN2(
     (((((((((((((((((((((((((((
3º Una forma más comoda y rapida es usando el PGP (Pretty Good Privacy),
el programa más popular de encriptación y creación de llaves públicas
y privadas para seguridad de aplicaciones informáticas, escrito por
Philip Zimmermann. Ademas de poder encriptar documentos, textos y
aplicaciones, tiene una opcion de borrado seguro y ademas el programa es
gratuito. Yo tengo ahora mismo al version PGP 6.5.8.
Funcionamiento:
Puedes borrar desde el exporador de win2, simplemente señalando el/los
archivos, calcas el boton derecho muy suavemente, veras debajo de
propiedades PGP y ahi se despliegan varias opciones: Encrypt, Sign,
Encript & Sign y la estrella del articulo: "Wipe"

Con PGP tambien puedes borrar el espacio libre de tu hd. Para hacerlo debes
ir a "PGP Tools" y darle al boton de la derecha donde trae una goma borrando
lo que parece una  unidad. Te aparecera una ventana que trae PGP Free Space
Wiper, le das a siguiente y seleccionas la unidad y las pasadas que le
quieres meter. A la  iquierda de el tambien esta la opcion de borrar ficheros;
aparece una goma (de borrar) borrando una hoja, esa herramienta es la misma
que
la que hemos utiizado antes desde el explorador. ahh, se me olvidaba...
tambien puedes
seleccionar el numero de pasadas a la hora de borrar el fichero en
PGPTray > Options. Ahi abajo en Number of passes, trae 8 de forma
predeterminada

-
 ((((((((((((((((((((((((((((
 (BORRADO SEGURO DESDE LINUX(
 ((((((((((((((((((((((((((((

Unix Forensics, analisis forense de un disco. Que pueden recuperar y como
evitarlo esto es algo que nos interesa, veamos un poco sobre este tema,  esto
es fundamental para comprender como se debe hacer para que el borrado sea
SEGURO de verdad.
El 6 de agosto 1999, en el IBM T.J. Watson Research Center de  Nueva York,
dos prestigiosos expertos en seguridad Wietse Venema y Dan Farmer
dieron una clase sobre Unix Forensics, en la que demostraron que podrian
extraer informacion del sistema operativo, no solo del sistema de ficheros
si no tambien de la red, el sistema de logs y los procesos que se ejecutan en
una maquina. Usaron una herramienta importante en este campo llamada The
Coroner Toolkit obra de de ellos mismos. Esta herramienta, que esta en esta pagina,
(http://www.porcupine.org/forensics) muestra lo que un buen programa puede y
no puede conseguir. El caso es que tenemos que hacer un buen borrado
de nuestros  archivos, en este caso voy a utilizar la herramienta del grupo
THC-Secure Deletion V2.1 for UNix del grupo THC (The Hacker´s Choice); Secure
Deletion tiene una utilidadd llamada srm (secure rm), que implementa
un algoritmo de borrado seguro basándose en que dicho algoritmo
efectua principalmente un procedimiento de sobreescritura casi 40 veces,
haciendo un flush de la caché de disco después de cada una de ellas,
además trunca el fichero a borrar y lo renombra aleatoriamente antes de
efectuar el unlink(), de forma que para un potencial atacante sea más difícil
obtener cualquier información del archivo una vez borrado.Este programa incluye
smem (borrado seguro de datos en memoria RAM), sfill (borrado seguro de
datos en el espacio disponible de un disco) y por último sswap (borrado
seguro de datos en el área de swap de Linux). Menuda limpieza...
Bueno vamos a la practica y dejemonos de hostias que hay prisa:
Bajate el  archivo de packetstorm:
http://packetstorm.securify.com/groups/thc/secure_delete-2.1.tar.gz

Echamos un vistazo al readme y vemos esto

     srm    [-d] [-f] [-l] [-l] [-v] file [file] [another file] [etc.]
     sfill  [-f] [-l] [-l] [-v] target-directory
     sswap  [-f] [-l] [-l] [-v] /dev/of_swap_filesystem
     smem   [-f] [-l] [-l] [-v]

     The -s options are depricated now, and will be ignored.

      -d   don't delete the dot special files "." and ".." on the
           commandline (only srm)
      -f   fast writes without O_SYNC and sync() between writes. Much faster
           but less secure.
      -l   lessens the security. Only one random plus one pass with 0xff are
	   written.
      -l   a seconds time as parameter switches into the insecurest mode,
	   it overwrites the file only once with 0xff.
      -v   turn verbose mode on.
     file  file to delete. Wildcards are of course allowed.
           For unix: you need write permissions. For msdos: It may be hidden,
           system, readonly etc. we don't care.

Ahora voy  a mostrar como se instala para los mas nuevos  en linux desde 0
1º Lo desempaquetamos, recuerda que tar es una utilidad de archivado no un compresor tipo
gunzip
[root@localhost prueba]# tar -xvzf secure_delete-2.1.tar.gz
secure_delete-2.1/
secure_delete-2.1/sfill.c
secure_delete-2.1/srm.c
secure_delete-2.1/sswap.c
secure_delete-2.1/rm.diff
secure_delete-2.1/Makefile
secure_delete-2.1/CHANGES
secure_delete-2.1/README
secure_delete-2.1/FILES
secure_delete-2.1/secure_delete.doc
secure_delete-2.1/sfill.1
secure_delete-2.1/srm.1
secure_delete-2.1/sswap.1
secure_delete-2.1/usenix6-gutmann.doc
secure_delete-2.1/smem.c
secure_delete-2.1/smem.1
2º Lo instalamos 1º  ponemos make
[root@localhost prueba]# cd secure_delete-2.1
[root@localhost secure_delete-2.1]# make
gcc -O2 -o srm srm.c
strip srm
gcc -O2 -o sfill sfill.c
strip sfill
gcc -O2 -o sswap sswap.c
strip sswap
gcc -O2 -o smem smem.c
strip smem
luego make install
[root@localhost secure_delete-2.1]# make install
mkdir -p -m 755 /usr/local/bin 2> /dev/null
cp -f srm sfill sswap smem /usr/local/bin
chmod 711 /usr/local/bin/srm
chmod 711 /usr/local/bin/sfill
chmod 711 /usr/local/bin/sswap
chmod 711 /usr/local/bin/smem
mkdir -p -m 755 /usr/local/man/man1 2> /dev/null
cp -f srm.1 sfill.1 sswap.1 smem.1 /usr/local/man/man1
chmod 644 /usr/local/man/man1/srm.1
chmod 644 /usr/local/man/man1/sfill.1
chmod 644 /usr/local/man/man1/sswap.1
chmod 644 /usr/local/man/man1/smem.1
3ª  Ahora voy a crear un simple archivo y borrarlo con el s
[root@localhost secure_delete-2.1]# cat > prueba.txt

[root@localhost secure_delete-2.1]# ls
CHANGES   prueba.txt         sfill.1  smem.c  sswap*
FILES     rm.diff            sfill.c  srm*    sswap.1
Makefile  secure_delete.doc  smem*    srm.1   sswap.c
README@   sfill*             smem.1   srm.c   usenix6-gutmann.doc
[root@localhost secure_delete-2.1]# ./srm prueba.txt
[root@localhost secure_delete-2.1]#
Ahora vamos a ver una comparativa de otros wipes respecto al srm.



Program		   	secure_delete (srm)	wipe		   wipe
Version				2.1		0.2		   0.56-2a
Programmer	   	van Hauser / THC	Berke Durak	   Tom Vier
Email		   	vh@reptile.rug.ac.be	bedrettin@chez.com thomassr@erols.com

Standard Passes			38		35			35
More passes via cmd		no		no			yes
Fewer passes via cmd		yes		yes			yes
Good RNG			yes		yes			yes
Blocksize (big == good)		32k		1k			0
Truncates file			yes		no			yes
Rename file/directory		yes		no			no

recursive mode			yes		yes			yes
secure recursive (link races)   yes		no			no
verbose mode			yes		yes			yes

additional wipe tools		yes		no			no

Time: 1 File, 1MB		25s		40s			26s
Time: 10 Files, 10kb		12s		6s			4s
(Parameters for tests)		<none>		-f			-fTe
						  		(needed for the
								 fastest mode)
						  [otherwise it needs x12 time]



Esto lo dice todo; srm es mas rapido cuando borra archivos grandes porque
guarda un gran espacio en memoria para la escritura. Sera mas lento a medida
que requieras mas medidas de seguridad y uses sus utilidades adicionales.
En casi todas las distribuciones viene algun programa de borrado seguro "wipe",
pero esta te permite borrar mas cosas que un simple fichero. Tambien hay pgp
en linux: (ftp://ftp.ifi.uio.no/pub/pgp) ahi teneis el gnupg, e incluso pgp
para mac, en (http://gsu.linux.org.tr/wipe/) un  wipe para diversas plataformas
unix Linux 2.*, 2.2.*, AIX 4.1, SunOS 5.5.1, Solaris 2.6 . El programa borra
datos con seguridad, sobreescribiendo el fichero múltiples veces con varios
patrones de bits, p. ej., todo 0s, luego todo 1s, luego alternando 1s y
0s, etc. Se puede utilizar wipe en ficheros o en dispositivos; si se utiliza
con ficheros hay que recordar que las fechas de creación de ficheros,
permisos, etc., no serán borrados, de modo que asegúrate de borrar el
dispositivo si se necesita eliminar toda traza de cualquier cosa.

NOTA: El mandrake viene con la opcion de borrado seguro,calcando el boton
derecho sobre el archivo y  seleccionando la opcion Triturar, con esta opcion
da nada menos que 35 pasadas al borrar el archivo, es una opcion facil y comoda


  (((((((((((
  (  BEOS   (
  (((((((((((

El BEOS, un bonito sistema con un navegador muy rapido pero
que no he encontrado ninguna herramienta para borrar potentemente. Tiene
algun programa pgp pero no tiene la opcion de borrado seguro. Aqui os dejo
la direccion,en http://www.pgpi.org/products/pgp/versions/freeware/beos/5.0i/
te la bajas. Por lo menos voy a decir donde se encuentran los logs:
/boot/var/log Es el directorio destinado a recoger los ficheros de log del SO
/boot/home/logs Para los logs de usuario que hagan las aplicaciones
/boot/home/config/settings/NetPositive/History historial del navegador
netpositive

Lo siento mucho, porque realmente he buscado y preguntado, pero nadie sabe nada
si alguien sabe de algun wipe por favor que escriba a disidents@yahoo.com, que
lo añadiremos o haremos referencia a el



   ((((((((((((((((((((((((((
   ( BORRADO SEGURO EN OS/2 (
   ((((((((((((((((((((((((((

Para el borrado seguro en este potente sistema he tenido que pedir ayuda, ya
que yo carezco de el. Por eso quiero mandar un saludo a ^jan, que me ha
ayudado.
Buscando y buscando hemos encontrado un wipe que se llama PM WIPE en este
link: (http://hobbes.nmsu.edu/pub/os2/util/disk/pmwip101.zip). Ahora explicare
como se utiliza; este programa tiene una interfaz gráfica bastante amigable,
no tiene ninguna complicacion. Seleccionas los archivos y borras, el programa
no tiene más opciones que borrar; hay otro programa pero más cutre que solo
borra directorios completos, lo podras encontrar en:
(http://hobbes.nmsu.edu/pub/os2/util/disk/wiper.zip). Luego hay de pago pero
quien quiere eso ;) Bueno puedes encontrarlo en PillarSoft Suite, tiene una
coleccion de utilidades para el OS/2, entre ellas esta Data Shield, un
programa de borrado seguro de archivos.
Tranquilos que esto no se ha acabado... algunos sistemas crean un archivo swap
que es usado para emular la memoria RAM; entre ellos OS/2 y win2, aquí os
dejo un sitio donde podeis saber como se hace. Tened cuidado. ya lo dice la
advertencia, http://www.animalliberation.net/security/wipeswap.html#os2


 (((((((((((((((((((((((
 (  Espacio residual   (
 (((((((((((((((((((((((

Espacio residual es el espacio que hay entre el final de un archivo fisico y
el final del cluster asignado. Una utilidad de borrado sobreescribe el archivo
fisico, pero el espacio residual suele permanecer y dejar bits y trozos de
texto sin cifrar en el HD. Defragmentar el disco no elimina los datos
alamacenados en el espacio residual; para ello puedes utilizar un programa
que se llama BCWipe y esta en (http://www.jetico.sci.fi). Tiene también
opciones
de borrar archivos, borrar espacio libre, la swapfile famosa y la opcion de
Wipe file slacks. Esta es la opcion de  borrado del espacio residual, ademas
tiene para definir las pasadas que quieras, tambien existe la version para
linux.


- Existen formas de recuperar la información del disco mediante sofisticados
instrumentos como microscopios electrónicos de barrido o de efecto túnel.
Estos instrumentos son de gran coste y pueden ser capaces de recuperar datos
sobreescritos entre 7 y 9 veces.

-Posible Solucion: Encriptar archivos en disquete con una buena clave en otro
pc que no tenga que ver contigo ya que cabe que si usas aplicaciones el
documento tipo (editor de texto, correo electronico etc, guardan una copia
temporal del documento). Ahora puedes copiarlo a tu hd, luego quema el
disquete, y usa herramientas de borrado seguro y no uses solo una pasada.


 \\\\\\\\\\\\\\
 \ H4ck N0bL3 \
 \\\\\\\\\\\\\\                           DISIDENTS - LOS FUERA DE LA LEY 2001